{"version":3,"file":"mail.889.cd7d0e9a2bb9d65d95ff.js","mappings":"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","sources":["webpack://nextcloud-mail/./src/crypto/mailvelope.js","webpack://nextcloud-mail/./src/crypto/pgp.js","webpack://nextcloud-mail/./src/dav/client.js","webpack://nextcloud-mail/./src/service/AttachmentService.js","webpack://nextcloud-mail/./src/service/AutocompleteService.js","webpack://nextcloud-mail/./src/service/TrustedSenderService.js","webpack://nextcloud-mail/./css/mail.scss","webpack://nextcloud-mail/./css/mobile.scss","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?8eaa","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?4c15","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?fcba","webpack://nextcloud-mail/./src/components/Envelope.vue?50d8","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?c6f2","webpack://nextcloud-mail/./src/components/Error.vue?f787","webpack://nextcloud-mail/./src/components/EventModal.vue?c3ed","webpack://nextcloud-mail/./src/components/Imip.vue?9ec3","webpack://nextcloud-mail/./src/components/Loading.vue?9be1","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?2888","webpack://nextcloud-mail/./src/components/Mailbox.vue?756e","webpack://nextcloud-mail/./src/components/MailboxThread.vue?53b7","webpack://nextcloud-mail/./src/components/MdnRequest.vue?7c41","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?26c4","webpack://nextcloud-mail/./src/components/Message.vue?a0e1","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?538a","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?ce4a","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?bd94","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue?f8ee","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?da53","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?ed66","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?ada1","webpack://nextcloud-mail/./src/components/Outbox.vue?3876","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?113b","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?672e","webpack://nextcloud-mail/./src/components/SearchMessages.vue?9127","webpack://nextcloud-mail/./src/components/TagItem.vue?3413","webpack://nextcloud-mail/./src/components/TagModal.vue?0aa3","webpack://nextcloud-mail/./src/components/TaskModal.vue?7ab3","webpack://nextcloud-mail/./src/components/Thread.vue?5b83","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?faa5","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?20ae","webpack://nextcloud-mail/./src/components/imip/EventData.vue?3223","webpack://nextcloud-mail/./src/views/Home.vue?e656","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue?a576","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?e1a2","webpack://nextcloud-mail/./src/components/SectionTitle.vue?7ded","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?18c9","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?a4bc","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?9e3c","webpack://nextcloud-mail/./img/important.svg","webpack://nextcloud-mail/./src/components/Loading.vue","webpack://nextcloud-mail/src/components/Loading.vue","webpack://nextcloud-mail/./src/components/Loading.vue?8e5b","webpack://nextcloud-mail/./src/components/Loading.vue?22a1","webpack://nextcloud-mail/./src/components/Loading.vue?5a16","webpack://nextcloud-mail/./src/views/Home.vue","webpack://nextcloud-mail/./css/mail.scss?d25d","webpack://nextcloud-mail/./css/mobile.scss?d044","webpack://nextcloud-mail/src/components/SectionTitle.vue","webpack://nextcloud-mail/./src/components/SectionTitle.vue?5ecf","webpack://nextcloud-mail/./src/components/SectionTitle.vue?d28b","webpack://nextcloud-mail/./src/components/SectionTitle.vue?ed7c","webpack://nextcloud-mail/./src/components/SectionTitle.vue","webpack://nextcloud-mail/./src/directives/infinite-scroll.js","webpack://nextcloud-mail/src/components/EmptyMailbox.vue","webpack://nextcloud-mail/./src/components/EmptyMailbox.vue?c70a","webpack://nextcloud-mail/./src/components/EmptyMailbox.vue?d2e7","webpack://nextcloud-mail/./src/components/EmptyMailbox.vue","webpack://nextcloud-mail/./src/components/EnvelopeList.vue","webpack://nextcloud-mail/./src/service/AvatarService.js","webpack://nextcloud-mail/./src/components/Avatar.vue?aae1","webpack://nextcloud-mail/src/components/Avatar.vue","webpack://nextcloud-mail/./src/components/Avatar.vue?9df2","webpack://nextcloud-mail/./src/components/Avatar.vue","webpack://nextcloud-mail/./src/directives/drag-and-drop/draggable-envelope/draggable-envelope.js","webpack://nextcloud-mail/./src/directives/drag-and-drop/draggable-envelope/index.js","webpack://nextcloud-mail/./src/util/shortRelativeDatetime.js","webpack://nextcloud-mail/src/components/MoveModal.vue","webpack://nextcloud-mail/./src/components/MoveModal.vue?a92e","webpack://nextcloud-mail/./src/components/MoveModal.vue?09bf","webpack://nextcloud-mail/./src/components/MoveModal.vue","webpack://nextcloud-mail/src/components/icons/JunkIcon.vue","webpack://nextcloud-mail/./src/components/icons/JunkIcon.vue?7c0d","webpack://nextcloud-mail/./src/components/icons/JunkIcon.vue?336f","webpack://nextcloud-mail/./src/components/icons/JunkIcon.vue","webpack://nextcloud-mail/src/components/ConfirmationModal.vue","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?e0ef","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?7b84","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue?7f44","webpack://nextcloud-mail/./src/components/ConfirmationModal.vue","webpack://nextcloud-mail/./src/components/DeleteTagModal.vue?3fe7","webpack://nextcloud-mail/src/components/DeleteTagModal.vue","webpack://nextcloud-mail/./src/components/DeleteTagModal.vue?7b09","webpack://nextcloud-mail/./src/components/DeleteTagModal.vue","webpack://nextcloud-mail/./src/components/TagItem.vue?e909","webpack://nextcloud-mail/src/components/TagItem.vue","webpack://nextcloud-mail/./src/components/TagItem.vue?fa4e","webpack://nextcloud-mail/./src/components/TagItem.vue?9212","webpack://nextcloud-mail/./src/components/TagItem.vue","webpack://nextcloud-mail/./src/components/tags.js","webpack://nextcloud-mail/src/components/TagModal.vue","webpack://nextcloud-mail/./src/components/TagModal.vue?86a4","webpack://nextcloud-mail/./src/components/TagModal.vue?fa5a","webpack://nextcloud-mail/./src/components/TagModal.vue?0c0a","webpack://nextcloud-mail/./src/components/TagModal.vue","webpack://nextcloud-mail/./src/components/EventModal.vue","webpack://nextcloud-mail/./src/util/calendarColor.js","webpack://nextcloud-mail/./src/service/DAVService.js","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?59b8","webpack://nextcloud-mail/src/components/CalendarPickerOption.vue","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?0121","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue?a50f","webpack://nextcloud-mail/./src/components/CalendarPickerOption.vue","webpack://nextcloud-mail/./src/components/EventModal.vue?960c","webpack://nextcloud-mail/src/components/EventModal.vue","webpack://nextcloud-mail/./src/components/EventModal.vue?2d09","webpack://nextcloud-mail/./src/components/EventModal.vue?184b","webpack://nextcloud-mail/./src/components/TaskModal.vue","webpack://nextcloud-mail/./src/task.js","webpack://nextcloud-mail/src/components/TaskModal.vue","webpack://nextcloud-mail/./src/components/TaskModal.vue?2258","webpack://nextcloud-mail/./src/components/TaskModal.vue?8c56","webpack://nextcloud-mail/./src/components/TaskModal.vue?ab16","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue?b446","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue?f5f6","webpack://nextcloud-mail/src/components/EnvelopePrimaryActions.vue","webpack://nextcloud-mail/./src/components/EnvelopePrimaryActions.vue","webpack://nextcloud-mail/src/components/Envelope.vue","webpack://nextcloud-mail/./src/components/Envelope.vue?c494","webpack://nextcloud-mail/./src/components/Envelope.vue?ba0a","webpack://nextcloud-mail/./src/components/Envelope.vue?a12e","webpack://nextcloud-mail/./src/components/Envelope.vue","webpack://nextcloud-mail/src/components/EnvelopeList.vue","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?c34d","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?4a65","webpack://nextcloud-mail/./src/components/EnvelopeList.vue?4791","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?36f0","webpack://nextcloud-mail/src/components/LoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?6bc7","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue?e1c1","webpack://nextcloud-mail/./src/components/LoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/Error.vue","webpack://nextcloud-mail/src/components/Error.vue","webpack://nextcloud-mail/./src/components/Error.vue?8667","webpack://nextcloud-mail/./src/util/CrashReport.js","webpack://nextcloud-mail/./src/components/Error.vue?0ae7","webpack://nextcloud-mail/./src/components/Error.vue?3151","webpack://nextcloud-mail/src/components/EmptyMailboxSection.vue","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue?69bb","webpack://nextcloud-mail/./src/components/Mailbox.vue?17c6","webpack://nextcloud-mail/src/components/Mailbox.vue","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue?ffe0","webpack://nextcloud-mail/./src/components/EmptyMailboxSection.vue","webpack://nextcloud-mail/./src/components/Mailbox.vue?48d4","webpack://nextcloud-mail/./src/components/Mailbox.vue?b772","webpack://nextcloud-mail/./src/components/Mailbox.vue","webpack://nextcloud-mail/./src/components/SearchMessages.vue","webpack://nextcloud-mail/src/components/SearchMessages.vue","webpack://nextcloud-mail/./src/components/SearchMessages.vue?50bb","webpack://nextcloud-mail/./src/components/SearchMessages.vue?80f1","webpack://nextcloud-mail/./src/components/SearchMessages.vue?f119","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?efde","webpack://nextcloud-mail/src/components/NoMessageSelected.vue","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?3b6a","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue?6525","webpack://nextcloud-mail/./src/components/NoMessageSelected.vue","webpack://nextcloud-mail/./src/components/Thread.vue","webpack://nextcloud-mail/./src/service/AiIntergrationsService.js","webpack://nextcloud-mail/./src/util/ErrorMessageFactory.js","webpack://nextcloud-mail/./src/components/RecipientBubble.vue","webpack://nextcloud-mail/./src/service/ContactIntegrationService.js","webpack://nextcloud-mail/src/components/RecipientBubble.vue","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?2184","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?c9d9","webpack://nextcloud-mail/./src/components/RecipientBubble.vue?7923","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue?f1cc","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue?89ab","webpack://nextcloud-mail/src/components/MessageLoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/MessageLoadingSkeleton.vue","webpack://nextcloud-mail/./src/components/Message.vue","webpack://nextcloud-mail/src/components/itinerary/CalendarImport.vue","webpack://nextcloud-mail/./src/components/itinerary/CalendarImport.vue?68b4","webpack://nextcloud-mail/./src/components/itinerary/CalendarImport.vue?82f0","webpack://nextcloud-mail/./src/components/itinerary/CalendarImport.vue","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?0bcb","webpack://nextcloud-mail/src/components/itinerary/EventReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?7f9f","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue?125b","webpack://nextcloud-mail/./src/components/itinerary/EventReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue","webpack://nextcloud-mail/src/components/itinerary/FlightReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?63b2","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?8391","webpack://nextcloud-mail/./src/components/itinerary/FlightReservation.vue?dec4","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue","webpack://nextcloud-mail/src/components/itinerary/TrainReservation.vue","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?678e","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?553b","webpack://nextcloud-mail/./src/components/itinerary/TrainReservation.vue?1dc8","webpack://nextcloud-mail/src/components/Itinerary.vue","webpack://nextcloud-mail/./src/components/Itinerary.vue?82eb","webpack://nextcloud-mail/./src/components/Itinerary.vue?47fe","webpack://nextcloud-mail/./src/components/Itinerary.vue","webpack://nextcloud-mail/./src/components/MessageAttachments.vue","webpack://nextcloud-mail/src/components/MessageAttachment.vue","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?e33c","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?79c6","webpack://nextcloud-mail/./src/components/MessageAttachment.vue?5080","webpack://nextcloud-mail/./src/components/MessageAttachment.vue","webpack://nextcloud-mail/src/components/MessageAttachments.vue","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?3656","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?707a","webpack://nextcloud-mail/./src/components/MessageAttachments.vue?6b08","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue","webpack://nextcloud-mail/src/components/MdnRequest.vue","webpack://nextcloud-mail/./src/components/MdnRequest.vue?45ea","webpack://nextcloud-mail/./src/components/MdnRequest.vue?3190","webpack://nextcloud-mail/./src/components/MdnRequest.vue?8489","webpack://nextcloud-mail/./src/components/MdnRequest.vue","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?809c","webpack://nextcloud-mail/src/components/MessageEncryptedBody.vue","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?30ac","webpack://nextcloud-mail/./src/components/MessageEncryptedBody.vue?6dff","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue","webpack://nextcloud-mail/src/components/MessageHTMLBody.vue","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?c6f6","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?b686","webpack://nextcloud-mail/./src/components/MessageHTMLBody.vue?cab3","webpack://nextcloud-mail/src/components/MessagePlainTextBody.vue","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?67e0","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?c325","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?6e91","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue?646c","webpack://nextcloud-mail/./src/components/MessagePlainTextBody.vue","webpack://nextcloud-mail/./src/components/Imip.vue","webpack://nextcloud-mail/./src/util/eventAttendee.js","webpack://nextcloud-mail/src/components/imip/EventData.vue","webpack://nextcloud-mail/./src/components/imip/EventData.vue?e8e6","webpack://nextcloud-mail/./src/components/imip/EventData.vue?f50b","webpack://nextcloud-mail/./src/components/imip/EventData.vue?932a","webpack://nextcloud-mail/./src/components/imip/EventData.vue","webpack://nextcloud-mail/./src/util/randomId.js","webpack://nextcloud-mail/src/components/Imip.vue","webpack://nextcloud-mail/./src/components/Imip.vue?6ab1","webpack://nextcloud-mail/./src/components/Imip.vue?9fc5","webpack://nextcloud-mail/./src/components/Imip.vue?bd3b","webpack://nextcloud-mail/src/components/Message.vue","webpack://nextcloud-mail/./src/components/Message.vue?2273","webpack://nextcloud-mail/./src/components/Message.vue?bc1c","webpack://nextcloud-mail/./src/components/Message.vue?6cc5","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue","webpack://nextcloud-mail/src/components/MenuEnvelope.vue","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?f7af","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?5231","webpack://nextcloud-mail/./src/components/MenuEnvelope.vue?5c4f","webpack://nextcloud-mail/./src/components/Moment.vue?1c61","webpack://nextcloud-mail/src/components/Moment.vue","webpack://nextcloud-mail/./src/components/Moment.vue?66a3","webpack://nextcloud-mail/./src/components/Moment.vue","webpack://nextcloud-mail/src/components/ThreadEnvelope.vue","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?8921","webpack://nextcloud-mail/./src/service/ListService.js","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?5222","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue?5d66","webpack://nextcloud-mail/./src/components/ThreadEnvelope.vue","webpack://nextcloud-mail/./src/components/ThreadSummary.vue","webpack://nextcloud-mail/src/components/ThreadSummary.vue","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?4b0c","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?bf71","webpack://nextcloud-mail/./src/components/ThreadSummary.vue?8624","webpack://nextcloud-mail/./src/components/Thread.vue?553f","webpack://nextcloud-mail/src/components/Thread.vue","webpack://nextcloud-mail/./src/components/Thread.vue?29d5","webpack://nextcloud-mail/./src/components/Thread.vue?ab0c","webpack://nextcloud-mail/src/components/MailboxThread.vue","webpack://nextcloud-mail/./src/components/MailboxThread.vue?34d8","webpack://nextcloud-mail/./src/components/MailboxThread.vue?fde6","webpack://nextcloud-mail/./src/components/MailboxThread.vue?590a","webpack://nextcloud-mail/./src/components/MailboxThread.vue","webpack://nextcloud-mail/src/components/OutboxMessageContent.vue","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue?6031","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue?21dd","webpack://nextcloud-mail/./src/components/OutboxMessageContent.vue","webpack://nextcloud-mail/./src/mixins/OutboxAvatarMixin.js","webpack://nextcloud-mail/src/components/OutboxMessageListItem.vue","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?7412","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?82f4","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue?9a7b","webpack://nextcloud-mail/./src/components/OutboxMessageListItem.vue","webpack://nextcloud-mail/./src/components/Outbox.vue?ea5f","webpack://nextcloud-mail/src/components/Outbox.vue","webpack://nextcloud-mail/./src/components/Outbox.vue?1294","webpack://nextcloud-mail/./src/components/Outbox.vue?0e66","webpack://nextcloud-mail/./src/components/Outbox.vue","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue","webpack://nextcloud-mail/src/components/ComposerSessionIndicator.vue","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?6780","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?af61","webpack://nextcloud-mail/./src/components/ComposerSessionIndicator.vue?7ec6","webpack://nextcloud-mail/./src/views/Home.vue?e9a9","webpack://nextcloud-mail/src/views/Home.vue","webpack://nextcloud-mail/./src/views/Home.vue?749f","webpack://nextcloud-mail/./src/views/Home.vue?4f26"],"sourcesContent":["/*\n * @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport logger from '../logger.js'\n\nlet mailvelope\n\nconst loadMailvelopeStatically = () => window.mailvelope\n\nconst loadMailvelopeDynamically = () =>\n\tnew Promise((resolve) => {\n\t\twindow.addEventListener('mailvelope', () => resolve(window.mailvelope), false)\n\t})\n\nexport const getMailvelope = async () => {\n\tif (mailvelope) {\n\t\treturn mailvelope\n\t}\n\n\tmailvelope = loadMailvelopeStatically()\n\tif (mailvelope) {\n\t\tlogger.debug('mailvelope found statically')\n\t\treturn mailvelope\n\t}\n\n\tlogger.debug('loading mailvelope dynamically')\n\tmailvelope = await loadMailvelopeDynamically()\n\tlogger.debug('mailvelope found dynamically')\n\treturn mailvelope\n}\n","/**\n * @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/**\n * @param {Text} message the message\n * @return {boolean|*}\n */\nexport const isPgpgMessage = (message) =>\n\tmessage.format === 'plain' && message.value.startsWith('-----BEGIN PGP MESSAGE-----')\n\nexport function isPgpText(text) {\n\treturn text.startsWith('-----BEGIN PGP MESSAGE-----')\n}\n","/*\n * @copyright 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2021 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport * as webdav from 'webdav'\nimport axios from '@nextcloud/axios'\nimport memoize from 'lodash/fp/memoize'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport const getClient = memoize((service) => {\n\t// Add this so the server knows it is an request from the browser\n\taxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\n\n\t// force our axios\n\tconst patcher = webdav.getPatcher()\n\tpatcher.patch('request', axios)\n\n\treturn webdav.createClient(\n\t\tgenerateRemoteUrl(`dav/${service}/${getCurrentUser().uid}`)\n\t)\n})\n","/*\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport function saveAttachmentToFiles(id, attachmentId, directory) {\n\tconst url = generateUrl(\n\t\t'/apps/mail/api/messages/{id}/attachment/{attachmentId}',\n\t\t{\n\t\t\tid,\n\t\t\tattachmentId,\n\t\t}\n\t)\n\n\treturn Axios.post(url, {\n\t\ttargetPath: directory,\n\t})\n}\n\nexport function saveAttachmentsToFiles(id, directory) {\n\t// attachmentId = 0 means 'all attachments' (see MessageController.php::saveAttachement)\n\treturn saveAttachmentToFiles(id, 0, directory)\n}\n\nexport function downloadAttachment(url) {\n\treturn Axios.get(url).then((res) => res.data)\n}\n\nexport const uploadLocalAttachment = (file, progress, controller) => {\n\tconst url = generateUrl('/apps/mail/api/attachments')\n\tconst data = new FormData()\n\tconst opts = {\n\t\tonUploadProgress: (prog) => progress(prog, prog.loaded, prog.total),\n\t}\n\tif (controller) {\n\t\topts.signal = controller.signal\n\t}\n\tdata.append('attachment', file)\n\n\treturn Axios.post(url, data, opts)\n\t\t.then((resp) => resp.data)\n\t\t.then(({ id }) => {\n\t\t\treturn {\n\t\t\t\tfile,\n\t\t\t\tid,\n\t\t\t}\n\t\t})\n}\n","/*\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport const findRecipient = (term) => {\n\tconst url = generateUrl('/apps/mail/api/autoComplete?term={term}', {\n\t\tterm,\n\t})\n\n\treturn Axios.get(url).then((resp) => resp.data)\n}\n","import { generateUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\n\nexport async function trustSender(email, type, trustFlag) {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders/{email}?type={type}', {\n\t\temail,\n\t\ttype,\n\t})\n\n\tif (trustFlag) {\n\t\tawait axios.put(url)\n\t} else {\n\t\tawait axios.delete(url)\n\t}\n}\nexport async function fetchTrustedSenders() {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders')\n\tconst response = await axios.get(url)\n\treturn response.data.data\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.loading{position:absolute;left:50%;top:50%}.emptycontent{margin-top:24px;margin-bottom:10px;position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.container{position:relative;width:100%;height:100%}.folders .ui-droppable-active{background-color:#f0f0f0}.folder.no-select{cursor:not-allowed}#account-form{z-index:1001;width:250px;top:15%;padding-bottom:50px;margin:0 auto;padding-top:30px}#mail-settings #account-form{margin:0;padding-top:0}@media only screen and (max-height: 400px){#account-form #emptycontent{margin-top:0px}}@media only screen and (min-height: 401px)and (max-height: 600px){#account-form #emptycontent{margin-top:2vh}}@media only screen and (min-height: 601px){#account-form #emptycontent{margin-top:10vh}}#account-form h2{text-align:center;position:relative;width:300%;left:-100%;margin-bottom:20px}#account-form input{width:100%;box-sizing:border-box}#account-form .toggle-manual-mode{background-position:right;padding-right:16px;margin-left:6px;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";opacity:.3}#setup-imap-ssl-mode,#setup-smtp-ssl-mode{position:absolute;top:0;right:0;margin:0;background-color:rgba(0,0,0,0);border:none;z-index:100}#connect-loading{position:absolute;top:206px;left:0;right:0;margin-left:auto;margin-right:auto;height:30px}.app-navigation .empty{display:none}.app-navigation .navigation-account:not(:first-child){margin-top:22px}.app-navigation .special-inbox .collapse,.app-navigation .special-drafts .collapse,.app-navigation .special-sent .collapse,.app-navigation .special-trash .collapse{display:none !important}.app-navigation .special-inbox:hover .collapse,.app-navigation .special-inbox:focus .collapse,.app-navigation .special-drafts:hover .collapse,.app-navigation .special-drafts:focus .collapse,.app-navigation .special-sent:hover .collapse,.app-navigation .special-sent:focus .collapse,.app-navigation .special-trash:hover .collapse,.app-navigation .special-trash:focus .collapse{display:inline-block !important}#accounts-list li.collapse-folders a{color:var(--color-text-maxcontrast)}#emptycontent,#mail-messages #emptycontent.emptycontent-search{position:static}#mail-messages #emptycontent.emptycontent-search h2{line-height:150%}#mail-messages #emptycontent{position:absolute}.mail-account-email{display:inline-block;opacity:.5;padding:20px 0 10px 25px;width:calc(100% - 50px);margin:initial;font-size:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mail-account-email:first-child{display:none}.account-toggle-collapse{opacity:.5}.mailaccount-list li{padding:10px 0}.mailaccount-list .mail-account-name{display:inline-block;width:90%;overflow:hidden;text-overflow:ellipsis}.mailaccount-list .actions{display:inline-flex;position:absolute;right:0;min-height:16px;min-width:16px;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";opacity:.25}.mailaccount-list .actions:hover,.mailaccount-list .actions:focus{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";opacity:.5}#mail-messages{position:relative;width:30%;height:100%;overflow-x:hidden;overflow-y:auto;border-right:1px solid var(--color-border)}#mail-message-list-loading{position:sticky;height:40px;z-index:1;background:-moz-radial-gradient(top, ellipse cover, var(--color-main-background), rgba(255, 255, 255, 0) 70%);background:-webkit-radial-gradient(top, ellipse cover, var(--color-main-background), rgba(255, 255, 255, 0) 70%);background:radial-gradient(ellipse at top, var(--color-main-background), rgba(255, 255, 255, 0) 70%)}.app-navigation .msg.success{color:#fff;background-color:var(--color-success);padding:3px}.app-navigation .msg.error{color:#fff;background-color:var(--color-error);padding:3px}.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete{margin:0px;font-weight:normal !important;display:flex;align-content:center;align-items:center;border:none}.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete span{margin-left:10px}.ui-autocomplete{padding-left:16px !important;border-radius:0 !important;border-left:none;border-right:none;z-index:1000}.icon-starred[data-starred=false]:hover{background-image:var(--icon-star-dark-fc0) !important}.icon-starred[data-starred=false]:not(:hover){background-image:var(--icon-star-000) !important}.unread{font-weight:bold}.unread ul{font-weight:normal}.star{padding:20px;background-size:16px;display:inline-block;position:absolute;left:16px;top:28px;z-index:10}.star.icon-star{display:none;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";opacity:.3}.star.icon-star:hover,.star.icon-star:focus{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";opacity:1}.icon-add{display:inline-block;vertical-align:text-top}.transparency{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";opacity:.6}.compose{width:60%;margin:0 auto}.mailaccount-list .mail-account-name{display:inline-block;width:90%;overflow:hidden;text-overflow:ellipsis}.mailaccount-list .actions{opacity:.5}.app-navigation>ul>.navigation-account>li,.app-navigation>ul>.navigation-account>.folders>li,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li{display:inline-flex;flex-wrap:wrap;order:1;flex-shrink:0}.app-navigation>ul>.navigation-account>li.pinned,.app-navigation>ul>.navigation-account>.folders>li.pinned,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.pinned{order:2}.app-navigation>ul>.navigation-account>li.pinned.first-pinned,.app-navigation>ul>.navigation-account>.folders>li.pinned.first-pinned,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.pinned.first-pinned{margin-top:auto !important}.app-navigation>ul>.navigation-account>li>a,.app-navigation>ul>.navigation-account>li>.app-navigation-entry-deleted,.app-navigation>ul>.navigation-account>.folders>li>a,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-deleted,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-deleted{padding-left:44px !important}.app-navigation>ul>.navigation-account>li>.app-navigation-entry-edit,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-edit,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-edit{padding-left:38px !important}.app-navigation>ul>.navigation-account>li:focus,.app-navigation>ul>.navigation-account>li:focus>a,.app-navigation>ul>.navigation-account>li:hover,.app-navigation>ul>.navigation-account>li:hover>a,.app-navigation>ul>.navigation-account>li.active,.app-navigation>ul>.navigation-account>li.active>a,.app-navigation>ul>.navigation-account>li a.selected,.app-navigation>ul>.navigation-account>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li:focus,.app-navigation>ul>.navigation-account>.folders>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li:hover,.app-navigation>ul>.navigation-account>.folders>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li.active,.app-navigation>ul>.navigation-account>.folders>li.active>a,.app-navigation>ul>.navigation-account>.folders>li a.selected,.app-navigation>ul>.navigation-account>.folders>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:focus,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:hover,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.active,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.active>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li a.selected,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li a.selected>a{opacity:1;box-shadow:inset 2px 0 var(--color-primary-element)}.app-navigation>ul>.navigation-account>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.icon-loading-small:after{left:22px;top:22px}.app-navigation>ul>.navigation-account>li.deleted>ul,.app-navigation>ul>.navigation-account>li.deleted>.folders,.app-navigation>ul>.navigation-account>li.collapsible:not(.open)>ul,.app-navigation>ul>.navigation-account>li.collapsible:not(.open)>.folders,.app-navigation>ul>.navigation-account>.folders>li.deleted>ul,.app-navigation>ul>.navigation-account>.folders>li.deleted>.folders,.app-navigation>ul>.navigation-account>.folders>li.collapsible:not(.open)>ul,.app-navigation>ul>.navigation-account>.folders>li.collapsible:not(.open)>.folders,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.deleted>ul,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.deleted>.folders,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.collapsible:not(.open)>ul,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.collapsible:not(.open)>.folders{opacity:0;max-height:0;transition:max-height 1000ms cubic-bezier(0, 1, 0, 1),opacity 250ms ease-in-out}.app-navigation>ul>.navigation-account>li>ul,.app-navigation>ul>.navigation-account>.folders>li>ul,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul{flex:1 0 100%;padding-left:62px;width:inherit;transition:max-height 2000ms ease-in-out,opacity 250ms ease-in-out;max-height:9999px;opacity:1}.app-navigation>ul>.navigation-account>li>ul>li,.app-navigation>ul>.navigation-account>.folders>li>ul>li,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li{display:inline-flex;flex-wrap:wrap}.app-navigation>ul>.navigation-account>li>ul>li:focus,.app-navigation>ul>.navigation-account>li>ul>li:focus>a,.app-navigation>ul>.navigation-account>li>ul>li:hover,.app-navigation>ul>.navigation-account>li>ul>li:hover>a,.app-navigation>ul>.navigation-account>li>ul>li.active,.app-navigation>ul>.navigation-account>li>ul>li.active>a,.app-navigation>ul>.navigation-account>li>ul>li a.selected,.app-navigation>ul>.navigation-account>li>ul>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li:focus,.app-navigation>ul>.navigation-account>.folders>li>ul>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li:hover,.app-navigation>ul>.navigation-account>.folders>li>ul>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li.active,.app-navigation>ul>.navigation-account>.folders>li>ul>li.active>a,.app-navigation>ul>.navigation-account>.folders>li>ul>li a.selected,.app-navigation>ul>.navigation-account>.folders>li>ul>li a.selected>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:focus,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:focus>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:hover,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li:hover>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li.active,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li.active>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li a.selected,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li a.selected>a{opacity:1}.app-navigation>ul>.navigation-account>li>ul>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li>ul>li.icon-loading-small:after,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li.icon-loading-small:after{left:-10px}.app-navigation>ul>.navigation-account>li>ul>li>a[class*=icon-],.app-navigation>ul>.navigation-account>li>ul>li>a[style*=background-image],.app-navigation>ul>.navigation-account>li>ul>li .app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>ul>li>a[class*=icon-],.app-navigation>ul>.navigation-account>.folders>li>ul>li>a[style*=background-image],.app-navigation>ul>.navigation-account>.folders>li>ul>li .app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li>a[class*=icon-],.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li>a[style*=background-image],.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li .app-navigation-entry-bullet{margin-left:-32px}.app-navigation>ul>.navigation-account>li>ul>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>ul>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>ul>li>.app-navigation-entry-bullet{left:-32px}.app-navigation>ul>.navigation-account>li,.app-navigation>ul>.navigation-account>.folders>li,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li{position:relative;width:100%;box-sizing:border-box}.app-navigation>ul>.navigation-account>li.icon-loading-small>a,.app-navigation>ul>.navigation-account>li.icon-loading-small>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li.icon-loading-small>a,.app-navigation>ul>.navigation-account>.folders>li.icon-loading-small>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.icon-loading-small>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li.icon-loading-small>.app-navigation-entry-bullet{background:none !important}.app-navigation>ul>.navigation-account>li>a,.app-navigation>ul>.navigation-account>.folders>li>a,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>a{background-size:16px 16px;background-position:14px center;background-repeat:no-repeat;display:block;justify-content:space-between;line-height:44px;min-height:44px;padding:0 12px;overflow:hidden;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;color:var(--color-main-text);opacity:.57;flex:1 1 0;z-index:100}.app-navigation>ul>.navigation-account>li>a:first-child img,.app-navigation>ul>.navigation-account>.folders>li>a:first-child img,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>a:first-child img{margin-right:11px;width:16px;margin-left:-30px}.app-navigation>ul>.navigation-account>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-bullet,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-bullet{position:absolute;display:block;margin:16px;width:12px;height:12px;border:none;border-radius:50%;cursor:pointer}.app-navigation>ul>.navigation-account>li>.app-navigation-entry-menu,.app-navigation>ul>.navigation-account>.folders>li>.app-navigation-entry-menu,.app-navigation>ul>.navigation-account>.folders>li>.folders>.folders>li>.app-navigation-entry-menu{top:44px}.app-navigation .collapsible>.collapse{z-index:500}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/mail.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".loading {\\n\\tposition: absolute;\\n\\tleft: 50%;\\n\\ttop: 50%;\\n}\\n\\n.emptycontent {\\n\\tmargin-top: 24px;\\n\\tmargin-bottom: 10px;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tbottom: 0;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n.container {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n\\n.folders .ui-droppable-active {\\n\\tbackground-color: rgb(240, 240, 240);\\n}\\n\\n.folder.no-select {\\n\\tcursor: not-allowed;\\n}\\n\\n/* ACCOUNT FORM */\\n#account-form {\\n\\tz-index: 1001;\\n\\twidth: 250px;\\n\\ttop: 15%;\\n\\tpadding-bottom: 50px;\\n\\tmargin: 0 auto;\\n\\tpadding-top: 30px;\\n}\\n#mail-settings {\\n\\t#account-form {\\n\\t\\tmargin: 0;\\n\\t\\tpadding-top: 0;\\n\\t}\\n}\\n@media only screen and (max-height: 400px) {\\n\\t#account-form #emptycontent {\\n\\t\\tmargin-top: 0px;\\n\\t}\\n}\\n@media only screen and (min-height: 401px) and (max-height: 600px) {\\n\\t#account-form #emptycontent {\\n\\t\\tmargin-top: 2vh;\\n\\t}\\n}\\n@media only screen and (min-height: 601px) {\\n\\t#account-form #emptycontent {\\n\\t\\tmargin-top: 10vh;\\n\\t}\\n}\\n#account-form h2 {\\n\\ttext-align: center;\\n\\tposition: relative;\\n\\twidth: 300%;\\n\\tleft: -100%;\\n\\tmargin-bottom: 20px;\\n}\\n#account-form input {\\n\\twidth: 100%;\\n\\tbox-sizing: border-box;\\n}\\n\\n#account-form .toggle-manual-mode {\\n\\tbackground-position: right;\\n\\tpadding-right: 16px;\\n\\tmargin-left: 6px;\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\\\";\\n\\topacity: .3;\\n}\\n\\n#setup-imap-ssl-mode,\\n#setup-smtp-ssl-mode {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tright: 0;\\n\\tmargin: 0;\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tz-index: 100;\\n}\\n\\n#connect-loading {\\n\\tposition: absolute;\\n\\ttop: 206px;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tmargin-left: auto;\\n\\tmargin-right: auto;\\n\\theight: 30px;\\n}\\n\\n/* app navigation */\\n\\n/* do not display empty folders in the sidebar */\\n.app-navigation .empty {\\n\\tdisplay: none;\\n}\\n\\n.app-navigation .navigation-account:not(:first-child) {\\n    margin-top: 22px;\\n}\\n\\n\\n/* do not overlap collapse icon with special use icon */\\n.app-navigation .special-inbox .collapse,\\n.app-navigation .special-drafts .collapse,\\n.app-navigation .special-sent .collapse,\\n.app-navigation .special-trash .collapse {\\n\\tdisplay: none !important;\\n}\\n.app-navigation .special-inbox:hover .collapse,\\n.app-navigation .special-inbox:focus .collapse,\\n.app-navigation .special-drafts:hover .collapse,\\n.app-navigation .special-drafts:focus .collapse,\\n.app-navigation .special-sent:hover .collapse,\\n.app-navigation .special-sent:focus .collapse,\\n.app-navigation .special-trash:hover .collapse,\\n.app-navigation .special-trash:focus .collapse {\\n\\tdisplay: inline-block !important;\\n}\\n\\n#accounts-list li.collapse-folders a {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\\n#emptycontent,\\n#mail-messages #emptycontent.emptycontent-search {\\n\\tposition: static;\\n}\\n#mail-messages #emptycontent.emptycontent-search h2 {\\n\\tline-height: 150%;\\n}\\n#mail-messages #emptycontent {\\n\\tposition: absolute;\\n}\\n\\n.mail-account-email {\\n\\tdisplay: inline-block;\\n\\topacity: .5;\\n\\tpadding: 20px 0 10px 25px;\\n\\twidth: calc(100% - 50px);\\n\\tmargin: initial;\\n\\tfont-size: 100%;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\twhite-space: nowrap;\\n}\\n.mail-account-email:first-child {\\n\\tdisplay: none;\\n}\\n\\n.account-toggle-collapse {\\n\\topacity: .5;\\n}\\n\\n\\n/* settings */\\n\\n.mailaccount-list li {\\n\\tpadding: 10px 0;\\n}\\n.mailaccount-list .mail-account-name {\\n\\tdisplay: inline-block;\\n\\twidth: 90%;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n.mailaccount-list .actions {\\n\\tdisplay: inline-flex;\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tmin-height: 16px;\\n\\tmin-width: 16px;\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\\\";\\n\\topacity: .25;\\n}\\n.mailaccount-list .actions:hover,\\n.mailaccount-list .actions:focus {\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\\\";\\n\\topacity: .5;\\n}\\n\\n\\n/* app content*/\\n\\n#mail-messages {\\n\\tposition: relative;\\n\\twidth: 30%;\\n\\theight: 100%;\\n\\toverflow-x: hidden;\\n\\toverflow-y: auto;\\n\\tborder-right: 1px solid var(--color-border);\\n}\\n#mail-message-list-loading {\\n\\tposition: sticky;\\n\\theight: 40px;\\n\\tz-index: 1;\\n\\tbackground: -moz-radial-gradient(top, ellipse cover, var(--color-main-background), rgba(255,255,255,0) 70%);\\n\\tbackground: -webkit-radial-gradient(top, ellipse cover, var(--color-main-background),rgba(255,255,255,0) 70%);\\n\\tbackground: radial-gradient(ellipse at top, var(--color-main-background),rgba(255,255,255,0) 70%);\\n}\\n\\n.app-navigation .msg.success {\\n\\tcolor: #fff;\\n\\tbackground-color: var(--color-success);\\n\\tpadding: 3px;\\n}\\n.app-navigation .msg.error {\\n\\tcolor: #fff;\\n\\tbackground-color: var(--color-error);\\n\\tpadding: 3px;\\n}\\n\\n/* autocomplete list */\\n.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete {\\n\\tmargin: 0px;\\n\\tfont-weight: normal !important;\\n\\tdisplay: flex;\\n\\talign-content: center;\\n\\talign-items: center;\\n\\tborder: none;\\n}\\n.ui-autocomplete .ui-menu-item a.mail-recipient-autocomplete span {\\n\\tmargin-left: 10px;\\n}\\n.ui-autocomplete {\\n\\tpadding-left: 16px !important;\\n\\tborder-radius: 0 !important;\\n\\tborder-left: none;\\n\\tborder-right: none;\\n\\tz-index: 1000;\\n}\\n\\n.icon-starred[data-starred=\\\"false\\\"]:hover {\\n\\tbackground-image: var(--icon-star-dark-fc0) !important;\\n}\\n.icon-starred[data-starred=\\\"false\\\"]:not(:hover) {\\n\\tbackground-image: var(--icon-star-000) !important;\\n}\\n\\n.unread {\\n\\tfont-weight: bold;\\n}\\n/* make sure subfolders of unread folders are not bolded as well */\\n.unread ul {\\n\\tfont-weight: normal;\\n}\\n\\n.star {\\n\\tpadding: 20px;\\n\\tbackground-size: 16px;\\n\\tdisplay: inline-block;\\n\\tposition: absolute;\\n\\tleft: 16px;\\n\\ttop: 28px;\\n\\tz-index: 10;\\n}\\n/* only show star on hover of row */\\n.star.icon-star {\\n\\tdisplay: none;\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\\\";\\n\\topacity: .3;\\n}\\n.star.icon-star:hover,\\n.star.icon-star:focus {\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\\\";\\n\\topacity: 1;\\n}\\n\\n.icon-add {\\n\\tdisplay: inline-block;\\n\\tvertical-align: text-top;\\n}\\n\\n.transparency {\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\\\";\\n\\topacity: .6;\\n}\\n\\n\\n/* compose (handling mailto links) */\\n\\n.compose {\\n\\twidth: 60%;\\n\\tmargin: 0 auto;\\n}\\n\\n/* settings */\\n.mailaccount-list .mail-account-name {\\n\\tdisplay: inline-block;\\n\\twidth: 90%;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n.mailaccount-list .actions {\\n\\topacity: .5;\\n}\\n\\n// FIXES for core apps.scss\\n\\n.app-navigation {\\n\\t> ul {\\n\\t\\t> .navigation-account > li,\\n\\t\\t> .navigation-account > .folders > li,\\n\\t\\t> .navigation-account > .folders > li > .folders > .folders > li {\\n\\t\\t\\tdisplay: inline-flex;\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\torder: 1;\\n\\t\\t\\tflex-shrink: 0;\\n\\n\\t\\t\\t/* Pinned-to-bottom entries */\\n\\t\\t\\t&.pinned {\\n\\t\\t\\t\\torder: 2;\\n\\t\\t\\t\\t&.first-pinned {\\n\\t\\t\\t\\t\\tmargin-top: auto !important;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t> a,\\n\\t\\t\\t> .app-navigation-entry-deleted {\\n\\t\\t\\t\\t/* Ugly hack for overriding the main entry link */\\n\\t\\t\\t\\tpadding-left: 44px !important;\\n\\t\\t\\t}\\n\\t\\t\\t> .app-navigation-entry-edit {\\n\\t\\t\\t\\t/* Ugly hack for overriding the main entry link */\\n\\t\\t\\t\\t/* align the input correctly with the link text\\n\\t\\t\\t\\t   44px-6px padding for the input */\\n\\t\\t\\t\\tpadding-left: 38px !important;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:focus,\\n\\t\\t\\t&:hover,\\n\\t\\t\\t&.active,\\n\\t\\t\\ta.selected {\\n\\t\\t\\t\\t&,\\n\\t\\t\\t\\t> a {\\n\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t\\tbox-shadow: inset 2px 0 var(--color-primary-element);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* align loader */\\n\\t\\t\\t&.icon-loading-small:after {\\n\\t\\t\\t\\tleft: 22px;\\n\\t\\t\\t\\ttop: 22px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* hide and animate deletion/collapse of subitems */\\n\\t\\t\\t&.deleted,\\n\\t\\t\\t&.collapsible:not(.open) {\\n\\t\\t\\t\\t> ul,\\n\\t\\t\\t\\t> .folders {\\n\\t\\t\\t\\t\\topacity: 0;\\n\\t\\t\\t\\t\\tmax-height: 0;\\n\\t\\t\\t\\t\\t/* bezier override the hide/slow effect due to the 2000 max-height */\\n\\t\\t\\t\\t\\ttransition: max-height 1000ms cubic-bezier(0, 1, 0, 1),\\n\\t\\t\\t\\t\\t\\t\\t\\topacity 250ms ease-in-out;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Second level nesting for lists */\\n\\t\\t\\t> ul {\\n\\t\\t\\t\\tflex: 1 0 100%;\\n\\t\\t\\t\\tpadding-left: 62px;\\n\\t\\t\\t\\twidth: inherit;\\n\\t\\t\\t\\ttransition: max-height 2000ms ease-in-out,\\n\\t\\t\\t\\t\\t\\t\\topacity 250ms ease-in-out;\\n\\t\\t\\t\\tmax-height: 9999px;\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t> li {\\n\\t\\t\\t\\t\\tdisplay: inline-flex;\\n\\t\\t\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\t\\t\\t&:focus,\\n\\t\\t\\t\\t\\t&:hover,\\n\\t\\t\\t\\t\\t&.active,\\n\\t\\t\\t\\t\\ta.selected {\\n\\t\\t\\t\\t\\t\\t&,\\n\\t\\t\\t\\t\\t\\t> a {\\n\\t\\t\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t/* align loader */\\n\\t\\t\\t\\t\\t&.icon-loading-small:after {\\n\\t\\t\\t\\t\\t\\tleft: -10px;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t/* Submenu fix for icon */\\n\\t\\t\\t\\t\\t> a[class*='icon-'],\\n\\t\\t\\t\\t\\t> a[style*='background-image'],\\n\\t\\t\\t\\t\\t.app-navigation-entry-bullet {\\n\\t\\t\\t\\t\\t\\tmargin-left: -32px; /* 44px padding - 12px padding */\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t/* Submenu fix for bullet */\\n\\t\\t\\t\\t\\t> .app-navigation-entry-bullet {\\n\\t\\t\\t\\t\\t\\tleft: -32px;/* 44px padding - 12px padding */\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t/* Menu and submenu */\\n\\t\\t> .navigation-account > li,\\n\\t\\t> .navigation-account > .folders > li,\\n\\t\\t> .navigation-account > .folders > li > .folders > .folders > li {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tbox-sizing: border-box;\\n\\t\\t\\t/* hide icons if loading */\\n\\t\\t\\t&.icon-loading-small {\\n\\t\\t\\t\\t> a,\\n\\t\\t\\t\\t> .app-navigation-entry-bullet {\\n\\t\\t\\t\\t\\tbackground: none !important;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t/* Main entry link */\\n\\t\\t\\t> a {\\n\\t\\t\\t\\tbackground-size: 16px 16px;\\n\\t\\t\\t\\tbackground-position: 14px center;\\n\\t\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\t\\tline-height: 44px;\\n\\t\\t\\t\\tmin-height: 44px;\\n\\t\\t\\t\\tpadding: 0 12px;\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tbox-sizing: border-box;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t\\tcolor: var(--color-main-text);\\n\\t\\t\\t\\topacity: .57;\\n\\t\\t\\t\\tflex: 1 1 0;\\n\\t\\t\\t\\tz-index: 100; /* above the bullet */\\n\\t\\t\\t\\t/* TODO: forbid using img as icon in menu? */\\n\\t\\t\\t\\t&:first-child img {\\n\\t\\t\\t\\t    margin-right: 11px;\\n\\t\\t\\t\\t    width: 16px;\\n\\t\\t\\t\\t    margin-left: -30px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Bullet icon */\\n\\t\\t\\t> .app-navigation-entry-bullet {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\tmargin: 16px;\\n\\t\\t\\t\\twidth: 12px;\\n\\t\\t\\t\\theight: 12px;\\n\\t\\t\\t\\tborder: none;\\n\\t\\t\\t\\tborder-radius: 50%;\\n\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* popover fix the flex positionning of the li parent */\\n\\t\\t\\t> .app-navigation-entry-menu {\\n\\t\\t\\t\\ttop: 44px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t.collapsible > .collapse {\\n\\t\\tz-index: 500;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@media only screen and (max-width: var(--breakpoint-mobile)){.app-content-list{max-width:100vw}#mail-messages{width:100%}#mail-message-list-loading{width:100%}#mail-message{z-index:100;background:var(--color-main-background);width:100%;left:0;top:0}#mail-message-close{display:block;position:fixed;right:0;top:45px;width:44px;height:44px;background-size:24px;z-index:101;cursor:pointer;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";opacity:.4}#mail-message-close:hover,#mail-message-close:focus{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";opacity:.6}.hidden-mobile{display:none}textarea.message-body{padding-right:12px}#mail-thread-header .mail-message-actions{margin-right:5px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/mobile.scss\"],\"names\":[],\"mappings\":\"AAAA,6DACC,kBACC,eAAA,CAID,eACC,UAAA,CAID,2BACC,UAAA,CAID,cACC,WAAA,CACA,uCAAA,CACA,UAAA,CACA,MAAA,CACA,KAAA,CAGD,oBACC,aAAA,CACA,cAAA,CACA,OAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CACA,oBAAA,CACA,WAAA,CACA,cAAA,CACA,gEAAA,CACA,UAAA,CAED,oDAEC,gEAAA,CACA,UAAA,CAGD,eACC,YAAA,CAGD,sBACC,kBAAA,CAID,0CACC,gBAAA,CAAA\",\"sourcesContent\":[\"@media only screen and (max-width: var(--breakpoint-mobile)) {\\n\\t.app-content-list {\\n\\t\\tmax-width: 100vw;\\n\\t}\\n\\n\\t/* full width for message list on mobile */\\n\\t#mail-messages {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t/* correctly center loading icon on mobile */\\n\\t#mail-message-list-loading {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t/* overlay message detail on top of message list */\\n\\t#mail-message {\\n\\t\\tz-index: 100;\\n\\t\\tbackground: var(--color-main-background);\\n\\t\\twidth: 100%;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t}\\n\\n\\t#mail-message-close {\\n\\t\\tdisplay: block;\\n\\t\\tposition: fixed;\\n\\t\\tright: 0;\\n\\t\\ttop: 45px;\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tbackground-size: 24px;\\n\\t\\tz-index: 101;\\n\\t\\tcursor: pointer;\\n\\t\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=40)';\\n\\t\\topacity: 0.4;\\n\\t}\\n\\t#mail-message-close:hover,\\n\\t#mail-message-close:focus {\\n\\t\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';\\n\\t\\topacity: 0.6;\\n\\t}\\n\\n\\t.hidden-mobile {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\ttextarea.message-body {\\n\\t\\tpadding-right: 12px;\\n\\t}\\n\\n\\t/* reply-forward actions align to the far right */\\n\\t#mail-thread-header .mail-message-actions {\\n\\t\\tmargin-right: 5px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.calendar-picker-option[data-v-9bd234a6]{width:100%;display:flex;align-items:center}.calendar-picker-option__color-indicator[data-v-9bd234a6]{width:12px;height:12px;border-radius:50%;border:none;margin-right:8px;flex-basis:12px;flex-shrink:0}.calendar-picker-option__label[data-v-9bd234a6]{overflow:hidden;text-overflow:ellipsis;flex-grow:1;max-width:80px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/CalendarPickerOption.vue\"],\"names\":[],\"mappings\":\"AACA,yCACC,UAAA,CACA,YAAA,CACA,kBAAA,CAEA,0DACC,UAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,gBAAA,CACA,eAAA,CACA,aAAA,CAGD,gDACC,eAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA\",\"sourcesContent\":[\"\\n.calendar-picker-option {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\n\\t&__color-indicator {\\n\\t\\twidth: 12px;\\n\\t\\theight: 12px;\\n\\t\\tborder-radius: 50%;\\n\\t\\tborder: none;\\n\\t\\tmargin-right: 8px;\\n\\t\\tflex-basis: 12px;\\n\\t\\tflex-shrink: 0;\\n\\t}\\n\\n\\t&__label {\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\tflex-grow: 1;\\n\\t\\tmax-width: 80px;\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.composer-session[data-v-05fad905]{position:fixed;bottom:calc(var(--body-container-margin) + var(--default-grid-baseline));right:calc(var(--body-container-margin) + var(--default-grid-baseline));z-index:1000;display:flex;align-items:center;gap:5px;width:360px;padding:0 8px;height:calc(var(--body-container-radius)*2);border-radius:var(--body-container-radius);background-color:var(--color-primary-element-light)}@media(max-width: 1024px){.composer-session[data-v-05fad905]{width:calc(100% - 2*var(--default-grid-baseline));height:44px;border-radius:var(--border-radius-pill)}}.composer-session[data-v-05fad905]:not(.composer-session--disabled):hover{background-color:var(--color-primary-element-light-hover)}.composer-session[data-v-05fad905]:not(.composer-session--disabled),.composer-session:not(.composer-session--disabled) *[data-v-05fad905]{cursor:pointer}.composer-session__icon[data-v-05fad905]{width:44px}.composer-session__text[data-v-05fad905]{flex:1 auto;font-weight:bold;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.composer-session__actions[data-v-05fad905]{flex-shrink:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ComposerSessionIndicator.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,cAAA,CACA,wEAAA,CACA,uEAAA,CACA,YAAA,CAEA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,WAAA,CACA,aAAA,CAGA,2CAAA,CACA,0CAAA,CAYA,mDAAA,CAPA,0BApBD,mCAqBE,iDAAA,CACA,WAAA,CACA,uCAAA,CAAA,CAMA,0EACC,yDAAA,CAGD,0IACC,cAAA,CAIF,yCACC,UAAA,CAGD,yCACC,WAAA,CACA,gBAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CAGD,4CACC,aAAA\",\"sourcesContent\":[\"\\n.composer-session {\\n\\tposition: fixed;\\n\\tbottom: calc(var(--body-container-margin) + var(--default-grid-baseline));\\n\\tright: calc(var(--body-container-margin) + var(--default-grid-baseline));\\n\\tz-index: 1000;\\n\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 5px;\\n\\n\\twidth: 360px;\\n\\tpadding: 0 8px;\\n\\n\\t// Retain border radius from outer body container for visual consistency\\n\\theight: calc(var(--body-container-radius) * 2);\\n\\tborder-radius: var(--body-container-radius);\\n\\t//height: 44px;\\n\\t//border-radius: var(--border-radius-pill);\\n\\n\\t// Mobile\\n\\t@media (max-width: 1024px) {\\n\\t\\twidth: calc(100% - 2 * var(--default-grid-baseline));\\n\\t\\theight: 44px;\\n\\t\\tborder-radius: var(--border-radius-pill);\\n\\t}\\n\\n\\t// Conditional hover and pointer styles\\n\\tbackground-color: var(--color-primary-element-light);\\n\\t&:not(&--disabled) {\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-primary-element-light-hover);\\n\\t\\t}\\n\\n\\t\\t&, * {\\n\\t\\t\\tcursor: pointer;\\n\\t\\t}\\n\\t}\\n\\n\\t&__icon {\\n\\t\\twidth: 44px;\\n\\t}\\n\\n\\t&__text {\\n\\t\\tflex: 1 auto;\\n\\t\\tfont-weight: bold;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\n\\t&__actions {\\n\\t\\tflex-shrink: 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.confirm-modal[data-v-652d02fc]{padding:20px}.confirm-modal__buttons[data-v-652d02fc]{display:flex;justify-content:space-between}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ConfirmationModal.vue\"],\"names\":[],\"mappings\":\"AACA,gCACC,YAAA,CAEA,yCACC,YAAA,CACA,6BAAA\",\"sourcesContent\":[\"\\n.confirm-modal {\\n\\tpadding: 20px;\\n\\n\\t&__buttons {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mail-message-account-color[data-v-fc40dd88]{position:absolute;left:0px;width:2px;height:69px;z-index:1}.envelope .app-content-list-item-icon[data-v-fc40dd88]{height:40px}.envelope__subtitle[data-v-fc40dd88]{display:flex;gap:4px}.envelope__subtitle__subject[data-v-fc40dd88]{color:var(--color-main-text);line-height:130%;overflow:hidden;text-overflow:ellipsis}.envelope__preview-text[data-v-fc40dd88]{color:var(--color-text-maxcontrast);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:initial}.icon-important[data-v-fc40dd88] path{fill:#fc0;stroke:var(--color-main-background)}.list-item:hover .icon-important[data-v-fc40dd88] path,.list-item:focus .icon-important[data-v-fc40dd88] path,.list-item.active .icon-important[data-v-fc40dd88] path{stroke:var(--color-background-dark)}.icon-important.app-content-list-item-star[data-v-fc40dd88]{background-image:none;left:7px;top:13px;opacity:1}.icon-important.app-content-list-item-star[data-v-fc40dd88]:hover,.icon-important.app-content-list-item-star[data-v-fc40dd88]:focus{opacity:.5}.app-content-list-item-select-checkbox[data-v-fc40dd88]{display:inline-block;vertical-align:middle;position:absolute;left:33px;top:35px;z-index:50}.list-item-style[data-v-fc40dd88]:not(.seen){font-weight:bold}.list-item-style.selected[data-v-fc40dd88]{background-color:var(--color-background-dark)}.list-item-style .draft[data-v-fc40dd88]{line-height:130%}.list-item-style .draft em[data-v-fc40dd88]{font-style:italic}.junk-icon-style[data-v-fc40dd88]{opacity:.2;display:flex;top:42px;left:32px;background-size:16px;height:20px;width:20px;margin:0;padding:0;position:absolute;z-index:2}.junk-icon-style[data-v-fc40dd88]:hover{opacity:.1}.icon-attachment[data-v-fc40dd88]{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";opacity:.25}[data-v-fc40dd88] .action--primary .material-design-icon{margin-bottom:-14px}[data-v-fc40dd88] .list-item__extra{margin-left:41px !important}.tag-group__label[data-v-fc40dd88]{margin:0 7px;z-index:2;font-size:calc(var(--default-font-size)*.8);font-weight:bold;padding-left:2px;padding-right:2px}.tag-group__bg[data-v-fc40dd88]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:15%}.tag-group[data-v-fc40dd88]{display:inline-block;border:1px solid rgba(0,0,0,0);border-radius:var(--border-radius-pill);position:relative;margin:0 1px;overflow:hidden;left:4px}.list-item__wrapper[data-v-fc40dd88] {list-style:none}.app-content-list-item-star.favorite-icon-style[data-v-fc40dd88]{display:block}.icon-important.app-content-list-item-star[data-v-fc40dd88] {position:absolute;top:14px;z-index:1}.app-content-list-item-star.favorite-icon-style[data-v-fc40dd88]{display:inline-block;position:absolute;margin-bottom:21px;margin-left:28px;cursor:pointer;stroke:var(--color-main-background);stroke-width:2;z-index:1}.app-content-list-item-star.favorite-icon-style[data-v-fc40dd88]:hover{opacity:.4}[data-v-fc40dd88] .svg svg{height:16px;width:16px}.seen-icon-style[data-v-fc40dd88]{opacity:.6}.attachment-icon-style[data-v-fc40dd88]{opacity:.6}[data-v-fc40dd88] .list-item-content__wrapper{margin-top:6px}[data-v-fc40dd88] .list-item__extra{margin-top:9px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Envelope.vue\"],\"names\":[],\"mappings\":\"AACA,6CACC,iBAAA,CACA,QAAA,CACA,SAAA,CACA,WAAA,CACA,SAAA,CAIA,uDACC,WAAA,CAGD,qCACC,YAAA,CACA,OAAA,CAEA,8CACC,4BAAA,CACA,gBAAA,CACA,eAAA,CACA,sBAAA,CAGF,yCACC,mCAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,mBAAA,CAKD,sCACA,SAAA,CACA,mCAAA,CAKA,sKACA,mCAAA,CAKA,4DACA,qBAAA,CACA,QAAA,CACA,QAAA,CACA,SAAA,CAEA,oIAEA,UAAA,CAKD,wDACC,oBAAA,CACA,qBAAA,CACA,iBAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CAGD,6CACC,gBAAA,CAED,2CACC,6CAAA,CAGA,yCACC,gBAAA,CAEA,4CACC,iBAAA,CAIH,kCACC,UAAA,CACA,YAAA,CACA,QAAA,CACA,SAAA,CACA,oBAAA,CACA,WAAA,CACA,UAAA,CACA,QAAA,CACA,SAAA,CACA,iBAAA,CACA,SAAA,CACA,wCACC,UAAA,CAIF,kCACC,gEAAA,CACA,WAAA,CAIA,yDACC,mBAAA,CAGF,oCACC,2BAAA,CAED,mCACC,YAAA,CACA,SAAA,CACA,2CAAA,CACA,gBAAA,CACA,gBAAA,CACA,iBAAA,CAED,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CACA,WAAA,CAED,4BACC,oBAAA,CACA,8BAAA,CACA,uCAAA,CACA,iBAAA,CACA,YAAA,CACA,eAAA,CACA,QAAA,CAED,sCACC,eAAA,CAED,iEACC,aAAA,CAED,6DACC,iBAAA,CACA,QAAA,CACA,SAAA,CAED,iEACC,oBAAA,CACA,iBAAA,CACA,kBAAA,CACA,gBAAA,CACA,cAAA,CACA,mCAAA,CACA,cAAA,CACA,SAAA,CACA,uEACC,UAAA,CAGF,2BACC,WAAA,CACA,UAAA,CAED,kCACC,UAAA,CAED,wCACC,UAAA,CAED,8CACC,cAAA,CAED,oCACC,cAAA\",\"sourcesContent\":[\"\\n.mail-message-account-color {\\n\\tposition: absolute;\\n\\tleft: 0px;\\n\\twidth: 2px;\\n\\theight: 69px;\\n\\tz-index: 1;\\n}\\n\\n.envelope {\\n\\t.app-content-list-item-icon {\\n\\t\\theight: 40px; // To prevent some unexpected spacing below the avatar\\n\\t}\\n\\n\\t&__subtitle {\\n\\t\\tdisplay: flex;\\n\\t\\tgap: 4px;\\n\\n\\t\\t&__subject {\\n\\t\\t\\tcolor: var(--color-main-text);\\n\\t\\t\\tline-height: 130%;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t}\\n\\t}\\n\\t&__preview-text {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\tfont-weight: initial;\\n\\t}\\n}\\n\\n.icon-important {\\n\\t:deep(path) {\\n\\tfill: #ffcc00;\\n\\tstroke: var(--color-main-background);\\n\\t}\\n\\t.list-item:hover &,\\n\\t.list-item:focus &,\\n\\t.list-item.active & {\\n\\t:deep(path) {\\n\\tstroke: var(--color-background-dark);\\n\\t}\\n\\t}\\n\\n\\t// In message list, but not the one in the action menu\\n\\t&.app-content-list-item-star {\\n\\tbackground-image: none;\\n\\tleft: 7px;\\n\\ttop: 13px;\\n\\topacity: 1;\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\topacity: 0.5;\\n\\t}\\n\\t}\\n}\\n\\n.app-content-list-item-select-checkbox {\\n\\tdisplay: inline-block;\\n\\tvertical-align: middle;\\n\\tposition: absolute;\\n\\tleft: 33px;\\n\\ttop: 35px;\\n\\tz-index: 50; // same as icon-starred\\n}\\n\\n.list-item-style:not(.seen) {\\n\\tfont-weight: bold;\\n}\\n.list-item-style.selected {\\n\\tbackground-color: var(--color-background-dark);\\n}\\n.list-item-style {\\n\\t.draft {\\n\\t\\tline-height: 130%;\\n\\n\\t\\tem {\\n\\t\\t\\tfont-style: italic;\\n\\t\\t}\\n\\t}\\n}\\n.junk-icon-style {\\n\\topacity: .2;\\n\\tdisplay: flex;\\n\\ttop: 42px;\\n\\tleft: 32px;\\n\\tbackground-size: 16px;\\n\\theight: 20px;\\n\\twidth: 20px;\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tposition: absolute;\\n\\tz-index: 2;\\n\\t&:hover {\\n\\t\\topacity: .1;\\n\\t}\\n}\\n\\n.icon-attachment {\\n\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=25)';\\n\\topacity: 0.25;\\n}\\n\\n:deep(.action--primary) {\\n\\t.material-design-icon {\\n\\t\\tmargin-bottom: -14px;\\n\\t}\\n}\\n:deep(.list-item__extra) {\\n\\tmargin-left: 41px !important;\\n}\\n.tag-group__label {\\n\\tmargin: 0 7px;\\n\\tz-index: 2;\\n\\tfont-size: calc(var(--default-font-size) * 0.8);\\n\\tfont-weight: bold;\\n\\tpadding-left: 2px;\\n\\tpadding-right: 2px;\\n}\\n.tag-group__bg {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\topacity: 15%;\\n}\\n.tag-group {\\n\\tdisplay: inline-block;\\n\\tborder: 1px solid transparent;\\n\\tborder-radius: var(--border-radius-pill);\\n\\tposition: relative;\\n\\tmargin: 0 1px;\\n\\toverflow: hidden;\\n\\tleft: 4px;\\n}\\n.list-item__wrapper:deep() {\\n\\tlist-style: none;\\n}\\n.app-content-list-item-star.favorite-icon-style {\\n\\tdisplay: block;\\n}\\n.icon-important.app-content-list-item-star:deep() {\\n\\tposition: absolute;\\n\\ttop: 14px;\\n\\tz-index: 1;\\n}\\n.app-content-list-item-star.favorite-icon-style {\\n\\tdisplay: inline-block;\\n\\tposition: absolute;\\n\\tmargin-bottom: 21px;\\n\\tmargin-left: 28px;\\n\\tcursor: pointer;\\n\\tstroke: var(--color-main-background);\\n\\tstroke-width: 2;\\n\\tz-index: 1;\\n\\t&:hover {\\n\\t\\topacity: .4;\\n\\t}\\n}\\n:deep(.svg svg) {\\n\\theight: 16px;\\n\\twidth: 16px;\\n}\\n.seen-icon-style {\\n\\topacity: .6;\\n}\\n.attachment-icon-style {\\n\\topacity: .6;\\n}\\n:deep(.list-item-content__wrapper) {\\n\\tmargin-top: 6px;\\n}\\n:deep(.list-item__extra) {\\n\\tmargin-top: 9px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `div[data-v-4b263002]{position:relative}.load-more[data-v-4b263002]{text-align:center;margin-top:10px;cursor:pointer;color:var(--color-text-maxcontrast);display:inline-flex;gap:15px}.plus-icon[data-v-4b263002]{margin-left:20px}.multiselect-header[data-v-4b263002]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:var(--color-main-background-translucent);position:sticky;top:0px;height:48px;z-index:100}#load-more-mail-messages[data-v-4b263002]{margin:10px auto;padding:10px;margin-top:50px;margin-bottom:50px}#load-more-mail-messages[data-v-4b263002]{padding-left:32px;background-position:9px center}.multiselect-header-enter-active[data-v-4b263002],.multiselect-header-leave-active[data-v-4b263002],.list-enter-active[data-v-4b263002],.list-leave-active[data-v-4b263002]{transition:all var(--animation-slow)}.multiselect-header-enter[data-v-4b263002],.multiselect-header-leave-to[data-v-4b263002],.list-enter[data-v-4b263002],.list-leave-to[data-v-4b263002]{opacity:0;height:0px;transform:scaleY(0)}#action-label[data-v-4b263002]{vertical-align:middle}@media only screen and (min-width: 600px){#action-label[data-v-4b263002]{display:block}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EnvelopeList.vue\"],\"names\":[],\"mappings\":\"AACA,qBAEC,iBAAA,CAGD,4BACC,iBAAA,CACA,eAAA,CACA,cAAA,CACA,mCAAA,CACA,mBAAA,CACA,QAAA,CAED,4BACC,gBAAA,CAGD,qCACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,sBAAA,CACA,yDAAA,CACA,eAAA,CACA,OAAA,CACA,WAAA,CACA,WAAA,CAGD,0CACC,gBAAA,CACA,YAAA,CACA,eAAA,CACA,kBAAA,CAID,0CACC,iBAAA,CACA,8BAAA,CAGD,4KAIC,oCAAA,CAGD,sJAIC,SAAA,CACA,UAAA,CACA,mBAAA,CAGD,+BACC,qBAAA,CAED,0CACC,+BACC,aAAA,CAAA\",\"sourcesContent\":[\"\\ndiv {\\n\\t// So we can align the loading spinner in the Priority inbox\\n\\tposition: relative;\\n}\\n\\n.load-more {\\n\\ttext-align: center;\\n\\tmargin-top: 10px;\\n\\tcursor: pointer;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tdisplay: inline-flex;\\n\\tgap: 15px;\\n}\\n.plus-icon {\\n\\tmargin-left: 20px;\\n}\\n\\n.multiselect-header {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tbackground-color: var(--color-main-background-translucent);\\n\\tposition: sticky;\\n\\ttop: 0px;\\n\\theight: 48px;\\n\\tz-index: 100;\\n}\\n\\n#load-more-mail-messages {\\n\\tmargin: 10px auto;\\n\\tpadding: 10px;\\n\\tmargin-top: 50px;\\n\\tmargin-bottom: 50px;\\n}\\n\\n/* TODO: put this in core icons.css as general rule for buttons with icons */\\n#load-more-mail-messages {\\n\\tpadding-left: 32px;\\n\\tbackground-position: 9px center;\\n}\\n\\n.multiselect-header-enter-active,\\n.multiselect-header-leave-active,\\n.list-enter-active,\\n.list-leave-active {\\n\\ttransition: all var(--animation-slow);\\n}\\n\\n.multiselect-header-enter,\\n.multiselect-header-leave-to,\\n.list-enter,\\n.list-leave-to {\\n\\topacity: 0;\\n\\theight: 0px;\\n\\ttransform: scaleY(0);\\n}\\n\\n#action-label {\\n\\tvertical-align: middle;\\n}\\n@media only screen and (min-width: 600px) {\\n\\t#action-label {\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mail-error--auto-margin[data-v-419362b8]{margin:auto 0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Error.vue\"],\"names\":[],\"mappings\":\"AAEC,0CACC,aAAA\",\"sourcesContent\":[\"\\n.mail-error {\\n\\t&--auto-margin {\\n\\t\\tmargin: auto 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-79bc7e48] .modal-wrapper .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:490px !important;max-height:500px !important}.modal-content[data-v-79bc7e48]{padding:30px 30px 20px !important}input[data-v-79bc7e48]{width:100%}[data-v-79bc7e48] input[type=\"text\"].multiselect__input{padding:0 !important}[data-v-79bc7e48] .multiselect__single{margin-left:-8px;width:100px}[data-v-79bc7e48] .multiselect__tags{border:none !important}.all-day[data-v-79bc7e48]{margin-left:-1px;margin-top:5px;margin-bottom:5px}.eventTitle[data-v-79bc7e48]{margin-bottom:5px}.primary[data-v-79bc7e48]{height:44px !important;float:right}[data-v-79bc7e48] .mx-datepicker{width:213px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EventModal.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAED,gCACC,iCAAA,CAED,uBACC,UAAA,CAED,wDACC,oBAAA,CAED,uCACC,gBAAA,CACA,WAAA,CAED,qCACC,sBAAA,CAED,0BACC,gBAAA,CACA,cAAA,CACA,iBAAA,CAED,6BACC,iBAAA,CAED,0BACC,sBAAA,CACA,WAAA,CAED,iCACC,WAAA\",\"sourcesContent\":[\"\\n:deep(.modal-wrapper .modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 490px !important;\\n\\tmax-height: 500px !important;\\n}\\n.modal-content {\\n\\tpadding: 30px 30px 20px !important;\\n}\\ninput {\\n\\twidth: 100%;\\n}\\n:deep(input[type='text'].multiselect__input) {\\n\\tpadding: 0 !important;\\n}\\n:deep(.multiselect__single) {\\n\\tmargin-left: -8px;\\n\\twidth: 100px;\\n}\\n:deep(.multiselect__tags) {\\n\\tborder: none !important;\\n}\\n.all-day {\\n\\tmargin-left: -1px;\\n\\tmargin-top: 5px;\\n\\tmargin-bottom: 5px;\\n}\\n.eventTitle {\\n\\tmargin-bottom: 5px;\\n}\\n.primary {\\n\\theight: 44px !important;\\n\\tfloat: right;\\n}\\n:deep(.mx-datepicker) {\\n\\twidth: 213px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.imip[data-v-1c4a0623]{display:flex;flex-direction:column;border:solid 2px var(--color-border);border-radius:var(--border-radius-large);padding:10px}.imip__type[data-v-1c4a0623]{display:flex;gap:5px;margin-left:36px}.imip__more-options[data-v-1c4a0623]{display:flex;flex-direction:column;margin-top:15px;gap:10px}.imip__more-options__row[data-v-1c4a0623]{display:flex;flex-direction:column}.imip__more-options__row--calendar[data-v-1c4a0623]{display:flex;width:100%}.imip__more-options__row--calendar__multiselect[data-v-1c4a0623]{width:100%}.imip__more-options__row--calendar__multiselect[data-v-1c4a0623] .calendar-picker-option__label{max-width:unset !important}.imip__more-options__row--comment textarea[data-v-1c4a0623]{display:block;width:100%}.imip__actions[data-v-1c4a0623]{margin-top:15px;margin-left:36px}.imip__actions--buttons[data-v-1c4a0623]{display:flex}.imip__actions--hint[data-v-1c4a0623]{font-style:italic}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Imip.vue\"],\"names\":[],\"mappings\":\"AACA,uBACC,YAAA,CACA,qBAAA,CACA,oCAAA,CACA,wCAAA,CACA,YAAA,CAEA,6BACC,YAAA,CACA,OAAA,CACA,gBAAA,CAGD,qCACC,YAAA,CACA,qBAAA,CACA,eAAA,CACA,QAAA,CAEA,0CACC,YAAA,CACA,qBAAA,CAEA,oDACC,YAAA,CACA,UAAA,CAEA,iEACC,UAAA,CAEA,gGACC,0BAAA,CAMF,4DACC,aAAA,CACA,UAAA,CAMJ,gCACC,eAAA,CACA,gBAAA,CAEA,yCACC,YAAA,CAGD,sCACC,iBAAA\",\"sourcesContent\":[\"\\n.imip {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tborder: solid 2px var(--color-border);\\n\\tborder-radius: var(--border-radius-large);\\n\\tpadding: 10px;\\n\\n\\t&__type {\\n\\t\\tdisplay: flex;\\n\\t\\tgap: 5px;\\n\\t\\tmargin-left: 36px;\\n\\t}\\n\\n\\t&__more-options {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tmargin-top: 15px;\\n\\t\\tgap: 10px;\\n\\n\\t\\t&__row {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\n\\t\\t\\t&--calendar {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t\\t&__multiselect {\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t\\t\\t:deep(.calendar-picker-option__label) {\\n\\t\\t\\t\\t\\t\\tmax-width: unset !important;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&--comment {\\n\\t\\t\\t\\ttextarea {\\n\\t\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&__actions {\\n\\t\\tmargin-top: 15px;\\n\\t\\tmargin-left: 36px;\\n\\n\\t\\t&--buttons {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t}\\n\\n\\t\\t&--hint {\\n\\t\\t\\tfont-style: italic;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.fade-enter-active[data-v-33b18a28],.fade-leave-active[data-v-33b18a28]{transition:opacity .5s}.fade-enter[data-v-33b18a28],.fade-leave-to[data-v-33b18a28]{opacity:0}.wrapper[data-v-33b18a28]{display:flex;justify-content:space-around;flex-direction:column;flex:1 auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Loading.vue\"],\"names\":[],\"mappings\":\"AACA,wEAEC,sBAAA,CAED,6DAEC,SAAA,CAGD,0BACC,YAAA,CACA,4BAAA,CACA,qBAAA,CACA,WAAA\",\"sourcesContent\":[\"\\n.fade-enter-active,\\n.fade-leave-active {\\n\\ttransition: opacity 0.5s;\\n}\\n.fade-enter,\\n.fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.wrapper {\\n\\tdisplay: flex;\\n\\tjustify-content: space-around;\\n\\tflex-direction: column;\\n\\tflex: 1 auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.item-list__entry[data-v-03cfb5af]{display:flex;align-items:flex-start;padding:8px}.item-list__entry .item-avatar[data-v-03cfb5af]{position:relative;top:4px;border-radius:50px;width:44px;height:44px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-03cfb5af 3s ease-in infinite}.item-list__entry .item__details[data-v-03cfb5af]{padding-left:8px;max-height:70px;flex-grow:1;display:flex;flex-direction:column}.item-list__entry .item__details h3[data-v-03cfb5af],.item-list__entry .item__details .message.message-preview[data-v-03cfb5af]{white-space:nowrap;background-color:var(--color-background-hover)}.item-list__entry .item__details h3[data-v-03cfb5af]{font-size:100%;margin:0;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-03cfb5af 3s ease-in infinite;width:40%;height:15px}.item-list__entry .item__details .message-preview[data-v-03cfb5af]{width:100%;height:15px;margin-top:5px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-03cfb5af 3s ease-in infinite}.item-list__entry .item__details .message[data-v-03cfb5af]{width:70%;height:15px;margin-top:5px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-03cfb5af 3s ease-in infinite}@keyframes gradient-03cfb5af{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/LoadingSkeleton.vue\"],\"names\":[],\"mappings\":\"AAGA,mCACC,YAAA,CACA,sBAAA,CACA,WAAA,CACA,gDACC,iBAAA,CACA,OAAA,CACA,kBAAA,CACA,UAAA,CACA,WAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAED,kDACC,gBAAA,CACA,eAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,gIAEC,kBAAA,CACA,8CAAA,CAED,qDACC,cAAA,CACA,QAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CACA,SAAA,CACA,WAAA,CAED,mEACC,UAAA,CACA,WAAA,CACA,cAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAED,2DACC,SAAA,CACA,WAAA,CACA,cAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAGF,6BACC,GACC,0BAAA,CAED,IACC,4BAAA,CAED,KACC,0BAAA,CAAA\",\"sourcesContent\":[\"\\n\\n/* skeleton */\\n.item-list__entry {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n\\tpadding: 8px;\\n\\t.item-avatar {\\n\\t\\tposition: relative;\\n\\t\\ttop: 4px;\\n\\t\\tborder-radius: 50px;\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\tbackground-size: 400% 400%;\\n\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t}\\n\\t.item__details {\\n\\t\\tpadding-left: 8px;\\n\\t\\tmax-height: 70px;\\n\\t\\tflex-grow: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\th3,\\n\\t\\t.message.message-preview {\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t}\\n\\t\\th3 {\\n\\t\\t\\tfont-size: 100%;\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t\\twidth: 40%;\\n\\t\\t\\theight: 15px;\\n\\t\\t}\\n\\t\\t.message-preview {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\theight: 15px;\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t}\\n\\t\\t.message {\\n\\t\\t\\twidth: 70%;\\n\\t\\t\\theight: 15px;\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t}\\n\\t}\\n\\t@keyframes gradient {\\n\\t\\t0% {\\n\\t\\t\\tbackground-position: 0% 50%;\\n\\t\\t}\\n\\t\\t50% {\\n\\t\\t\\tbackground-position: 100% 50%;\\n\\t\\t}\\n\\t\\t100% {\\n\\t\\t\\tbackground-position: 0% 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.nameimportant[data-v-3e122cfa] #load-more-mail-messages{margin-top:0;margin-bottom:8px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Mailbox.vue\"],\"names\":[],\"mappings\":\"AAGC,yDACC,YAAA,CACA,iBAAA\",\"sourcesContent\":[\"\\n// Fix vertical space between sections in priority inbox\\n.nameimportant {\\n\\t:deep(#load-more-mail-messages) {\\n\\t\\tmargin-top: 0;\\n\\t\\tmargin-bottom: 8px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.v-popover>.trigger>*[data-v-3bb65af7]{z-index:1}.important-info[data-v-3bb65af7]{max-width:230px;padding:16px}.app-content-list[data-v-3bb65af7]{display:flex}.app-content-list-item[data-v-3bb65af7]:hover{background:rgba(0,0,0,0)}.app-content-list-item[data-v-3bb65af7]{flex:0}.button[data-v-3bb65af7]{background-color:var(--color-main-background);margin-bottom:3px;right:2px}.button[data-v-3bb65af7]:hover,.button[data-v-3bb65af7]:focus{background-color:var(--color-background-dark)}[data-v-3bb65af7] .button-vue--vue-secondary{position:sticky;top:40px;left:10px}[data-v-3bb65af7] .app-content-wrapper{overflow:auto}.envelope-list[data-v-3bb65af7]{overflow-y:auto;padding:0 4px}.information-icon[data-v-3bb65af7]{opacity:.7}@media only screen and (max-width: 1024px){.information-icon[data-v-3bb65af7]{margin-bottom:20px}}.header__button[data-v-3bb65af7]{display:flex;flex:1 0 0;flex-direction:column;height:calc(100vh - var(--header-height))}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MailboxThread.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,SAAA,CAGD,iCACC,eAAA,CACA,YAAA,CAGD,mCAEC,YAAA,CAGD,8CACC,wBAAA,CAED,wCACC,MAAA,CAGD,yBACC,6CAAA,CACA,iBAAA,CACA,SAAA,CAEA,8DAEC,6CAAA,CAGF,6CACC,eAAA,CACA,QAAA,CACA,SAAA,CAED,uCACC,aAAA,CAED,gCACC,eAAA,CACA,aAAA,CAED,mCACC,UAAA,CAED,2CACC,mCACC,kBAAA,CAAA,CAGF,iCACC,YAAA,CACA,UAAA,CACA,qBAAA,CACA,yCAAA\",\"sourcesContent\":[\"\\n.v-popover > .trigger > * {\\n\\tz-index: 1;\\n}\\n\\n.important-info {\\n\\tmax-width: 230px;\\n\\tpadding: 16px;\\n}\\n\\n.app-content-list {\\n\\t// Required for centering the loading indicator\\n\\tdisplay: flex;\\n}\\n\\n.app-content-list-item:hover {\\n\\tbackground: transparent;\\n}\\n.app-content-list-item {\\n\\tflex: 0;\\n}\\n\\n.button {\\n\\tbackground-color: var(--color-main-background);\\n\\tmargin-bottom: 3px;\\n\\tright: 2px;\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t}\\n}\\n:deep(.button-vue--vue-secondary) {\\n\\tposition: sticky;\\n\\ttop:40px;\\n\\tleft: 10px;\\n}\\n:deep(.app-content-wrapper) {\\n\\toverflow: auto;\\n}\\n.envelope-list {\\n\\toverflow-y: auto;\\n\\tpadding: 0 4px;\\n}\\n.information-icon {\\n\\topacity: .7;\\n}\\n@media only screen and (max-width: 1024px) {\\n\\t.information-icon {\\n\\t\\tmargin-bottom: 20px;\\n\\t}\\n}\\n.header__button {\\n\\tdisplay: flex;\\n\\tflex: 1 0 0;\\n\\tflex-direction: column;\\n\\theight: calc(100vh - var(--header-height));\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mail-message-has-mdn-request[data-v-26bdaf82]{white-space:normal}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MdnRequest.vue\"],\"names\":[],\"mappings\":\"AACA,+CACC,kBAAA\",\"sourcesContent\":[\"\\n.mail-message-has-mdn-request {\\n\\twhite-space: normal;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.source-modal[data-v-4531f01b] .modal-container{height:800px}.source-modal .source-modal-content[data-v-4531f01b]{width:100%;height:100%;overflow-y:scroll !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MenuEnvelope.vue\"],\"names\":[],\"mappings\":\"AAEC,gDACC,YAAA,CAGD,qDACC,UAAA,CACA,WAAA,CACA,4BAAA\",\"sourcesContent\":[\"\\n.source-modal {\\n\\t:deep(.modal-container) {\\n\\t\\theight: 800px;\\n\\t}\\n\\n\\t.source-modal-content {\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\toverflow-y: scroll !important;\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.v-popover>.trigger>.action-item[data-v-f1197616]{border-radius:22px;background-color:var(--color-background-darker)}.message-imip[data-v-f1197616]{padding:5px 10px}.invalid-signature-warning[data-v-f1197616]{display:flex;align-items:center;gap:5px;border:solid 2px var(--color-border);border-radius:var(--border-radius-large);border-color:var(--color-warning);margin:5px 10px;padding:10px}.invalid-signature-warning__icon[data-v-f1197616]{margin-top:-5px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Message.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,kBAAA,CACA,+CAAA,CAGD,+BACC,gBAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,oCAAA,CACA,wCAAA,CACA,iCAAA,CAEA,eAAA,CACA,YAAA,CAEA,kDAEC,eAAA\",\"sourcesContent\":[\"\\n.v-popover > .trigger > .action-item {\\n\\tborder-radius: 22px;\\n\\tbackground-color: var(--color-background-darker);\\n}\\n\\n.message-imip {\\n\\tpadding: 5px 10px;\\n}\\n\\n.invalid-signature-warning {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 5px;\\n\\n\\tborder: solid 2px var(--color-border);\\n\\tborder-radius: var(--border-radius-large);\\n\\tborder-color: var(--color-warning);\\n\\n\\tmargin: 5px 10px;\\n\\tpadding: 10px;\\n\\n\\t&__icon {\\n\\t\\t// Fix alignment with message\\n\\t\\tmargin-top: -5px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@media screen and (max-width: 1024px){.attachment[data-v-6efcdf3a]{width:100% !important}}@media screen and (min-width: 1025px)and (max-width: 1500px){.attachment[data-v-6efcdf3a]{width:calc(50% - 4px) !important}}.attachment[data-v-6efcdf3a]{height:auto;display:inline-flex;flex-wrap:wrap;justify-content:space-between;width:calc(33.3334% - 4px);margin:2px;padding:5px;position:relative;align-items:center;flex-grow:1}.attachment[data-v-6efcdf3a]:hover{border-radius:6px}.attachment[data-v-6efcdf3a]:hover,.attachment span[data-v-6efcdf3a]:hover{background-color:var(--color-background-hover)}.attachment:hover.message-attachment--can-preview *[data-v-6efcdf3a],.attachment span:hover.message-attachment--can-preview *[data-v-6efcdf3a]{cursor:pointer}.mail-attachment-img--wrapper[data-v-6efcdf3a]{height:44px;width:44px;overflow:hidden;display:flex;justify-content:center;position:relative;border-radius:6px}.mail-attachment-img--wrapper img[data-v-6efcdf3a]{transition:.3s;opacity:1;width:44px;height:44px}.mail-attachment-img--wrapper .mail-attached-image[data-v-6efcdf3a]{width:100px}.mail-attached--content[data-v-6efcdf3a]{width:calc(100% - 100px);display:flex;flex-direction:column}.mail-attached-image[data-v-6efcdf3a]{display:block;max-width:100%;border-radius:var(--border-radius)}.attachment-import-popover[data-v-6efcdf3a]{right:32px;top:42px}.mail-attached-image[data-v-6efcdf3a]:hover{opacity:.8}.attachment-name[data-v-6efcdf3a]{display:inline-block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.attachment-size[data-v-6efcdf3a]{-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";opacity:.5;font-size:12px;line-height:14px}.attachment-icon[data-v-6efcdf3a]{vertical-align:middle;text-align:left;margin-bottom:20px}.action-item[data-v-6efcdf3a]{transition:.4s}.mail-message-attachments[data-v-6efcdf3a]{overflow-x:auto;overflow-y:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageAttachment.vue\"],\"names\":[],\"mappings\":\"AAEA,sCACC,6BACC,qBAAA,CAAA,CAIF,6DACC,6BACC,gCAAA,CAAA,CAIF,6BACC,WAAA,CACG,mBAAA,CACA,cAAA,CACA,6BAAA,CACH,0BAAA,CACG,UAAA,CACH,WAAA,CACG,iBAAA,CACA,kBAAA,CACH,WAAA,CAEA,mCACC,iBAAA,CAIF,2EAEC,8CAAA,CAEA,+IACC,cAAA,CAIF,+CACC,WAAA,CACA,UAAA,CACA,eAAA,CACA,YAAA,CACA,sBAAA,CACA,iBAAA,CACA,iBAAA,CAEA,mDACC,cAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CAGD,oEACC,WAAA,CAIF,yCACC,wBAAA,CACA,YAAA,CACG,qBAAA,CAGJ,sCACC,aAAA,CACA,cAAA,CACA,kCAAA,CAED,4CACC,UAAA,CACA,QAAA,CAED,4CACC,UAAA,CAED,kCACC,oBAAA,CACA,UAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,qBAAA,CAID,kCACC,gEAAA,CACA,UAAA,CACA,cAAA,CACA,gBAAA,CAGD,kCACC,qBAAA,CACA,eAAA,CACA,kBAAA,CAED,8BACC,cAAA,CAED,2CACC,eAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n\\n@media screen and (max-width: 1024px) {\\n\\t.attachment{\\n\\t\\twidth: 100% !important;\\n\\t}\\n}\\n\\n@media screen and (min-width: 1025px) and (max-width: 1500px) {\\n\\t.attachment{\\n\\t\\twidth: calc(50% - 4px)!important;\\n\\t}\\n}\\n\\n.attachment {\\n\\theight: auto;\\n    display: inline-flex;\\n    flex-wrap: wrap;\\n    justify-content: space-between;\\n\\twidth: calc(33.3334% - 4px);\\n    margin: 2px;\\n\\tpadding: 5px;\\n    position: relative;\\n    align-items: center;\\n\\tflex-grow: 1;\\n\\n\\t&:hover {\\n\\t\\tborder-radius: 6px;\\n\\t}\\n}\\n\\n.attachment:hover,\\n.attachment span:hover {\\n\\tbackground-color: var(--color-background-hover);\\n\\n\\t&.message-attachment--can-preview * {\\n\\t\\tcursor: pointer;\\n\\t}\\n}\\n\\n.mail-attachment-img--wrapper {\\n\\theight: 44px;\\n\\twidth: 44px;\\n\\toverflow: hidden;\\n\\tdisplay:flex;\\n\\tjustify-content: center;\\n\\tposition: relative;\\n\\tborder-radius: 6px;\\n\\n\\timg {\\n\\t\\ttransition: 0.3s;\\n\\t\\topacity: 1;\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t}\\n\\n\\t.mail-attached-image {\\n\\t\\twidth: 100px;\\n\\t}\\n}\\n\\n.mail-attached--content {\\n\\twidth: calc(100% - 100px);\\n\\tdisplay: flex;\\n    flex-direction: column;\\n}\\n\\n.mail-attached-image {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tborder-radius: var(--border-radius);\\n}\\n.attachment-import-popover {\\n\\tright: 32px;\\n\\ttop: 42px;\\n}\\n.mail-attached-image:hover {\\n\\topacity: 0.8;\\n}\\n.attachment-name {\\n\\tdisplay: inline-block;\\n\\twidth: 100%;\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tvertical-align: middle;\\n}\\n\\n/* show attachment size less prominent */\\n.attachment-size {\\n\\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)';\\n\\topacity: 0.5;\\n\\tfont-size: 12px;\\n\\tline-height: 14px;\\n}\\n\\n.attachment-icon {\\n\\tvertical-align: middle;\\n\\ttext-align: left;\\n\\tmargin-bottom: 20px;\\n}\\n.action-item {\\n\\ttransition: 0.4s;\\n}\\n.mail-message-attachments {\\n\\toverflow-x: auto;\\n\\toverflow-y: auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.attachments{width:100%;box-sizing:border-box;position:relative;display:flex;flex-wrap:wrap;margin:10px 0}.attachments-button-wrapper{text-align:center;display:flex;align-items:center}.show-more-attachments{display:flex;align-items:center;cursor:pointer;padding:2px 0;color:var(--color-text-lighter)}.show-more-attachments span{cursor:pointer}.show-more-attachments:hover{color:var(--color-main-text)}@keyframes spin{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}.spin{animation:spin 1s linear infinite}.attachment-link{cursor:pointer;display:flex;align-items:center;color:var(--color-text-lighter)}.attachment-link:hover{color:var(--color-main-text)}.attachment-link span{margin:0 4px 0 16px}.oc-dialog{z-index:10000000}.mail-message-attachments{display:flex;flex-wrap:wrap;padding:10px 6px 10px 46px;margin-top:4px;margin-bottom:0;position:sticky;bottom:0;background:linear-gradient(0deg, var(--color-main-background), var(--color-main-background) 90%, rgba(255, 255, 255, 0))}.mail-message-attachments--wrapper{display:flex;width:100%;height:auto;overflow:hidden;max-height:none}.mail-message-attachments--wrapper.hide{display:flex;max-height:70px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageAttachments.vue\"],\"names\":[],\"mappings\":\"AACA,aACC,UAAA,CACG,qBAAA,CACA,iBAAA,CACA,YAAA,CACA,cAAA,CACA,aAAA,CAKJ,4BACC,iBAAA,CACA,YAAA,CACA,kBAAA,CAGD,uBACC,YAAA,CACG,kBAAA,CACH,cAAA,CACA,aAAA,CACA,+BAAA,CAEA,4BACC,cAAA,CAGD,6BACC,4BAAA,CAIF,gBACE,GACE,sBAAA,CAEF,IACE,wBAAA,CAEF,KACE,wBAAA,CAAA,CAIJ,MACE,iCAAA,CAGF,iBACC,cAAA,CACA,YAAA,CACA,kBAAA,CACA,+BAAA,CAEA,uBACC,4BAAA,CAGD,sBACC,mBAAA,CAIF,WACC,gBAAA,CAED,0BACC,YAAA,CACA,cAAA,CACA,0BAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,QAAA,CACA,wHAAA,CAED,mCACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CAGD,wCACC,YAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n.attachments {\\n\\twidth: 100%;\\n    box-sizing: border-box;\\n    position: relative;\\n    display: flex;\\n    flex-wrap: wrap;\\n    margin: 10px 0;\\n}\\n\\n/* show icon + text for Download all button\\n\\t\\tas well as when there is only one attachment */\\n.attachments-button-wrapper {\\n\\ttext-align: center;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.show-more-attachments {\\n\\tdisplay: flex;\\n    align-items: center;\\n\\tcursor: pointer;\\n\\tpadding: 2px 0;\\n\\tcolor: var(--color-text-lighter);\\n\\n\\tspan {\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t&:hover {\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n}\\n\\n@keyframes spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  50% {\\n    transform: rotate(180deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n.spin {\\n  animation: spin 1s linear infinite;\\n}\\n\\n.attachment-link {\\n\\tcursor: pointer;\\n\\tdisplay:flex;\\n\\talign-items: center;\\n\\tcolor: var(--color-text-lighter);\\n\\n\\t&:hover {\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n\\n\\tspan {\\n\\t\\tmargin: 0 4px 0 16px;\\n\\t}\\n}\\n\\n.oc-dialog {\\n\\tz-index: 10000000;\\n}\\n.mail-message-attachments {\\n\\tdisplay:flex;\\n\\tflex-wrap: wrap;\\n\\tpadding: 10px 6px 10px 46px;\\n\\tmargin-top: 4px;\\n\\tmargin-bottom: 0;\\n\\tposition:sticky;\\n\\tbottom:0;\\n\\tbackground: linear-gradient(0deg, var(--color-main-background), var(--color-main-background) 90%, rgba(255, 255, 255, 0));\\n}\\n.mail-message-attachments--wrapper {\\n\\tdisplay:flex;\\n\\twidth:100%;\\n\\theight:auto;\\n\\toverflow: hidden;\\n\\tmax-height: none;\\n}\\n\\n.mail-message-attachments--wrapper.hide {\\n\\tdisplay:flex;\\n\\tmax-height: 70px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.html-message-body[data-v-7e5cec56]{margin-left:50px;margin-top:2px;display:flex;flex-direction:column;height:100%;background-color:#fff}#mail-message-has-blocked-content[data-v-7e5cec56]{margin-left:10px;color:var(--color-text-maxcontrast) !important}#message-container[data-v-7e5cec56]{flex:1;display:flex;background-color:#fff}#message-container.scroll[data-v-7e5cec56]{max-height:50vh;overflow-y:auto}[data-v-7e5cec56] .button-vue__text{border:none !important;font-weight:normal !important;padding-left:14px !important;padding-right:10px !important;text-decoration:underline !important}.message-frame[data-v-7e5cec56]{width:100%}[data-v-7e5cec56] .button-vue__icon{display:none !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageHTMLBody.vue\"],\"names\":[],\"mappings\":\"AAEA,oCACC,gBAAA,CACA,cAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CACA,qBAAA,CAED,mDACC,gBAAA,CACA,8CAAA,CAGD,oCACC,MAAA,CACA,YAAA,CACA,qBAAA,CAGA,2CACC,eAAA,CACA,eAAA,CAGF,oCACC,sBAAA,CACA,6BAAA,CACA,4BAAA,CACA,6BAAA,CACA,oCAAA,CAED,gCACC,UAAA,CAED,oCACC,uBAAA\",\"sourcesContent\":[\"\\n// account for 8px margin on iframe body\\n.html-message-body {\\n\\tmargin-left: 50px;\\n\\tmargin-top: 2px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\theight: 100%;\\n\\tbackground-color: #FFFFFF;\\n}\\n#mail-message-has-blocked-content {\\n\\tmargin-left: 10px;\\n\\tcolor: var(--color-text-maxcontrast) !important;\\n}\\n\\n#message-container {\\n\\tflex: 1;\\n\\tdisplay: flex;\\n\\tbackground-color: #FFFFFF;\\n\\n\\t// TODO: collapse quoted text and remove inner scrollbar\\n\\t&.scroll {\\n\\t\\tmax-height: 50vh;\\n\\t\\toverflow-y: auto;\\n\\t}\\n}\\n:deep(.button-vue__text) {\\n\\tborder: none !important;\\n\\tfont-weight: normal !important;\\n\\tpadding-left: 14px !important;\\n\\tpadding-right: 10px !important;\\n\\ttext-decoration: underline !important;\\n}\\n.message-frame {\\n\\twidth: 100%;\\n}\\n:deep(.button-vue__icon) {\\n\\tdisplay: none !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.message-loading-skeleton[data-v-3e38ab00]{display:flex;flex-grow:1;align-items:flex-start;padding:8px;width:100%}.message-loading-skeleton__body[data-v-3e38ab00]{max-height:500px;max-width:1200px;flex:1 1 100%;display:flex;flex-direction:column;margin-left:50px}.message-loading-skeleton__body__line-one[data-v-3e38ab00],.message-loading-skeleton__body__line-two[data-v-3e38ab00],.message-loading-skeleton__body__line-three[data-v-3e38ab00],.message-loading-skeleton__body__line-four[data-v-3e38ab00],.message-loading-skeleton__body__line-five[data-v-3e38ab00],.message-loading-skeleton__body__line-six[data-v-3e38ab00]{white-space:nowrap;height:13px;background:linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));background-size:400% 400%;animation:gradient-3e38ab00 3s ease-in infinite}.message-loading-skeleton__body__line-one[data-v-3e38ab00]{width:10%;margin-bottom:25px}.message-loading-skeleton__body__line-two[data-v-3e38ab00]{width:80%;margin-bottom:6px}.message-loading-skeleton__body__line-three[data-v-3e38ab00]{width:50%;margin-bottom:6px}.message-loading-skeleton__body__line-four[data-v-3e38ab00]{width:70%;margin-bottom:6px}.message-loading-skeleton__body__line-five[data-v-3e38ab00]{width:40%;margin-bottom:25px}.message-loading-skeleton__body__line-six[data-v-3e38ab00]{width:30%}@keyframes gradient-3e38ab00{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageLoadingSkeleton.vue\"],\"names\":[],\"mappings\":\"AAGA,2CACC,YAAA,CACA,WAAA,CACA,sBAAA,CACA,WAAA,CACA,UAAA,CACA,iDACC,gBAAA,CACA,gBAAA,CACA,aAAA,CACA,YAAA,CACA,qBAAA,CACA,gBAAA,CACA,sWAMC,kBAAA,CACA,WAAA,CACA,+JAAA,CACA,yBAAA,CACA,+CAAA,CAED,2DACC,SAAA,CACA,kBAAA,CAED,2DACC,SAAA,CACA,iBAAA,CAED,6DACC,SAAA,CACA,iBAAA,CAED,4DACC,SAAA,CACA,iBAAA,CAED,4DACC,SAAA,CACA,kBAAA,CAED,2DACC,SAAA,CAGF,6BACE,GACC,0BAAA,CAED,IACC,4BAAA,CAED,KACC,0BAAA,CAAA\",\"sourcesContent\":[\"\\n\\n/* skeleton */\\n.message-loading-skeleton {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\talign-items: flex-start;\\n\\tpadding: 8px;\\n\\twidth: 100%;\\n\\t&__body {\\n\\t\\tmax-height: 500px;\\n\\t\\tmax-width: 1200px;\\n\\t\\tflex: 1 1 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tmargin-left: 50px;\\n\\t\\t&__line-one,\\n\\t\\t&__line-two,\\n\\t\\t&__line-three,\\n\\t\\t&__line-four,\\n\\t\\t&__line-five,\\n\\t\\t&__line-six {\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\theight: 13px;\\n\\t\\t\\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\\n\\t\\t\\tbackground-size: 400% 400%;\\n\\t\\t\\tanimation: gradient 3s ease-in infinite;\\n\\t\\t}\\n\\t\\t&__line-one {\\n\\t\\t\\twidth: 10%;\\n\\t\\t\\tmargin-bottom: 25px;\\n\\t\\t}\\n\\t\\t&__line-two {\\n\\t\\t\\twidth: 80%;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t}\\n\\t\\t&__line-three {\\n\\t\\t\\twidth: 50%;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t}\\n\\t\\t&__line-four {\\n\\t\\t\\twidth: 70%;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t}\\n\\t\\t&__line-five {\\n\\t\\t\\twidth: 40%;\\n\\t\\t\\tmargin-bottom: 25px;\\n\\t\\t}\\n\\t\\t&__line-six {\\n\\t\\t\\twidth: 30%;\\n\\t\\t}\\n\\t}\\n\\t@keyframes gradient {\\n\\t\\t 0% {\\n\\t\\t\\t background-position: 0% 50%;\\n\\t\\t }\\n\\t\\t 50% {\\n\\t\\t\\t background-position: 100% 50%;\\n\\t\\t }\\n\\t\\t 100% {\\n\\t\\t\\t background-position: 0% 50%;\\n\\t\\t }\\n\\t }\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.quoted-text{color:var(--color-text-maxcontrast) summary;color-cursor:pointer}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessagePlainTextBody.vue\"],\"names\":[],\"mappings\":\"AACA,aACC,2CAAA,CAGC,oBAAA\",\"sourcesContent\":[\"\\n.quoted-text {\\n\\tcolor: var(--color-text-maxcontrast)\\n\\n\\tsummary {\\n\\t\\tcursor: pointer\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.message-container[data-v-7c29da55],.mail-signature[data-v-7c29da55]{white-space:pre-wrap}.mail-signature[data-v-7c29da55],.quoted[data-v-7c29da55]{color:var(--color-text-maxcontrast) summary;color-cursor:pointer}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessagePlainTextBody.vue\"],\"names\":[],\"mappings\":\"AACA,qEAEC,oBAAA,CAED,0DACC,2CAAA,CAGC,oBAAA\",\"sourcesContent\":[\"\\n.message-container,\\n.mail-signature {\\n\\twhite-space: pre-wrap;\\n}\\n.mail-signature, .quoted {\\n\\tcolor: var(--color-text-maxcontrast)\\n\\n\\tsummary {\\n\\t\\tcursor: pointer\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-05f0c52e] .refresh__button{display:none !important}.header[data-v-05f0c52e]{display:grid !important;justify-content:center !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NoMessageSelected.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,uBAAA,CAED,yBACC,uBAAA,CACA,iCAAA\",\"sourcesContent\":[\"\\n::v-deep .refresh__button {\\n\\tdisplay: none !important;\\n}\\n.header {\\n\\tdisplay: grid !important;\\n\\tjustify-content: center !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-65a34d37] .button-vue--vue-secondary{box-shadow:none}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Outbox.vue\"],\"names\":[],\"mappings\":\"AACA,6CACC,eAAA\",\"sourcesContent\":[\"\\n:deep(.button-vue--vue-secondary) {\\n\\tbox-shadow: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.outbox-message[data-v-3770b2a7]{list-style:none}.outbox-message.active[data-v-3770b2a7]{background-color:var(--color-background-dark);border-radius:16px}.outbox-message .account-color[data-v-3770b2a7]{position:absolute;left:0;width:2px;height:69px;z-index:1}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/OutboxMessageListItem.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,eAAA,CACA,wCACC,6CAAA,CACA,kBAAA,CAGD,gDACC,iBAAA,CACA,MAAA,CACA,SAAA,CACA,WAAA,CACA,SAAA\",\"sourcesContent\":[\"\\n.outbox-message {\\n\\tlist-style: none;\\n\\t&.active {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: 16px;\\n\\t}\\n\\n\\t.account-color {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\twidth: 2px;\\n\\t\\theight: 69px;\\n\\t\\tz-index: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.user-bubble__title[data-v-931553e2]{max-width:30vw}.contact-menu[data-v-931553e2]{display:flex;flex-wrap:wrap}.contact-popover[data-v-931553e2]{display:inline-block}.contact-popover__email[data-v-931553e2]{text-align:center}.contact-wrapper[data-v-931553e2]{padding:10px;min-width:300px}.contact-wrapper a[data-v-931553e2]{opacity:.7}.contact-wrapper a[data-v-931553e2]:hover{opacity:1}.contact-input-wrapper[data-v-931553e2]{margin-top:10px;margin-bottom:10px}.contact-input-wrapper input[data-v-931553e2],.contact-input-wrapper .multiselect[data-v-931553e2]{width:100%}.contact-existing[data-v-931553e2]{font-size:small !important}[data-v-931553e2] .button-vue__text{font-weight:normal !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RecipientBubble.vue\"],\"names\":[],\"mappings\":\"AACA,qCACC,cAAA,CAGD,+BACC,YAAA,CACA,cAAA,CAED,kCACC,oBAAA,CAEA,yCACC,iBAAA,CAGF,kCACC,YAAA,CACA,eAAA,CAEA,oCACC,UAAA,CAED,0CACC,SAAA,CAGF,wCACC,eAAA,CACG,kBAAA,CACH,mGAEC,UAAA,CAIF,mCACC,0BAAA,CAED,oCACC,6BAAA\",\"sourcesContent\":[\"\\n.user-bubble__title {\\n\\tmax-width: 30vw;\\n}\\n\\n.contact-menu {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n}\\n.contact-popover {\\n\\tdisplay: inline-block;\\n\\n\\t&__email {\\n\\t\\ttext-align: center;\\n\\t}\\n}\\n.contact-wrapper {\\n\\tpadding:10px;\\n\\tmin-width: 300px;\\n\\n\\ta {\\n\\t\\topacity: 0.7;\\n\\t}\\n\\ta:hover {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n.contact-input-wrapper {\\n\\tmargin-top: 10px;\\n    margin-bottom: 10px;\\n\\tinput,\\n\\t.multiselect {\\n\\t\\twidth: 100%;\\n\\t}\\n}\\n\\n.contact-existing {\\n\\tfont-size: small !important;\\n}\\n:deep(.button-vue__text) {\\n\\tfont-weight: normal !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.search-messages{min-height:52px;margin:3px 0 0 52px;padding-right:4px;border-right:1px solid var(--color-border);position:relative;display:flex;align-items:center;z-index:1}.search-messages input{flex-grow:1}.search-messages .action-item--single{border-radius:var(--border-radius-pill);border:none;background:none;transition:.4s}.search-messages .action-item--single:hover{transition:.4s;background:var(--color-primary-element)}.search-input{width:100%}.checkbox-radio-switch__label{background:none !important;padding:0 !important;margin:0 !important}.tag-group__search{box-sizing:border-box;position:relative;margin:3px 3px;padding:0 6px}.tag-group__bg{position:absolute;left:0;right:0;bottom:0;top:0;opacity:.4;border-radius:14px;z-index:1}.tag-group__label{font-weight:bold;font-size:12px;position:relative;z-index:2}.search-modal .modal-container{min-height:auto;overflow:visible !important;position:relative;display:flex !important;flex-direction:column}.search-modal .modal-container .modal-title{padding:16px 30px 0 30px;position:relative;display:inline-block}.search-modal .modal-container .modal-inner--content{padding:16px 0 36px 0;overflow-y:scroll;width:calc(100% - 2px)}.search-modal .modal-container .modal-inner--content .marked-as .modal-inner-inline{display:inline-block;width:32%}.search-modal .modal-container .modal-inner--content .marked-as .modal-inner-inline:last-child{width:100%}.search-modal .modal-container .modal-inner--content .range{display:flex;flex-wrap:wrap}.search-modal .modal-container .modal-inner--content .range .modal-inner-inline{width:calc(50% - 5px)}.search-modal .modal-container .modal-inner--content .range .modal-inner-inline:first-child{margin-right:5px}.search-modal .modal-container .modal-inner--content .range .modal-inner-inline:last-child{margin-left:5px}.multiselect-search-tags{width:100%}.multiselect-search-tags .multiselect__tags .multiselect__tags-wrap{flex-wrap:wrap !important}.modal-inner-field--right{display:flex;align-items:center;justify-content:flex-end;padding:0 33px;margin-top:15px}.modal-inner--field{display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;margin-bottom:15px;padding:0 12px 0 30px}.modal-inner--field .checkbox-radio-switch{margin:0 8px 0 0}.modal-inner--field>label{font-weight:bold;width:120px}.modal-inner--field .modal-inner--container{width:calc(100% - 120px)}.modal-inner--field .modal-inner--container .multiselect{width:100%}.modal-wrapper--normal .modal-container{position:relative}.button-vue.search-messages--close.button-vue--icon-only{position:absolute;width:auto;height:auto;z-index:5;right:45px;left:auto;box-shadow:none !important;background:rgba(0,0,0,0) !important;border:none !important;padding:0 !important;top:5px}.button-reset-filter{margin-right:10px}.filter-changed{width:6px;height:6px;background:var(--color-error);position:absolute;z-index:10;right:12px;border-radius:50%;top:12px}.mx-datepicker{width:100%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SearchMessages.vue\"],\"names\":[],\"mappings\":\"AACA,iBACC,eAAA,CACA,mBAAA,CACA,iBAAA,CACA,0CAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CAEA,SAAA,CAEA,uBACC,WAAA,CAGD,sCACC,uCAAA,CACA,WAAA,CACA,eAAA,CACA,cAAA,CAGD,4CACC,cAAA,CACA,uCAAA,CAIF,cACC,UAAA,CAGD,8BACC,0BAAA,CACA,oBAAA,CACA,mBAAA,CAGD,mBACC,qBAAA,CACA,iBAAA,CACA,cAAA,CACA,aAAA,CAGD,eACC,iBAAA,CACA,MAAA,CACA,OAAA,CACA,QAAA,CACA,KAAA,CACA,UAAA,CACA,kBAAA,CACA,SAAA,CAGD,kBACC,gBAAA,CACA,cAAA,CACA,iBAAA,CACA,SAAA,CAGD,+BACC,eAAA,CACA,2BAAA,CACA,iBAAA,CACA,uBAAA,CACA,qBAAA,CAEA,4CACC,wBAAA,CACA,iBAAA,CAEA,oBAAA,CAGD,qDACC,qBAAA,CACA,iBAAA,CACA,sBAAA,CAEA,oFACC,oBAAA,CACA,SAAA,CAEA,+FACC,UAAA,CAGF,4DACC,YAAA,CACA,cAAA,CAEA,gFACC,qBAAA,CACA,4FACC,gBAAA,CAED,2FACC,eAAA,CAOL,yBACC,UAAA,CAGD,oEACC,yBAAA,CAGD,0BACC,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,cAAA,CACA,eAAA,CAGD,oBACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,6BAAA,CACA,kBAAA,CACA,qBAAA,CAEA,2CACC,gBAAA,CAGD,0BACC,gBAAA,CACA,WAAA,CAGD,4CACC,wBAAA,CAEA,yDACC,UAAA,CAKH,wCACC,iBAAA,CAGD,yDACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,UAAA,CACA,SAAA,CACA,0BAAA,CACA,mCAAA,CACA,sBAAA,CACA,oBAAA,CACA,OAAA,CAGD,qBACC,iBAAA,CAGD,gBACC,SAAA,CACA,UAAA,CACA,6BAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CAED,eACC,UAAA\",\"sourcesContent\":[\"\\n.search-messages {\\n\\tmin-height: 52px;\\n\\tmargin: 3px 0 0 52px;\\n\\tpadding-right: 4px; /* matches .app-content-list */\\n\\tborder-right: 1px solid var(--color-border);\\n\\tposition: relative;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\t//important info icon overlaps it while scrolling\\n\\tz-index: 1;\\n\\n\\tinput {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t.action-item--single {\\n\\t\\tborder-radius: var(--border-radius-pill);\\n\\t\\tborder: none;\\n\\t\\tbackground: none;\\n\\t\\ttransition: 0.4s;\\n\\t}\\n\\n\\t.action-item--single:hover {\\n\\t\\ttransition: 0.4s;\\n\\t\\tbackground: var(--color-primary-element);\\n\\t}\\n}\\n\\n.search-input {\\n\\twidth: 100%;\\n}\\n\\n.checkbox-radio-switch__label {\\n\\tbackground: none !important;\\n\\tpadding: 0 !important;\\n\\tmargin: 0 !important;\\n}\\n\\n.tag-group__search {\\n\\tbox-sizing: border-box;\\n\\tposition: relative;\\n\\tmargin: 3px 3px;\\n\\tpadding: 0 6px;\\n}\\n\\n.tag-group__bg {\\n\\tposition: absolute;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tbottom: 0;\\n\\ttop: 0;\\n\\topacity: 0.4;\\n\\tborder-radius: 14px;\\n\\tz-index: 1;\\n}\\n\\n.tag-group__label {\\n\\tfont-weight: bold;\\n\\tfont-size: 12px;\\n\\tposition: relative;\\n\\tz-index: 2;\\n}\\n\\n.search-modal .modal-container {\\n\\tmin-height: auto;\\n\\toverflow: visible !important;\\n\\tposition: relative;\\n\\tdisplay: flex !important;\\n\\tflex-direction: column;\\n\\n\\t.modal-title {\\n\\t\\tpadding: 16px 30px 0 30px;\\n\\t\\tposition: relative;\\n\\t\\t/* needs while modal-container__close not set */\\n\\t\\tdisplay: inline-block;\\n\\t}\\n\\n\\t.modal-inner--content {\\n\\t\\tpadding: 16px 0 36px 0;\\n\\t\\toverflow-y: scroll;\\n\\t\\twidth: calc(100% - 2px);\\n\\n\\t\\t.marked-as .modal-inner-inline {\\n\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\twidth: 32%;\\n\\n\\t\\t\\t&:last-child {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.range {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t.modal-inner-inline {\\n\\t\\t\\t\\twidth: calc(50% - 5px);\\n\\t\\t\\t\\t&:first-child {\\n\\t\\t\\t\\t\\tmargin-right: 5px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&:last-child {\\n\\t\\t\\t\\t\\tmargin-left: 5px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.multiselect-search-tags {\\n\\twidth: 100%;\\n}\\n\\n.multiselect-search-tags .multiselect__tags .multiselect__tags-wrap {\\n\\tflex-wrap: wrap !important;\\n}\\n\\n.modal-inner-field--right {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: flex-end;\\n\\tpadding: 0 33px;\\n\\tmargin-top: 15px;\\n}\\n\\n.modal-inner--field {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tflex-wrap: wrap;\\n\\tjustify-content: space-between;\\n\\tmargin-bottom: 15px;\\n\\tpadding: 0 12px 0 30px;\\n\\n\\t.checkbox-radio-switch {\\n\\t\\tmargin: 0 8px 0 0;\\n\\t}\\n\\n\\t& > label {\\n\\t\\tfont-weight: bold;\\n\\t\\twidth: 120px;\\n\\t}\\n\\n\\t.modal-inner--container {\\n\\t\\twidth: calc(100% - 120px);\\n\\n\\t\\t.multiselect {\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n.modal-wrapper--normal .modal-container {\\n\\tposition: relative\\n}\\n\\n.button-vue.search-messages--close.button-vue--icon-only {\\n\\tposition: absolute;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tz-index: 5;\\n\\tright: 45px;\\n\\tleft: auto;\\n\\tbox-shadow: none !important;\\n\\tbackground: transparent !important;\\n\\tborder: none !important;\\n\\tpadding: 0 !important;\\n\\ttop: 5px\\n}\\n\\n.button-reset-filter {\\n\\tmargin-right: 10px;\\n}\\n\\n.filter-changed {\\n\\twidth: 6px;\\n\\theight: 6px;\\n\\tbackground: var(--color-error);\\n\\tposition: absolute;\\n\\tz-index: 10;\\n\\tright: 12px;\\n\\tborder-radius: 50%;\\n\\ttop: 12px;\\n}\\n.mx-datepicker {\\n\\twidth:100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app-navigation-entry-bullet-wrapper[data-v-52ebe5c0]{width:44px;height:44px;display:inline-block;position:fixed;list-style:none;top:15px;left:7px}.app-navigation-entry-bullet-wrapper .color0[data-v-52ebe5c0]{width:30px !important;height:30px;border-radius:50%;background-size:14px;z-index:2;display:flex;position:relative}.tag-group[data-v-52ebe5c0]{display:block;position:relative;margin:0 1px;overflow:hidden}.tag-actions[data-v-52ebe5c0]{background-color:rgba(0,0,0,0);border:none;float:right}.tag-actions[data-v-52ebe5c0]:hover,.tag-actions[data-v-52ebe5c0]:focus{background-color:var(--color-border-dark)}.tag-group__label[data-v-52ebe5c0]{z-index:2;font-weight:bold;border:none;background-color:rgba(0,0,0,0);padding-left:10px;padding-right:10px;overflow:hidden;text-overflow:ellipsis;max-width:94px}.action-item[data-v-52ebe5c0]{right:8px;float:right}[data-v-52ebe5c0] .input-field{margin-top:-5px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TagItem.vue\"],\"names\":[],\"mappings\":\"AACA,sDACC,UAAA,CACA,WAAA,CACA,oBAAA,CACA,cAAA,CACA,eAAA,CACA,QAAA,CACA,QAAA,CAEA,8DACC,qBAAA,CACA,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CAGF,4BACC,aAAA,CACA,iBAAA,CACA,YAAA,CACA,eAAA,CAED,8BACC,8BAAA,CACA,WAAA,CACA,WAAA,CACA,wEAEC,yCAAA,CAGF,mCACC,SAAA,CACA,gBAAA,CACA,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,cAAA,CAED,8BACC,SAAA,CACA,WAAA,CAED,+BACC,eAAA\",\"sourcesContent\":[\"\\n.app-navigation-entry-bullet-wrapper {\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tdisplay: inline-block;\\n\\tposition: fixed;\\n\\tlist-style: none;\\n\\ttop: 15px;\\n\\tleft: 7px;\\n\\n\\t.color0 {\\n\\t\\twidth: 30px !important;\\n\\t\\theight: 30px;\\n\\t\\tborder-radius: 50%;\\n\\t\\tbackground-size: 14px;\\n\\t\\tz-index: 2;\\n\\t\\tdisplay: flex;\\n\\t\\tposition: relative;\\n\\t}\\n}\\n.tag-group {\\n\\tdisplay: block;\\n\\tposition: relative;\\n\\tmargin: 0 1px;\\n\\toverflow: hidden;\\n}\\n.tag-actions {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tfloat: right;\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\tbackground-color: var(--color-border-dark);\\n\\t}\\n}\\n.tag-group__label {\\n\\tz-index: 2;\\n\\tfont-weight: bold;\\n\\tborder: none;\\n\\tbackground-color: transparent;\\n\\tpadding-left: 10px;\\n\\tpadding-right: 10px;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tmax-width: 94px;\\n}\\n.action-item {\\n\\tright: 8px;\\n\\tfloat: right;\\n}\\n:deep(.input-field) {\\n\\tmargin-top: -5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-4c8c9288] .modal-content{padding:20px 20px 20px 20px;max-height:calc(100vh - 210px);overflow-y:auto}[data-v-4c8c9288] .modal-container{width:auto !important}.icon-colorpicker[data-v-4c8c9288]{background-image:var(--icon-add-fff)}.tagButton[data-v-4c8c9288]{display:inline-block;margin-left:10px}.tag-title[data-v-4c8c9288]{margin-top:20px;margin-left:10px}.create-tag[data-v-4c8c9288]{list-style:none;margin-bottom:12px}@media only screen and (max-width: 512px){[data-v-4c8c9288] .modal-container{top:100px !important;max-height:calc(100vh - 170px) !important}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TagModal.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,2BAAA,CACA,8BAAA,CACA,eAAA,CAED,mCACC,qBAAA,CAED,mCACC,oCAAA,CAED,4BACC,oBAAA,CACA,gBAAA,CAED,4BACC,eAAA,CACA,gBAAA,CAGD,6BACC,eAAA,CACA,kBAAA,CAED,0CACC,mCACA,oBAAA,CACA,yCAAA,CAAA\",\"sourcesContent\":[\"\\n:deep(.modal-content) {\\n\\tpadding: 20px 20px 20px 20px;\\n\\tmax-height: calc(100vh - 210px);\\n\\toverflow-y: auto;\\n}\\n:deep(.modal-container) {\\n\\twidth: auto !important;\\n}\\n.icon-colorpicker {\\n\\tbackground-image: var(--icon-add-fff);\\n}\\n.tagButton {\\n\\tdisplay: inline-block;\\n\\tmargin-left: 10px;\\n}\\n.tag-title {\\n\\tmargin-top: 20px;\\n\\tmargin-left: 10px;\\n}\\n\\n.create-tag {\\n\\tlist-style: none;\\n\\tmargin-bottom:12px;\\n}\\n@media only screen and (max-width: 512px) {\\n\\t:deep(.modal-container) {\\n\\ttop: 100px !important;\\n\\tmax-height: calc(100vh - 170px) !important\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-518f09f2] .modal-wrapper .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:490px !important;max-height:500px !important}[data-v-518f09f2] .calendar-picker-option__color-indicator{margin-left:10px !important}.modal-content[data-v-518f09f2]{padding:30px 30px 20px !important}input[data-v-518f09f2],textarea[data-v-518f09f2]{width:100%}[data-v-518f09f2] input[type=\"text\"].multiselect__input{padding:0 !important}[data-v-518f09f2] .multiselect__single{margin-left:-18px;width:100px}[data-v-518f09f2] .multiselect__tags{border:none !important}.all-day[data-v-518f09f2]{margin-left:-1px;margin-top:5px;margin-bottom:5px}.taskTitle[data-v-518f09f2]{margin-bottom:5px}.primary[data-v-518f09f2]{height:44px !important;float:right}[data-v-518f09f2] .mx-datepicker{width:213px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TaskModal.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAED,2DACI,2BAAA,CAEJ,gCACC,iCAAA,CAED,iDACC,UAAA,CAED,wDACC,oBAAA,CAED,uCACC,iBAAA,CACA,WAAA,CAED,qCACC,sBAAA,CAED,0BACC,gBAAA,CACA,cAAA,CACA,iBAAA,CAED,4BACC,iBAAA,CAED,0BACC,sBAAA,CACA,WAAA,CAED,iCACC,WAAA\",\"sourcesContent\":[\"\\n:deep(.modal-wrapper .modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 490px !important;\\n\\tmax-height: 500px !important;\\n}\\n:deep(.calendar-picker-option__color-indicator){\\n    margin-left: 10px !important;\\n}\\n.modal-content {\\n\\tpadding: 30px 30px 20px !important;\\n}\\ninput , textarea {\\n\\twidth: 100%;\\n}\\n:deep(input[type='text'].multiselect__input) {\\n\\tpadding: 0 !important;\\n}\\n:deep(.multiselect__single) {\\n\\tmargin-left: -18px;\\n\\twidth: 100px;\\n}\\n:deep(.multiselect__tags) {\\n\\tborder: none !important;\\n}\\n.all-day {\\n\\tmargin-left: -1px;\\n\\tmargin-top: 5px;\\n\\tmargin-bottom: 5px;\\n}\\n.taskTitle {\\n\\tmargin-bottom: 5px;\\n}\\n.primary {\\n\\theight: 44px !important;\\n\\tfloat: right;\\n}\\n:deep(.mx-datepicker) {\\n\\twidth: 213px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#mail-message{margin-bottom:30vh}#mail-message .icon-loading:only-child:after{margin-top:20px}.mail-message-body{flex:1;margin-bottom:30px;position:relative}#mail-thread-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:30px 0;box-sizing:content-box !important;width:100%;z-index:100;position:fixed;position:-webkit-sticky;position:sticky;top:0;background:-webkit-linear-gradient(var(--color-main-background), var(--color-main-background) 80%, rgba(255, 255, 255, 0));background:-o-linear-gradient(var(--color-main-background), var(--color-main-background) 80%, rgba(255, 255, 255, 0));background:-moz-linear-gradient(var(--color-main-background), var(--color-main-background) 80%, rgba(255, 255, 255, 0));background:linear-gradient(var(--color-main-background), var(--color-main-background) 80%, rgba(255, 255, 255, 0))}#mail-thread-header-fields{width:0;padding-left:70px;flex:1 1 auto}#mail-thread-header-fields h2,#mail-thread-header-fields p{padding-bottom:7px;margin-bottom:0}#mail-thread-header-fields p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#mail-thread-header-fields .transparency{opacity:.6}#mail-thread-header-fields .transparency a{font-weight:bold}@media only screen and (max-width: 1024px){#mail-thread-header-fields,h2{margin-top:-20px}}.attachment-popover{position:sticky;bottom:12px;text-align:center}.tooltip-inner{text-align:left}#mail-content{margin:10px 38px 0 59px}#mail-content iframe{width:100%}#show-images-text{display:none}#mail-content a,.mail-signature a{color:#07d;border-bottom:1px dotted #07d;text-decoration:none;word-wrap:break-word}@media only screen and (max-width: 600px){.action-label{display:none}}@media only screen and (min-width: 600px){.icon-reply-white,.icon-reply-all-white{background-position:12px center}}@media print{#mail-thread-header-fields{position:relative}.app-content-details,.splitpanes__pane-details{max-width:unset !important;width:100% !important}#header,.app-navigation,#reply-composer,#forward-button,#mail-message-has-blocked-content,.app-content-list,.message-composer,.splitpanes__pane-list,.mail-message-attachments{display:none !important}.app-content{margin-left:0 !important}.mail-message-body{margin-bottom:0 !important}}.message-source{font-family:monospace;white-space:pre-wrap;user-select:text}.avatar-header{max-height:24px;overflow:hidden}.avatar-more{display:inline;background-color:var(--color-background-dark);padding:0px 0px 1px 1px;border-radius:10px;cursor:pointer}.avatar-hidden{visibility:hidden}.popover__wrapper{max-width:500px}.app-content-list-item-star.icon-starred{display:none}.user-bubble__wrapper{margin-right:4px}.user-bubble__title{cursor:pointer}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Thread.vue\"],\"names\":[],\"mappings\":\"AACA,cACC,kBAAA,CAGC,6CACC,eAAA,CAKH,mBACC,MAAA,CACA,kBAAA,CACA,iBAAA,CAGD,oBACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,kBAAA,CACA,cAAA,CAIA,iCAAA,CACA,UAAA,CAEA,WAAA,CACA,cAAA,CACA,uBAAA,CACA,eAAA,CACA,KAAA,CACA,0HAAA,CACA,qHAAA,CACA,uHAAA,CACA,kHAAA,CAGD,2BAEC,OAAA,CACA,iBAAA,CAEA,aAAA,CACA,2DAEC,kBAAA,CACA,eAAA,CAGD,6BACC,kBAAA,CACA,eAAA,CACA,sBAAA,CAGD,yCACC,UAAA,CACA,2CACC,gBAAA,CAIH,2CACC,8BAEC,gBAAA,CAAA,CAIF,oBACC,eAAA,CACA,WAAA,CACA,iBAAA,CAGD,eACC,eAAA,CAGD,cACC,uBAAA,CAGD,qBACC,UAAA,CAGD,kBACC,YAAA,CAGD,kCAEC,UAAA,CACA,6BAAA,CACA,oBAAA,CACA,oBAAA,CAKD,0CACC,cACC,YAAA,CAAA,CAGF,0CACC,wCAEC,+BAAA,CAAA,CAIF,aACC,2BACC,iBAAA,CAED,+CAEC,0BAAA,CACA,qBAAA,CAED,+KASC,uBAAA,CAED,aACC,wBAAA,CAED,mBACC,0BAAA,CAAA,CAIF,gBACC,qBAAA,CACA,oBAAA,CACA,gBAAA,CAGD,eACC,eAAA,CACA,eAAA,CAED,aACC,cAAA,CACA,6CAAA,CACA,uBAAA,CACA,kBAAA,CACA,cAAA,CAED,eACC,iBAAA,CAED,kBACC,eAAA,CAGD,yCACC,YAAA,CAED,sBACC,gBAAA,CAED,oBACC,cAAA\",\"sourcesContent\":[\"\\n#mail-message {\\n\\tmargin-bottom: 30vh;\\n\\n\\t.icon-loading {\\n\\t\\t&:only-child:after {\\n\\t\\t\\tmargin-top: 20px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.mail-message-body {\\n\\tflex: 1;\\n\\tmargin-bottom: 30px;\\n\\tposition: relative;\\n}\\n\\n#mail-thread-header {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n\\tpadding: 30px 0;\\n\\t// somehow ios doesn't care about this !important rule\\n\\t// so we have to manually set left/right padding to chidren\\n\\t// for 100% to be used\\n\\tbox-sizing: content-box !important;\\n\\twidth: 100%;\\n\\n\\tz-index: 100;\\n\\tposition: fixed; // ie fallback\\n\\tposition: -webkit-sticky; // ios/safari fallback\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\tbackground: -webkit-linear-gradient(var(--color-main-background), var(--color-main-background) 80%, rgba(255,255,255,0));\\n\\tbackground: -o-linear-gradient(var(--color-main-background), var(--color-main-background)  80%, rgba(255,255,255,0));\\n\\tbackground: -moz-linear-gradient(var(--color-main-background), var(--color-main-background)  80%, rgba(255,255,255,0));\\n\\tbackground: linear-gradient(var(--color-main-background), var(--color-main-background)  80%, rgba(255,255,255,0));\\n}\\n\\n#mail-thread-header-fields {\\n\\t// initial width\\n\\twidth: 0;\\n\\tpadding-left: 70px;\\n\\t// grow and try to fill 100%\\n\\tflex: 1 1 auto;\\n\\th2,\\n\\tp {\\n\\t\\tpadding-bottom: 7px;\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n\\n\\tp {\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\t.transparency {\\n\\t\\topacity: 0.6;\\n\\t\\ta {\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t}\\n\\t}\\n}\\n@media only screen and (max-width: 1024px) {\\n\\t#mail-thread-header-fields,\\n\\th2 {\\n\\t\\tmargin-top: -20px;\\n\\t}\\n}\\n\\n.attachment-popover {\\n\\tposition: sticky;\\n\\tbottom: 12px;\\n\\ttext-align: center;\\n}\\n\\n.tooltip-inner {\\n\\ttext-align: left;\\n}\\n\\n#mail-content {\\n\\tmargin: 10px 38px 0 59px;\\n}\\n\\n#mail-content iframe {\\n\\twidth: 100%;\\n}\\n\\n#show-images-text {\\n\\tdisplay: none;\\n}\\n\\n#mail-content a,\\n.mail-signature a {\\n\\tcolor: #07d;\\n\\tborder-bottom: 1px dotted #07d;\\n\\ttext-decoration: none;\\n\\tword-wrap: break-word;\\n}\\n\\n/* Show action button label and move icon to the left\\n   on screens larger than 600px */\\n@media only screen and (max-width: 600px) {\\n\\t.action-label {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n@media only screen and (min-width: 600px) {\\n\\t.icon-reply-white,\\n\\t.icon-reply-all-white {\\n\\t\\tbackground-position: 12px center;\\n\\t}\\n}\\n\\n@media print {\\n\\t#mail-thread-header-fields {\\n\\t\\tposition: relative;\\n\\t}\\n\\t.app-content-details,\\n\\t.splitpanes__pane-details {\\n\\t\\tmax-width: unset !important;\\n\\t\\twidth: 100% !important;\\n\\t}\\n\\t#header,\\n\\t.app-navigation,\\n\\t#reply-composer,\\n\\t#forward-button,\\n\\t#mail-message-has-blocked-content,\\n\\t.app-content-list,\\n\\t.message-composer,\\n\\t.splitpanes__pane-list,\\n\\t.mail-message-attachments {\\n\\t\\tdisplay: none !important;\\n\\t}\\n\\t.app-content {\\n\\t\\tmargin-left: 0 !important;\\n\\t}\\n\\t.mail-message-body {\\n\\t\\tmargin-bottom: 0 !important;\\n\\t}\\n}\\n\\n.message-source {\\n\\tfont-family: monospace;\\n\\twhite-space: pre-wrap;\\n\\tuser-select: text;\\n}\\n\\n.avatar-header {\\n\\tmax-height: 24px;\\n\\toverflow: hidden;\\n}\\n.avatar-more {\\n\\tdisplay: inline;\\n\\tbackground-color: var(--color-background-dark);\\n\\tpadding: 0px 0px 1px 1px;\\n\\tborder-radius: 10px;\\n\\tcursor: pointer;\\n}\\n.avatar-hidden {\\n\\tvisibility: hidden;\\n}\\n.popover__wrapper {\\n\\tmax-width: 500px;\\n}\\n\\n.app-content-list-item-star.icon-starred {\\n\\tdisplay: none;\\n}\\n.user-bubble__wrapper {\\n\\tmargin-right: 4px;\\n}\\n.user-bubble__title {\\n\\tcursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.sender[data-v-747433a3]{margin-left:8px}.sender__email[data-v-747433a3]{color:var(--color-text-maxcontrast)}.right[data-v-747433a3]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-left:10px;height:44px}.right .app-content-list-item-menu[data-v-747433a3]{margin-left:4px}.right .timestamp[data-v-747433a3]{margin-right:10px;color:var(--color-text-maxcontrast);white-space:nowrap;margin-bottom:0}.button[data-v-747433a3]{color:var(--color-main-background)}.button[data-v-747433a3]:not(.active):not(.primary){display:none}.button:not(.active):not(.primary).primary[data-v-747433a3]{background-color:var(--color-primary-element);opacity:1;margin-bottom:0}.envelope[data-v-747433a3]{display:flex;flex-direction:column;border:2px solid var(--color-border);border-radius:16px;margin-left:10px;margin-right:10px;background-color:var(--color-main-background);padding-bottom:28px;animation:show-747433a3 200ms 90ms cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards;opacity:.5;transform-origin:top center}@keyframes show-747433a3{100%{opacity:1;transform:none}}.envelope+.envelope[data-v-747433a3]{margin-top:-28px}.envelope[data-v-747433a3]:last-of-type{margin-bottom:10px;padding-bottom:0}.envelope__header[data-v-747433a3]{position:relative;display:flex;align-items:center;padding:10px;border-radius:var(--border-radius);min-height:68px}.envelope__header__avatar[data-v-747433a3]{position:relative}.envelope__header__avatar .app-content-list-item-star[data-v-747433a3]{position:absolute;cursor:pointer}.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-747433a3]{background-image:none;opacity:1;width:16px;height:16px;display:flex;top:0px;left:0px}.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-747433a3]:hover,.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-747433a3]:focus{opacity:.5}.envelope__header__avatar .app-content-list-item-star.icon-important[data-v-747433a3] path{fill:#fc0;stroke:var(--color-main-background);cursor:pointer}.envelope__header__avatar .app-content-list-item-star.favorite-icon-style[data-v-747433a3]{display:inline-block;top:-2px;right:-2px;stroke:var(--color-main-background);stroke-width:2}.envelope__header__avatar .app-content-list-item-star.favorite-icon-style[data-v-747433a3]:hover{opacity:.5}.envelope__header__avatar .app-content-list-item-star.junk-icon-style[data-v-747433a3]{display:inline-block;bottom:-2px;right:-2px;opacity:.2}.envelope__header__avatar .app-content-list-item-star.junk-icon-style[data-v-747433a3]:hover{opacity:.1}.envelope__header__unsubscribe[data-v-747433a3]{color:var(--color-text-maxcontrast)}.envelope__header__left__sender-subject-tags[data-v-747433a3]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.envelope .subline[data-v-747433a3]{margin-left:8px;color:var(--color-text-maxcontrast);cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.envelope--expanded[data-v-747433a3]{min-height:350px}.left[data-v-747433a3]{flex-grow:1;min-width:0;display:flex;position:relative;z-index:1;padding:2em;margin:-2em;margin-right:0;align-items:center}.left[data-v-747433a3]:not(.seen){font-weight:bold}.tag-group__label[data-v-747433a3]{margin:0 7px;z-index:2;font-size:calc(var(--default-font-size)*.8);font-weight:bold;padding-left:2px;padding-right:2px}.tag-group__bg[data-v-747433a3]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:15%}.tag-group[data-v-747433a3]{display:inline-block;border:1px solid rgba(0,0,0,0);border-radius:var(--border-radius-pill);position:relative;margin:0 1px;overflow:hidden;left:4px}.smime-text[data-v-747433a3]{padding-left:14px}[data-v-747433a3] .action-button__title{font-weight:normal;display:inline;align-items:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ThreadEnvelope.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,eAAA,CAEA,gCACC,mCAAA,CAIF,wBACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,wBAAA,CACA,gBAAA,CACA,WAAA,CAEA,oDACC,eAAA,CAGD,mCACC,iBAAA,CACA,mCAAA,CACA,kBAAA,CACA,eAAA,CAGF,yBACC,kCAAA,CACA,oDACC,YAAA,CAEA,4DACC,6CAAA,CACA,SAAA,CACA,eAAA,CAMH,2BACC,YAAA,CACA,qBAAA,CACA,oCAAA,CACA,kBAAA,CACA,gBAAA,CACA,iBAAA,CACA,6CAAA,CACA,mBAAA,CACA,gFAAA,CACA,UAAA,CACA,2BAAA,CACA,yBACC,KACC,SAAA,CACA,cAAA,CAAA,CAIF,qCACC,gBAAA,CAGD,wCACC,kBAAA,CACA,gBAAA,CAGD,mCACC,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,YAAA,CACA,kCAAA,CACA,eAAA,CAEA,2CACC,iBAAA,CAEA,uEACC,iBAAA,CACA,cAAA,CAEA,sFACC,qBAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,OAAA,CACA,QAAA,CAEA,wLAEC,UAAA,CAGD,2FACC,SAAA,CACA,mCAAA,CACA,cAAA,CAGF,2FACC,oBAAA,CACA,QAAA,CACA,UAAA,CAEA,mCAAA,CACA,cAAA,CACA,iGACC,UAAA,CAGF,uFACC,oBAAA,CACA,WAAA,CACA,UAAA,CACA,UAAA,CACA,6FACC,UAAA,CAMJ,gDACC,mCAAA,CAED,8DACC,sBAAA,CACA,eAAA,CACA,kBAAA,CACA,UAAA,CAIF,oCACC,eAAA,CACA,mCAAA,CACA,cAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CAGD,qCACC,gBAAA,CAGF,uBACC,WAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,SAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CACA,kBAAA,CAED,kCACC,gBAAA,CAED,mCACC,YAAA,CACA,SAAA,CACA,2CAAA,CACA,gBAAA,CACA,gBAAA,CACA,iBAAA,CAED,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CACA,WAAA,CAED,4BACC,oBAAA,CACA,8BAAA,CACA,uCAAA,CACA,iBAAA,CACA,YAAA,CACA,eAAA,CACA,QAAA,CAED,6BAEC,iBAAA,CAED,wCACC,kBAAA,CACA,cAAA,CACA,kBAAA\",\"sourcesContent\":[\"\\n.sender {\\n\\tmargin-left: 8px;\\n\\n\\t&__email{\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\\n.right {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: center;\\n\\tjustify-content: flex-end;\\n\\tmargin-left: 10px;\\n\\theight: 44px;\\n\\n\\t.app-content-list-item-menu {\\n\\t\\tmargin-left: 4px;\\n\\t}\\n\\n\\t.timestamp {\\n\\t\\tmargin-right: 10px;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\twhite-space: nowrap;\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n}\\n.button {\\n\\tcolor: var(--color-main-background);\\n\\t&:not(.active):not(.primary) {\\n\\t\\tdisplay: none;\\n\\n\\t\\t&.primary {\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t\\topacity: 1;\\n\\t\\t\\tmargin-bottom: 0;\\n\\n\\t\\t}\\n\\t}\\n}\\n\\n.envelope {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tborder: 2px solid var(--color-border);\\n\\tborder-radius: 16px;\\n\\tmargin-left: 10px;\\n\\tmargin-right: 10px;\\n\\tbackground-color: var(--color-main-background);\\n\\tpadding-bottom: 28px;\\n\\tanimation: show 200ms 90ms cubic-bezier(.17, .67, .83, .67) forwards;\\n\\topacity: 0.5;\\n\\ttransform-origin: top center;\\n\\t@keyframes show {\\n\\t\\t100% {\\n\\t\\t\\topacity: 1;\\n\\t\\t\\ttransform: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& + .envelope {\\n\\t\\tmargin-top: -28px;\\n\\t}\\n\\n\\t&:last-of-type {\\n\\t\\tmargin-bottom: 10px;\\n\\t\\tpadding-bottom: 0;\\n\\t}\\n\\n\\t&__header {\\n\\t\\tposition: relative;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tpadding: 10px;\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tmin-height: 68px; /* prevents jumping between open/collapsed */\\n\\n\\t\\t&__avatar {\\n\\t\\t\\tposition: relative;\\n\\n\\t\\t\\t.app-content-list-item-star {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tcursor: pointer;\\n\\n\\t\\t\\t\\t&.icon-important {\\n\\t\\t\\t\\t\\tbackground-image: none;\\n\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t\\twidth: 16px;\\n\\t\\t\\t\\t\\theight: 16px;\\n\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\ttop: 0px;\\n\\t\\t\\t\\t\\tleft: 0px;\\n\\n\\t\\t\\t\\t\\t&:hover,\\n\\t\\t\\t\\t\\t&:focus {\\n\\t\\t\\t\\t\\t\\topacity: 0.5;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t:deep(path) {\\n\\t\\t\\t\\t\\t\\tfill: #ffcc00;\\n\\t\\t\\t\\t\\t\\tstroke: var(--color-main-background);\\n\\t\\t\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&.favorite-icon-style {\\n\\t\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\t\\ttop: -2px;\\n\\t\\t\\t\\t\\tright: -2px;\\n\\n\\t\\t\\t\\t\\tstroke: var(--color-main-background);\\n\\t\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\t\\topacity: .5;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&.junk-icon-style {\\n\\t\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\t\\tbottom: -2px;\\n\\t\\t\\t\\t\\tright: -2px;\\n\\t\\t\\t\\t\\topacity: .2;\\n\\t\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\t\\topacity: .1;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__unsubscribe {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t\\t&__left__sender-subject-tags {\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\t.subline {\\n\\t\\tmargin-left: 8px;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tcursor: default;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\n\\t&--expanded {\\n\\t\\tmin-height: 350px;\\n\\t}\\n}\\n.left {\\n\\tflex-grow: 1;\\n\\tmin-width: 0; /* https://css-tricks.com/flexbox-truncated-text/ */\\n\\tdisplay: flex;\\n\\tposition: relative;\\n\\tz-index: 1;\\n\\tpadding: 2em;\\n\\tmargin: -2em;\\n\\tmargin-right: 0;\\n\\talign-items: center;\\n}\\n.left:not(.seen) {\\n\\tfont-weight: bold;\\n}\\n.tag-group__label {\\n\\tmargin: 0 7px;\\n\\tz-index: 2;\\n\\tfont-size: calc(var(--default-font-size) * 0.8);\\n\\tfont-weight: bold;\\n\\tpadding-left: 2px;\\n\\tpadding-right: 2px;\\n}\\n.tag-group__bg {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\topacity: 15%;\\n}\\n.tag-group {\\n\\tdisplay: inline-block;\\n\\tborder: 1px solid transparent;\\n\\tborder-radius: var(--border-radius-pill);\\n\\tposition: relative;\\n\\tmargin: 0 1px;\\n\\toverflow: hidden;\\n\\tleft: 4px;\\n}\\n.smime-text {\\n\\t// same as padding-right on action-text styling\\n\\tpadding-left: 14px;\\n}\\n:deep(.action-button__title) {\\n\\tfont-weight: normal;\\n\\tdisplay: inline;\\n\\talign-items: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.summary[data-v-af0d430e]{border:2px solid var(--color-primary-element);border-radius:var(--border-radius-large);margin:0 10px 20px 10px;padding:24px;display:flex;flex-direction:column}.summary__header[data-v-af0d430e]{display:flex;flex-direction:column}.summary__header__actions[data-v-af0d430e]{display:flex;justify-content:space-between;margin-bottom:10px}.summary__header__actions__brand[data-v-af0d430e]{display:flex;align-items:center;background-color:var(--color-primary-light);border-radius:var(--border-radius-pill);width:fit-content;padding-right:10px;padding-left:4px;margin:8px 0 8px 0}.summary__header__actions__brand__icon[data-v-af0d430e]{color:var(--color-primary-element);margin-right:5px;margin-left:5px}@media only screen and (max-width: 600px){.summary .summary__header[data-v-af0d430e]{flex-direction:column}.summary .summary__header__actions[data-v-af0d430e]{flex-direction:column}.summary .summary__header__actions__brand[data-v-af0d430e]{flex-wrap:nowrap;margin-bottom:10px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ThreadSummary.vue\"],\"names\":[],\"mappings\":\"AACA,0BACI,6CAAA,CACA,wCAAA,CACA,uBAAA,CACA,YAAA,CACA,YAAA,CACA,qBAAA,CAEA,kCACI,YAAA,CACA,qBAAA,CACA,2CACL,YAAA,CACA,6BAAA,CACA,kBAAA,CACS,kDACI,YAAA,CACA,kBAAA,CACA,2CAAA,CACA,uCAAA,CACA,iBAAA,CACA,kBAAA,CACZ,gBAAA,CACA,kBAAA,CAEY,wDACI,kCAAA,CACA,gBAAA,CACf,eAAA,CAMJ,0CAEE,2CACC,qBAAA,CACA,oDACC,qBAAA,CACA,2DACC,gBAAA,CACA,kBAAA,CAAA\",\"sourcesContent\":[\"\\n.summary{\\n    border: 2px solid var(--color-primary-element);\\n    border-radius:var( --border-radius-large) ;\\n    margin: 0 10px 20px 10px;\\n    padding: 24px;\\n    display: flex;\\n    flex-direction: column;\\n\\n    &__header{\\n        display: flex;\\n        flex-direction: column;\\n        &__actions{\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\tmargin-bottom: 10px;\\n            &__brand{\\n                display: flex;\\n                align-items: center;\\n                background-color: var(--color-primary-light);\\n                border-radius: var(--border-radius-pill);\\n                width: fit-content;\\n                padding-right: 10px;\\n\\t\\t\\t\\tpadding-left: 4px;\\n\\t\\t\\t\\tmargin: 8px 0 8px 0;\\n\\n                &__icon{\\n                    color:var(--color-primary-element);\\n                    margin-right: 5px;\\n\\t\\t\\t\\t\\tmargin-left:5px\\n                }\\n            }\\n        }\\n\\n    }\\n\\t@media only screen and (max-width: 600px) {\\n\\t\\t.summary{\\n\\t\\t\\t&__header{\\n\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\t&__actions{\\n\\t\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\t\\t&__brand{\\n\\t\\t\\t\\t\\t\\tflex-wrap: nowrap;\\n\\t\\t\\t\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.event-data[data-v-a34caaa6]{display:flex;flex-direction:column;gap:5px}.event-data__heading[data-v-a34caaa6]{margin-left:36px}.event-data__row[data-v-a34caaa6]{display:flex}.event-data__row__icon[data-v-a34caaa6]{align-self:start;margin:0 8px;padding-top:2px}.muted[data-v-a34caaa6]{color:var(--color-text-lighter)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/imip/EventData.vue\"],\"names\":[],\"mappings\":\"AACA,6BACC,YAAA,CACA,qBAAA,CACA,OAAA,CAEA,sCACC,gBAAA,CAGD,kCACC,YAAA,CAEA,wCACC,gBAAA,CACA,YAAA,CAGA,eAAA,CAKH,wBACC,+BAAA\",\"sourcesContent\":[\"\\n.event-data {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tgap: 5px;\\n\\n\\t&__heading {\\n\\t\\tmargin-left: 36px;\\n\\t}\\n\\n\\t&__row {\\n\\t\\tdisplay: flex;\\n\\n\\t\\t&__icon {\\n\\t\\t\\talign-self: start;\\n\\t\\t\\tmargin: 0 8px;\\n\\n\\t\\t\\t// Fix slight misalignment caused by align-self: start\\n\\t\\t\\tpadding-top: 2px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.muted {\\n\\tcolor: var(--color-text-lighter);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-882a1a0a] .app-content-details{margin:0 auto;max-width:900px;display:flex;flex-direction:column;flex:1 1 100%;min-width:70%}[data-v-882a1a0a] button.app-navigation-toggle{top:8px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/Home.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,aAAA,CACA,eAAA,CACA,YAAA,CACA,qBAAA,CACA,aAAA,CACA,aAAA,CAGD,+CACC,OAAA\",\"sourcesContent\":[\"\\n:deep(.app-content-details) {\\n\\tmargin: 0 auto;\\n\\tmax-width: 900px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex: 1 1 100%;\\n\\tmin-width: 70%;\\n}\\n// Align the appNavigation toggle with the apps header toolbar\\n:deep(button.app-navigation-toggle) {\\n\\ttop: 8px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.list-item-content__actions--primary {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n.list-item-content__actions--primary .action--primary:first-child {\n\tpadding-left: 5px;\n}\n.list-item-content__actions--primary .action--primary:last-child {\n\tpadding-right: 5px;\n}\n.list-item-content__actions--primary .action--primary .action-button {\n\talign-items: center;\n\tflex-direction: column;\n\tpadding: 10px 10px 0 10px;\n.material-design-icon {\n\t\tmargin-bottom: -15px;\n}\n}\n.list-item-content__actions--primary .action--primary .action-button__text,\n.list-item-content__actions--primary .action--primary .action-button__icon {\n\theight: auto;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EnvelopePrimaryActions.vue\"],\"names\":[],\"mappings\":\";AAaA;CACA,aAAA;CACA,8BAAA;AACA;AAEA;CACA,iBAAA;AACA;AAEA;CACA,kBAAA;AACA;AAEA;CACA,mBAAA;CACA,sBAAA;CACA,yBAAA;AAEA;EACA,oBAAA;AACA;AACA;AAEA;;CAEA,YAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<ul class=\\\"list-item-content__actions--primary\\\">\\n\\t\\t<slot />\\n\\t</ul>\\n</template>\\n\\n<script>\\nexport default {\\n\\tname: 'EnvelopePrimaryActions',\\n}\\n</script>\\n\\n<style>\\n.list-item-content__actions--primary {\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n}\\n\\n.list-item-content__actions--primary .action--primary:first-child {\\n\\tpadding-left: 5px;\\n}\\n\\n.list-item-content__actions--primary .action--primary:last-child {\\n\\tpadding-right: 5px;\\n}\\n\\n.list-item-content__actions--primary .action--primary .action-button {\\n\\talign-items: center;\\n\\tflex-direction: column;\\n\\tpadding: 10px 10px 0 10px;\\n\\n\\t.material-design-icon {\\n\\t\\tmargin-bottom: -15px;\\n\\t}\\n}\\n\\n.list-item-content__actions--primary .action--primary .action-button__text,\\n.list-item-content__actions--primary .action--primary .action-button__icon {\\n\\theight: auto;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n#mail-content[data-v-010883ce] {\n\theight: 450px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MessageEncryptedBody.vue\"],\"names\":[],\"mappings\":\";AA8CA;CACA,aAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<div>\\n\\t\\t<div v-if=\\\"mailvelope\\\" id=\\\"mail-content\\\">\\n\\t\\t\\t<MdnRequest :message=\\\"message\\\" />\\n\\t\\t</div>\\n\\t\\t<span v-else>{{ t('mail', 'This message is encrypted with PGP. Install Mailvelope to decrypt it.') }}</span>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { getMailvelope } from '../crypto/mailvelope.js'\\nimport MdnRequest from './MdnRequest.vue'\\n\\nexport default {\\n\\tname: 'MessageEncryptedBody',\\n\\tcomponents: { MdnRequest },\\n\\tprops: {\\n\\t\\tbody: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tfrom: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: false,\\n\\t\\t\\tdefault: undefined,\\n\\t\\t},\\n\\t\\tmessage: {\\n\\t\\t\\trequired: true,\\n\\t\\t\\ttype: Object,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tmailvelope: false,\\n\\t\\t}\\n\\t},\\n\\tasync mounted() {\\n\\t\\tthis.mailvelope = await getMailvelope()\\n\\t\\tthis.mailvelope.createDisplayContainer('#mail-content', this.body, undefined, {\\n\\t\\t\\tsenderAddress: this.from,\\n\\t\\t})\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n#mail-content {\\n\\theight: 450px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n#priority[data-v-61053746] {\n\tdisplay: inline-block;\n}\n.app-content-list-item[data-v-61053746] {\n\topacity: .8;\n}\n.app-content-list-item[data-v-61053746]:hover {\n\tbackground-color: transparent;\n\topacity: 0.8;\n}\nh2[data-v-61053746] {\n\tfont-weight: normal;\n\tfont-size: 17px;\n\tmargin-bottom: 2px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SectionTitle.vue\"],\"names\":[],\"mappings\":\";AAyCA;CACA,qBAAA;AACA;AACA;CACA,WAAA;AACA;AACA;CACA,6BAAA;CACA,YAAA;AACA;AACA;CACA,mBAAA;CACA,eAAA;CACA,kBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright 2020 Greta Doi <gretadoci@gmail.com>\\n  -\\n  - @author 2020 Greta Doi <gretadoci@gmail.com>\\n  -\\n  - @license AGPL-3.0-or-later\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n\\t<div id=\\\"priority\\\">\\n\\t\\t<div class=\\\"app-content-list-item\\\">\\n\\t\\t\\t<h2>{{ name }}</h2>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: 'SectionTitle',\\n\\tprops: {\\n\\t\\tname: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n#priority {\\n\\tdisplay: inline-block;\\n}\\n.app-content-list-item {\\n\\topacity: .8;\\n}\\n.app-content-list-item:hover {\\n\\tbackground-color: transparent;\\n\\topacity: 0.8;\\n}\\nh2 {\\n\\tfont-weight: normal;\\n\\tfont-size: 17px;\\n\\tmargin-bottom: 2px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.reservation[data-v-0f9c598a] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n.event[data-v-0f9c598a] {\n\tflex-grow: 1;\n}\n.event-name[data-v-0f9c598a] {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/itinerary/EventReservation.vue\"],\"names\":[],\"mappings\":\";AAoJA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;CACA,qCAAA;CACA,mCAAA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  -\\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  -\\n  - @license AGPL-3.0-or-later\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n\\t<div class=\\\"reservation\\\">\\n\\t\\t<div class=\\\"event\\\">\\n\\t\\t\\t<div class=\\\"event-name\\\">\\n\\t\\t\\t\\t{{ eventName }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"location\\\" class=\\\"venue\\\">\\n\\t\\t\\t\\t{{ location }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"date\\\">\\n\\t\\t\\t\\t{{ date }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"time\\\">\\n\\t\\t\\t\\t{{ time }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<CalendarImport v-if=\\\"canImport\\\" :calendars=\\\"calendars\\\" :handler=\\\"handleImport\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ical from 'ical.js'\\nimport md5 from 'md5'\\nimport moment from '@nextcloud/moment'\\nimport { showError, showSuccess } from '@nextcloud/dialogs'\\n\\nimport CalendarImport from './CalendarImport.vue'\\nimport { importCalendarEvent } from '../../service/DAVService.js'\\nimport logger from '../../logger.js'\\n\\nexport default {\\n\\tname: 'EventReservation',\\n\\tcomponents: { CalendarImport },\\n\\tprops: {\\n\\t\\tdata: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcalendars: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tmessageId: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\teventName() {\\n\\t\\t\\treturn this.data.reservationFor.name\\n\\t\\t},\\n\\t\\ttime() {\\n\\t\\t\\tif (!('startDate' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('LT')\\n\\t\\t},\\n\\t\\tdate() {\\n\\t\\t\\tif (!('startDate' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('L')\\n\\t\\t},\\n\\t\\tlocation() {\\n\\t\\t\\tif (!('location' in this.data.reservationFor) || !('name' in this.data.reservationFor.location)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn this.data.reservationFor.location.name\\n\\t\\t},\\n\\t\\tcanImport() {\\n\\t\\t\\treturn 'startDate' in this.data.reservationFor\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tgetEndDateTime(event) {\\n\\t\\t\\tif ('endDate' in this.data.reservationFor) {\\n\\t\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.endDate)).format()\\n\\t\\t\\t} else if ('startDate' in this.data.reservationFor) {\\n\\t\\t\\t\\t// Assume it's 2h and user will adjust if necessary\\n\\t\\t\\t\\t// TODO: handle 'duration' https://schema.org/Event\\n\\t\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).add(2, 'hours').format()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\thandleImport(calendar) {\\n\\t\\t\\tconst event = new ical.Component('VEVENT')\\n\\t\\t\\tevent.updatePropertyWithValue('SUMMARY', this.eventName)\\n\\n\\t\\t\\tconst start = moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format()\\n\\t\\t\\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(start))\\n\\t\\t\\tconst end = this.getEndDateTime(this.data.reservationFor)\\n\\t\\t\\tevent.updatePropertyWithValue('DTEND', ical.Time.fromDateTimeString(end))\\n\\n\\t\\t\\tif ('location' in this.data.reservationFor) {\\n\\t\\t\\t\\tevent.updatePropertyWithValue('LOCATION', this.data.reservationFor.location.name)\\n\\t\\t\\t\\tif ('geo' in this.data.reservationFor.location) {\\n\\t\\t\\t\\t\\t// https://www.kanzaki.com/docs/ical/geo.html\\n\\t\\t\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t\\t\\t'GEO',\\n\\t\\t\\t\\t\\t\\t`${this.data.reservationFor.location.geo.latitude};${this.data.reservationFor.location.geo.longitude}`\\n\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TODO: read version from package.json\\n\\t\\t\\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\\n\\n\\t\\t\\t// TODO: is this free of collisions? the bug reports will tell us!\\n\\t\\t\\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.eventName))\\n\\n\\t\\t\\tconst cal = new ical.Component('VCALENDAR')\\n\\t\\t\\tcal.addSubcomponent(event)\\n\\t\\t\\tlogger.debug('generated calendar event from event reservation data', { ical: cal.toString() })\\n\\t\\t\\treturn importCalendarEvent(calendar.url)(cal.toString())\\n\\t\\t\\t\\t.then(() => {\\n\\t\\t\\t\\t\\tlogger.debug('event successfully imported')\\n\\t\\t\\t\\t\\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tlogger.error('Could not import event', { error })\\n\\t\\t\\t\\t\\tshowError(t('mail', 'Could not create event'))\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.reservation {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tmargin: 30px 38px;\\n\\tborder: 1px solid var(--color-border);\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 20px;\\n\\talign-items: center;\\n}\\n\\n.event {\\n\\tflex-grow: 1;\\n}\\n\\n.event-name {\\n\\tfont-size: larger;\\n\\tfont-weight: bold;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.reservation[data-v-5466bd04] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n.departure[data-v-5466bd04],\n.arrival[data-v-5466bd04] {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n.departure[data-v-5466bd04],\n.arrival[data-v-5466bd04],\n.connection[data-v-5466bd04] {\n\tjustify-content: center;\n}\n.iata[data-v-5466bd04] {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n.airport[data-v-5466bd04] {\n\tfont-size: large;\n}\n.departure[data-v-5466bd04] {\n\ttext-align: right;\n}\n.connection[data-v-5466bd04] {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/itinerary/FlightReservation.vue\"],\"names\":[],\"mappings\":\";AA2JA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;CACA,qCAAA;CACA,mCAAA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;;CAEA,aAAA;CACA,sBAAA;CACA,YAAA;AACA;AAEA;;;CAGA,uBAAA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA;AAEA;CACA,gBAAA;AACA;AAEA;CACA,iBAAA;AACA;AAEA;CACA,kBAAA;CACA,eAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"reservation\\\">\\n\\t\\t<div class=\\\"departure\\\">\\n\\t\\t\\t<div class=\\\"iata\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.departureAirport.iataCode }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"airport\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.departureAirport.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureDate\\\">\\n\\t\\t\\t\\t{{ departureDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureTime\\\">\\n\\t\\t\\t\\t{{ departureTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"connection\\\">\\n\\t\\t\\t<div><AirplaneIcon :title=\\\"t('mail', 'Airplane')\\\" /></div>\\n\\t\\t\\t<div>{{ flightNumber }}</div>\\n\\t\\t\\t<div v-if=\\\"reservation\\\">\\n\\t\\t\\t\\t{{ t('mail', 'Reservation {id}', {id: reservation}) }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t<ArrowIcon decorative />\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"arrival\\\">\\n\\t\\t\\t<div class=\\\"iata\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.arrivalAirport.iataCode }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"airport\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.arrivalAirport.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalDate\\\">\\n\\t\\t\\t\\t{{ arrivalDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalTime\\\">\\n\\t\\t\\t\\t{{ arrivalTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<CalendarImport :calendars=\\\"calendars\\\" :handler=\\\"handleImport\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport AirplaneIcon from 'vue-material-design-icons/Airplane'\\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight'\\nimport ical from 'ical.js'\\nimport md5 from 'md5'\\nimport moment from '@nextcloud/moment'\\nimport { showError, showSuccess } from '@nextcloud/dialogs'\\n\\nimport CalendarImport from './CalendarImport.vue'\\nimport { importCalendarEvent } from '../../service/DAVService.js'\\nimport logger from '../../logger.js'\\n\\nexport default {\\n\\tname: 'FlightReservation',\\n\\tcomponents: {\\n\\t\\tAirplaneIcon,\\n\\t\\tArrowIcon,\\n\\t\\tCalendarImport,\\n\\t},\\n\\tprops: {\\n\\t\\tdata: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcalendars: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tmessageId: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tdepartureTime() {\\n\\t\\t\\tif (!('departureTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\\n\\t\\t},\\n\\t\\tdepartureDate() {\\n\\t\\t\\tif (!('departureTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\\n\\t\\t},\\n\\t\\tarrivalTime() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\\n\\t\\t},\\n\\t\\tarrivalDate() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\\n\\t\\t},\\n\\t\\tflightNumber() {\\n\\t\\t\\treturn this.data.reservationFor.airline.iataCode + this.data.reservationFor.flightNumber\\n\\t\\t},\\n\\t\\treservation() {\\n\\t\\t\\tif (!('reservationNumber' in this.data)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn this.data.reservationNumber\\n\\t\\t},\\n\\t\\tcanImport() {\\n\\t\\t\\treturn 'departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\thandleImport(calendar) {\\n\\t\\t\\tconst event = new ical.Component('VEVENT')\\n\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t'SUMMARY',\\n\\t\\t\\t\\tt('mail', 'Flight {flightNr} from {depAirport} to {arrAirport}', {\\n\\t\\t\\t\\t\\tflightNr: this.flightNumber,\\n\\t\\t\\t\\t\\tdepAirport: this.data.reservationFor.departureAirport.iataCode,\\n\\t\\t\\t\\t\\tarrAirport: this.data.reservationFor.arrivalAirport.iataCode,\\n\\t\\t\\t\\t})\\n\\t\\t\\t)\\n\\n\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\\n\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\\n\\n\\t\\t\\t// TODO: read version from package.json\\n\\t\\t\\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\\n\\n\\t\\t\\t// TODO: is this free of collisions? the bug reports will tell us!\\n\\t\\t\\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.flightNumber))\\n\\n\\t\\t\\tconst cal = new ical.Component('VCALENDAR')\\n\\t\\t\\tcal.addSubcomponent(event)\\n\\t\\t\\tlogger.debug('generated calendar event from flight reservation data', { ical: cal.toString() })\\n\\n\\t\\t\\treturn importCalendarEvent(calendar.url)(cal.toString())\\n\\t\\t\\t\\t.then(() => {\\n\\t\\t\\t\\t\\tlogger.debug('event successfully imported')\\n\\t\\t\\t\\t\\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tlogger.error('Could not import event', { error })\\n\\t\\t\\t\\t\\tshowError(t('mail', 'Could not create event'))\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.reservation {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tmargin: 30px 38px;\\n\\tborder: 1px solid var(--color-border);\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 20px;\\n\\talign-items: center;\\n}\\n\\n.departure,\\n.arrival {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex-grow: 1;\\n}\\n\\n.departure,\\n.arrival,\\n.connection {\\n\\tjustify-content: center;\\n}\\n\\n.iata {\\n\\tfont-size: larger;\\n\\tfont-weight: bold;\\n}\\n\\n.airport {\\n\\tfont-size: large;\\n}\\n\\n.departure {\\n\\ttext-align: right;\\n}\\n\\n.connection {\\n\\ttext-align: center;\\n\\tpadding: 0 40px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.reservation[data-v-7774c905] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n.departure[data-v-7774c905],\n.arrival[data-v-7774c905] {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n.departure[data-v-7774c905],\n.arrival[data-v-7774c905],\n.connection[data-v-7774c905] {\n\tjustify-content: center;\n}\n.station[data-v-7774c905] {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n.departure[data-v-7774c905] {\n\ttext-align: right;\n}\n.connection[data-v-7774c905] {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/itinerary/TrainReservation.vue\"],\"names\":[],\"mappings\":\";AA+JA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;CACA,qCAAA;CACA,mCAAA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;;CAEA,aAAA;CACA,sBAAA;CACA,YAAA;AACA;AAEA;;;CAGA,uBAAA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA;AAEA;CACA,iBAAA;AACA;AAEA;CACA,kBAAA;CACA,eAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"reservation\\\">\\n\\t\\t<div class=\\\"departure\\\">\\n\\t\\t\\t<div class=\\\"station\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.departureStation.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureDate\\\">\\n\\t\\t\\t\\t{{ departureDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"departureTime\\\">\\n\\t\\t\\t\\t{{ departureTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"connection\\\">\\n\\t\\t\\t<div><TrainIcon :title=\\\"t('mail', 'Train')\\\" /></div>\\n\\t\\t\\t<div>{{ trainNumber }}</div>\\n\\t\\t\\t<div><ArrowIcon decorative /></div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"arrival\\\">\\n\\t\\t\\t<div class=\\\"station\\\">\\n\\t\\t\\t\\t{{ data.reservationFor.arrivalStation.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalDate\\\">\\n\\t\\t\\t\\t{{ arrivalDate }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"arrivalTime\\\">\\n\\t\\t\\t\\t{{ arrivalTime }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<CalendarImport v-if=\\\"canImport\\\" :calendars=\\\"calendars\\\" :handler=\\\"handleImport\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight'\\nimport ical from 'ical.js'\\nimport md5 from 'md5'\\nimport moment from '@nextcloud/moment'\\nimport { showError, showSuccess } from '@nextcloud/dialogs'\\nimport TrainIcon from 'vue-material-design-icons/Train'\\n\\nimport CalendarImport from './CalendarImport.vue'\\nimport { importCalendarEvent } from '../../service/DAVService.js'\\nimport logger from '../../logger.js'\\n\\nexport default {\\n\\tname: 'TrainReservation',\\n\\tcomponents: {\\n\\t\\tArrowIcon,\\n\\t\\tCalendarImport,\\n\\t\\tTrainIcon,\\n\\t},\\n\\tprops: {\\n\\t\\tdata: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcalendars: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tmessageId: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tdepartureTime() {\\n\\t\\t\\tif (!('departureTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\\n\\t\\t},\\n\\t\\tdepartureDate() {\\n\\t\\t\\tif ('departureTime' in this.data.reservationFor) {\\n\\t\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\\n\\t\\t\\t}\\n\\t\\t\\tif ('departureDay' in this.data.reservationFor) {\\n\\t\\t\\t\\treturn moment(this.data.reservationFor.departureDay).format('L')\\n\\t\\t\\t}\\n\\t\\t\\treturn undefined\\n\\t\\t},\\n\\t\\tarrivalTime() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\\n\\t\\t},\\n\\t\\tarrivalDate() {\\n\\t\\t\\tif (!('arrivalTime' in this.data.reservationFor)) {\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\\n\\t\\t},\\n\\t\\ttrainNumber() {\\n\\t\\t\\treturn this.data.reservationFor.trainNumber\\n\\t\\t},\\n\\t\\tcanImport() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor)\\n\\t\\t\\t\\t|| 'departureDay' in this.data.reservationFor\\n\\t\\t\\t)\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\thandleImport(calendar) {\\n\\t\\t\\tconst event = new ical.Component('VEVENT')\\n\\t\\t\\tif ('trainNumber' in this.data.reservationFor) {\\n\\t\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t\\t'SUMMARY',\\n\\t\\t\\t\\t\\tt('mail', '{trainNr} from {depStation} to {arrStation}', {\\n\\t\\t\\t\\t\\t\\ttrainNr: this.data.reservationFor.trainNumber,\\n\\t\\t\\t\\t\\t\\tdepStation: this.data.reservationFor.departureStation.name,\\n\\t\\t\\t\\t\\t\\tarrStation: this.data.reservationFor.arrivalStation.name,\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tevent.updatePropertyWithValue(\\n\\t\\t\\t\\t\\t'SUMMARY',\\n\\t\\t\\t\\t\\tt('mail', 'Train from {depStation} to {arrStation}', {\\n\\t\\t\\t\\t\\t\\tdepStation: this.data.reservationFor.departureStation.name,\\n\\t\\t\\t\\t\\t\\tarrStation: this.data.reservationFor.arrivalStation.name,\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t)\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor) {\\n\\t\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\\n\\t\\t\\t\\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\\n\\t\\t\\t} else if ('departureDay' in this.data.reservationFor) {\\n\\t\\t\\t\\tconst date = moment(this.data.reservationFor.departureDay).format()\\n\\t\\t\\t\\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(date))\\n\\t\\t\\t}\\n\\n\\t\\t\\t// TODO: read version from package.json\\n\\t\\t\\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\\n\\n\\t\\t\\t// TODO: is this free of collisions? the bug reports will tell us!\\n\\t\\t\\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.departureTime))\\n\\n\\t\\t\\tconst cal = new ical.Component('VCALENDAR')\\n\\t\\t\\tcal.addSubcomponent(event)\\n\\t\\t\\tlogger.debug('generated calendar event from train reservation data', { ical: cal.toString() })\\n\\n\\t\\t\\treturn importCalendarEvent(calendar.url)(cal.toString())\\n\\t\\t\\t\\t.then(() => {\\n\\t\\t\\t\\t\\tlogger.debug('event successfully imported')\\n\\t\\t\\t\\t\\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tlogger.error('Could not import event', { error })\\n\\t\\t\\t\\t\\tshowError(t('mail', 'Could not create event'))\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.reservation {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tmargin: 30px 38px;\\n\\tborder: 1px solid var(--color-border);\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 20px;\\n\\talign-items: center;\\n}\\n\\n.departure,\\n.arrival {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex-grow: 1;\\n}\\n\\n.departure,\\n.arrival,\\n.connection {\\n\\tjustify-content: center;\\n}\\n\\n.station {\\n\\tfont-size: larger;\\n\\tfont-weight: bold;\\n}\\n\\n.departure {\\n\\ttext-align: right;\\n}\\n\\n.connection {\\n\\ttext-align: center;\\n\\tpadding: 0 40px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z\\\" stroke=\\\"#000\\\" stroke-width=\\\"2\\\"></path></svg>\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[(_vm.hint)?_c('EmptyContent',{attrs:{\"title\":_vm.hint},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.slowHint && _vm.slow)?_c('em',[_vm._v(_vm._s(_vm.slowHint))]):_vm._e()])],1):_c('IconLoading',{staticClass:\"container\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"wrapper\">\n\t\t<EmptyContent v-if=\"hint\"\n\t\t\t:title=\"hint\">\n\t\t\t<template #icon>\n\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t</template>\n\t\t\t<transition name=\"fade\">\n\t\t\t\t<em v-if=\"slowHint && slow\">{{ slowHint }}</em>\n\t\t\t</transition>\n\t\t</EmptyContent>\n\t\t<IconLoading v-else class=\"container\" />\n\t</div>\n</template>\n\n<script>\nimport { NcLoadingIcon as IconLoading, NcEmptyContent as EmptyContent } from '@nextcloud/vue'\nexport default {\n\tname: 'Loading',\n\tcomponents: {\n\t\tIconLoading,\n\t\tEmptyContent,\n\t},\n\tprops: {\n\t\thint: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\tslowHint: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tslow: false,\n\t\t\tslowTimer: undefined,\n\t\t}\n\t},\n\tmounted() {\n\t\tclearTimeout(this.slowTimer)\n\n\t\tthis.slowTimer = setTimeout(() => {\n\t\t\tthis.slow = true\n\t\t}, 3500)\n\t},\n\tbeforeDestroy() {\n\t\tclearTimeout(this.slowTimer)\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.fade-enter-active,\n.fade-leave-active {\n\ttransition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n\topacity: 0;\n}\n\n.wrapper {\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tflex-direction: column;\n\tflex: 1 auto;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=33b18a28&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=33b18a28&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=33b18a28&scoped=true\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=33b18a28&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33b18a28\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Content',{attrs:{\"app-name\":\"mail\"}},[_c('Navigation'),_vm._v(\" \"),(_vm.$route.name === 'outbox')?_c('Outbox'):(_vm.activeAccount)?_c('MailboxThread',{attrs:{\"account\":_vm.activeAccount,\"mailbox\":_vm.activeMailbox}}):_vm._e(),_vm._v(\" \"),(_vm.hasComposerSession)?[_c('ComposerSessionIndicator',{on:{\"close\":_vm.onCloseMessageModal}}),_vm._v(\" \"),_c('NewMessageModal',{ref:\"newMessageModal\",attrs:{\"accounts\":_vm.accounts}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mail.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mail.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mobile.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mobile.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","<!--\n  - @copyright 2020 Greta Doi <gretadoci@gmail.com>\n  -\n  - @author 2020 Greta Doi <gretadoci@gmail.com>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div id=\"priority\">\n\t\t<div class=\"app-content-list-item\">\n\t\t\t<h2>{{ name }}</h2>\n\t\t</div>\n\t</div>\n</template>\n<script>\nexport default {\n\tname: 'SectionTitle',\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n#priority {\n\tdisplay: inline-block;\n}\n.app-content-list-item {\n\topacity: .8;\n}\n.app-content-list-item:hover {\n\tbackground-color: transparent;\n\topacity: 0.8;\n}\nh2 {\n\tfont-weight: normal;\n\tfont-size: 17px;\n\tmargin-bottom: 2px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=style&index=0&id=61053746&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=style&index=0&id=61053746&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SectionTitle.vue?vue&type=template&id=61053746&scoped=true\"\nimport script from \"./SectionTitle.vue?vue&type=script&lang=js\"\nexport * from \"./SectionTitle.vue?vue&type=script&lang=js\"\nimport style0 from \"./SectionTitle.vue?vue&type=style&index=0&id=61053746&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61053746\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"priority\"}},[_c('div',{staticClass:\"app-content-list-item\"},[_c('h2',[_vm._v(_vm._s(_vm.name))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\n\n/**\n * Vendored and fixed version of the abandoned https://github.com/ElemeFE/vue-infinite-scroll lib\n */\n\nconst ctx = '@@InfiniteScroll';\n\nvar throttle = function (fn, delay) {\n  var now, lastExec, timer, context, args; //eslint-disable-line\n\n  var execute = function () {\n    fn.apply(context, args);\n    lastExec = now;\n  };\n\n  return function () {\n    context = this;\n    args = arguments;\n\n    now = Date.now();\n\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    if (lastExec) {\n      var diff = delay - (now - lastExec);\n      if (diff < 0) {\n        execute();\n      } else {\n        timer = setTimeout(() => {\n          execute();\n        }, diff);\n      }\n    } else {\n      execute();\n    }\n  };\n};\n\nvar getScrollTop = function (element) {\n  if (element === window) {\n    return Math.max(window.pageYOffset || 0, document.documentElement.scrollTop);\n  }\n\n  return element.scrollTop;\n};\n\nvar getComputedStyle = document.defaultView.getComputedStyle;\n\nvar getScrollEventTarget = function (element) {\n  var currentNode = element;\n  // bugfix, see http://w3help.org/zh-cn/causes/SD9013 and http://stackoverflow.com/questions/17016740/onscroll-function-is-not-working-for-chrome\n  while (currentNode && currentNode.tagName !== 'HTML' && currentNode.tagName !== 'BODY' && currentNode.nodeType === 1) {\n    var overflowY = getComputedStyle(currentNode).overflowY;\n    if (overflowY === 'scroll' || overflowY === 'auto') {\n      return currentNode;\n    }\n    currentNode = currentNode.parentNode;\n  }\n  return window;\n};\n\nvar getVisibleHeight = function (element) {\n  if (element === window) {\n    return document.documentElement.clientHeight;\n  }\n\n  return element.clientHeight;\n};\n\nvar getElementTop = function (element) {\n  if (element === window) {\n    return getScrollTop(window);\n  }\n  return element.getBoundingClientRect().top + getScrollTop(window);\n};\n\nvar isAttached = function (element) {\n  var currentNode = element.parentNode;\n  while (currentNode) {\n    if (currentNode.tagName === 'HTML') {\n      return true;\n    }\n    if (currentNode.nodeType === 11) {\n      return false;\n    }\n    currentNode = currentNode.parentNode;\n  }\n  return false;\n};\n\nvar doBind = function () {\n  if (this.binded) return; // eslint-disable-line\n  this.binded = true;\n\n  var directive = this;\n  var element = directive.el;\n\n  var throttleDelayExpr = element.getAttribute('infinite-scroll-throttle-delay');\n  var throttleDelay = 200;\n  if (throttleDelayExpr) {\n    throttleDelay = Number(directive.vm[throttleDelayExpr] || throttleDelayExpr);\n    if (isNaN(throttleDelay) || throttleDelay < 0) {\n      throttleDelay = 200;\n    }\n  }\n  directive.throttleDelay = throttleDelay;\n\n  directive.scrollEventTarget = getScrollEventTarget(element);\n  directive.scrollListener = throttle(doCheck.bind(directive), directive.throttleDelay);\n  directive.scrollEventTarget.addEventListener('scroll', directive.scrollListener);\n\n  this.vm.$on('hook:beforeDestroy', function () {\n    directive.scrollEventTarget.removeEventListener('scroll', directive.scrollListener);\n  });\n\n  var disabledExpr = element.getAttribute('infinite-scroll-disabled');\n  var disabled = false;\n\n  if (disabledExpr) {\n    this.vm.$watch(disabledExpr, function(value) {\n      directive.disabled = value;\n      if (!value && directive.immediateCheck) {\n        doCheck.call(directive);\n      }\n    });\n    disabled = Boolean(directive.vm[disabledExpr]);\n  }\n  directive.disabled = disabled;\n\n  var distanceExpr = element.getAttribute('infinite-scroll-distance');\n  var distance = 0;\n  if (distanceExpr) {\n    distance = Number(directive.vm[distanceExpr] || distanceExpr);\n    if (isNaN(distance)) {\n      distance = 0;\n    }\n  }\n  directive.distance = distance;\n\n  var immediateCheckExpr = element.getAttribute('infinite-scroll-immediate-check');\n  var immediateCheck = true;\n  if (immediateCheckExpr) {\n    immediateCheck = Boolean(directive.vm[immediateCheckExpr]);\n  }\n  directive.immediateCheck = immediateCheck;\n\n  if (immediateCheck) {\n    doCheck.call(directive);\n  }\n\n  var eventName = element.getAttribute('infinite-scroll-listen-for-event');\n  if (eventName) {\n    directive.vm.$on(eventName, function() {\n      doCheck.call(directive);\n    });\n  }\n};\n\nvar doCheck = function (force) {\n  var scrollEventTarget = this.scrollEventTarget;\n  var element = this.el;\n  var distance = this.distance;\n\n  if (force !== true && this.disabled) return; //eslint-disable-line\n  var viewportScrollTop = getScrollTop(scrollEventTarget);\n  var viewportBottom = viewportScrollTop + getVisibleHeight(scrollEventTarget);\n\n  var shouldTrigger = false;\n\n  if (scrollEventTarget === element) {\n    shouldTrigger = scrollEventTarget.scrollHeight - viewportBottom <= distance;\n  } else {\n    var elementBottom = getElementTop(element) - getElementTop(scrollEventTarget) + element.offsetHeight + viewportScrollTop;\n\n    shouldTrigger = viewportBottom + distance >= elementBottom;\n  }\n\n  if (shouldTrigger && this.expression) {\n    this.expression();\n  }\n};\n\nexport default {\n  bind(el, binding, vnode) {\n    el[ctx] = {\n      el,\n      vm: vnode.context,\n      expression: binding.value\n    };\n    const args = arguments;\n    console.info('binding', el, binding, vnode)\n    el[ctx].vm.$nextTick(function () {\n      if (isAttached(el)) {\n        doBind.call(el[ctx], args);\n      }\n\n      el[ctx].bindTryCount = 0;\n\n      var tryBind = function () {\n        if (el[ctx].bindTryCount > 10) return; //eslint-disable-line\n        el[ctx].bindTryCount++;\n        if (isAttached(el)) {\n          doBind.call(el[ctx], args);\n        } else {\n          setTimeout(tryBind, 50);\n        }\n      };\n\n      tryBind();\n    });\n  },\n\n  unbind(el) {\n    if (el && el[ctx] && el[ctx].scrollEventTarget)\n      el[ctx].scrollEventTarget.removeEventListener('scroll', el[ctx].scrollListener);\n  }\n};\n","<template>\n\t<NcEmptyContent\n\t\t:title=\"t('mail', 'No messages in this mailbox')\">\n\t\t<template #icon>\n\t\t\t<IconMail :size=\"65\" />\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport IconMail from 'vue-material-design-icons/Email'\nimport NcEmptyContent from '@nextcloud/vue/dist/Components/NcEmptyContent'\n\nexport default {\n\tname: 'EmptyMailbox',\n\tcomponents: {\n\t\tIconMail,\n\t\tNcEmptyContent,\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailbox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmptyMailbox.vue?vue&type=template&id=737c46df\"\nimport script from \"./EmptyMailbox.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyMailbox.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{attrs:{\"title\":_vm.t('mail', 'No messages in this mailbox')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail',{attrs:{\"size\":65}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('transition',{attrs:{\"name\":\"multiselect-header\"}},[(_vm.selectMode)?_c('div',{key:\"multiselect-header\",staticClass:\"multiselect-header\"},[_c('div',{staticClass:\"button primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectedSeenOrUnseen.apply(null, arguments)}}},[_c('span',{attrs:{\"id\":\"action-label\"}},[_vm._v(_vm._s(_vm.areAllSelectedRead\n\t\t\t\t\t\t? _vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Mark {number} unread',\n\t\t\t\t\t\t\t'Mark {number} unread',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: _vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Mark {number} read',\n\t\t\t\t\t\t\t'Mark {number} read',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)))])]),_vm._v(\" \"),_c('Actions',{staticClass:\"app-content-list-item-menu\",attrs:{\"menu-align\":\"right\"}},[(_vm.isAtLeastOneSelectedUnimportant)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionImportant.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImportantIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4006335173)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Mark {number} as important',\n\t\t\t\t\t\t\t'Mark {number} as important',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedImportant)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionUnimportant.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImportantIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4006335173)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Mark {number} as unimportant',\n\t\t\t\t\t\t\t'Mark {number} as unimportant',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.favoriteOrUnfavoriteAll.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFavorite',{attrs:{\"size\":20}})]},proxy:true}],null,false,747028727)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.areAllSelectedFavorite\n\t\t\t\t\t\t\t? _vm.n(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Unfavorite {number}',\n\t\t\t\t\t\t\t\t'Unfavorite {number}',\n\t\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: _vm.n(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Favorite {number}',\n\t\t\t\t\t\t\t\t'Favorite {number}',\n\t\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.isAtLeastOneSelectedNotJunk)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4042396370)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Mark {number} as spam',\n\t\t\t\t\t\t\t'Mark {number} as spam',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isAtLeastOneSelectedJunk)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.markSelectionNotJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4042396370)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Mark {number} as not spam',\n\t\t\t\t\t\t\t'Mark {number} as not spam',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.unselectAll.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSelect',{attrs:{\"size\":20}})]},proxy:true}],null,false,3052863531)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'Unselect {number}',\n\t\t\t\t\t\t'Unselect {number}',\n\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t}\n\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenTagModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TagIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3295128625)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'Edit tags for {number}',\n\t\t\t\t\t\t'Edit tags for {number}',\n\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t}\n\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.account.isUnified)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('OpenInNewIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1266168172)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'Move {number} thread',\n\t\t\t\t\t\t'Move {number} threads',\n\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t}\n\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.forwardSelectedAsAttachment.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ShareIcon',{attrs:{\"title\":_vm.t('mail', 'Forward'),\"size\":20}})]},proxy:true}],null,false,3681882419)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'Forward {number} as attachment',\n\t\t\t\t\t\t'Forward {number} as attachment',\n\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnumber: _vm.selection.length,\n\t\t\t\t\t\t}\n\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteAllSelected.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":20}})]},proxy:true}],null,false,881161434)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Delete {number} thread',\n\t\t\t\t\t\t\t'Delete {number} threads',\n\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber:\n\t\t\t\t\t\t\t\t\t_vm.selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.showMoveModal)?_c('MoveModal',{attrs:{\"account\":_vm.account,\"envelopes\":_vm.selectedEnvelopes,\"move-thread\":true},on:{\"close\":_vm.onCloseMoveModal}}):_vm._e()],1):_vm._e()]),_vm._v(\" \"),_c('transition-group',{attrs:{\"name\":\"list\"}},[_vm._l((_vm.sortedEnvelops),function(env,index){return _c('Envelope',{key:env.databaseId,attrs:{\"data\":env,\"mailbox\":_vm.mailbox,\"selected\":_vm.selection.includes(env.databaseId),\"select-mode\":_vm.selectMode,\"has-multiple-accounts\":_vm.hasMultipleAccounts,\"selected-envelopes\":_vm.selectedEnvelopes},on:{\"delete\":function($event){return _vm.$emit('delete', env.databaseId)},\"update:selected\":function($event){return _vm.onEnvelopeSelectToggle(env, index, $event)},\"select-multiple\":function($event){return _vm.onEnvelopeSelectMultiple(env, index)}}})}),_vm._v(\" \"),(_vm.loadMoreButton && !_vm.loadingMore)?_c('div',{key:'list-collapse-' + _vm.searchQuery,staticClass:\"load-more\",on:{\"click\":function($event){return _vm.$emit('load-more')}}},[_c('AddIcon',{attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Load more'))+\"\\n\\t\\t\")],1):_vm._e(),_vm._v(\" \"),_c('div',{key:\"loadingMore\",class:{'icon-loading-small': _vm.loadingMore},attrs:{\"id\":\"load-more-mail-messages\"}})],2),_vm._v(\" \"),(_vm.showTagModal)?_c('TagModal',{attrs:{\"account\":_vm.account,\"envelopes\":_vm.selectedEnvelopes},on:{\"close\":_vm.onCloseTagModal}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport memoize from 'lodash/fp/memoize'\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport const fetchAvatarUrl = (email) => {\n\tif (email === null) {\n\t\treturn Promise.resolve(undefined)\n\t}\n\n\tconst url = generateUrl('/apps/mail/api/avatars/url/{email}', {\n\t\temail,\n\t})\n\n\treturn Axios.get(url)\n\t\t.then((resp) => resp.data)\n\t\t.then((avatar) => {\n\t\t\tif (avatar.isExternal) {\n\t\t\t\treturn generateUrl('/apps/mail/api/avatars/image/{email}', {\n\t\t\t\t\temail,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\treturn avatar.url\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\tif (err.response.status === 404) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\treturn Promise.reject(err)\n\t\t})\n}\n\nexport const fetchAvatarUrlMemoized = memoize(fetchAvatarUrl)\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js\"","<!--\n  - @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2021 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<BaseAvatar v-if=\"loading || !hasAvatar\"\n\t\t:display-name=\"displayName\"\n\t\t:size=\"size\"\n\t\t:disable-tooltip=\"disableTooltip\" />\n\t<BaseAvatar v-else\n\t\t:display-name=\"displayName\"\n\t\t:url=\"avatarUrl\"\n\t\t:size=\"size\"\n\t\t:disable-tooltip=\"disableTooltip\" />\n</template>\n\n<script>\nimport BaseAvatar from '@nextcloud/vue/dist/Components/NcAvatar'\nimport { fetchAvatarUrlMemoized } from '../service/AvatarService.js'\nimport logger from '../logger.js'\n\nexport default {\n\tname: 'Avatar',\n\tcomponents: {\n\t\tBaseAvatar,\n\t},\n\tprops: {\n\t\tdisplayName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\temail: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdisableTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 40,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tavatarUrl: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\thasAvatar() {\n\t\t\treturn this.avatarUrl !== undefined\n\t\t},\n\t},\n\tasync mounted() {\n\t\tif (this.email !== '') {\n\t\t\ttry {\n\t\t\t\tthis.avatarUrl = await fetchAvatarUrlMemoized(this.email)\n\t\t\t} catch {\n\t\t\t\tlogger.debug('Could not fetch avatar', { email: this.email })\n\t\t\t}\n\t\t}\n\n\t\tthis.loading = false\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./Avatar.vue?vue&type=template&id=7f4d0c32\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.loading || !_vm.hasAvatar)?_c('BaseAvatar',{attrs:{\"display-name\":_vm.displayName,\"size\":_vm.size,\"disable-tooltip\":_vm.disableTooltip}}):_c('BaseAvatar',{attrs:{\"display-name\":_vm.displayName,\"url\":_vm.avatarUrl,\"size\":_vm.size,\"disable-tooltip\":_vm.disableTooltip}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import dragEventBus from '../util/dragEventBus'\nimport defer from 'lodash/defer'\n\nexport class DraggableEnvelope {\n\n\tconstructor(el, componentInstance, options) {\n\t\tthis.el = el\n\t\tthis.options = options\n\t\tthis.registerListeners.bind(this)(el)\n\t\tthis.setInitialAttributes()\n\t}\n\n\tsetInitialAttributes() {\n\t\tthis.el.setAttribute('draggable', 'true')\n\t\tthis.el.classList.add('draggable-envelope')\n\t}\n\n\tupdate(el, instance) {\n\t\tthis.options = instance.options\n\t}\n\n\tregisterListeners(el) {\n\t\tel.addEventListener('dragstart', this.onDragStart.bind(this))\n\t\tel.addEventListener('dragend', this.onDragEnd.bind(this))\n\t}\n\n\tremoveListeners(el) {\n\t\tel.removeEventListener('dragstart', this.onDragStart)\n\t\tel.removeEventListener('dragend', this.onDragEnd)\n\t}\n\n\tonDragStart(event) {\n\t\tif (!this.options.isDraggable) {\n\t\t\treturn\n\t\t}\n\t\tconst { accountId, mailboxId, selectedEnvelopes } = this.options\n\n\t\tevent.dataTransfer.clearData()\n\t\tevent.dataTransfer.effectAllowed = 'move'\n\n\t\tconst envelopes = []\n\t\tif (selectedEnvelopes.length) {\n\t\t\t// handle dragged selection mode items\n\t\t\tselectedEnvelopes.forEach((envelope, index) => {\n\t\t\t\tenvelopes.push({\n\t\t\t\t\taccountId,\n\t\t\t\t\tmailboxId,\n\t\t\t\t\tenvelopeId: envelope.databaseId,\n\t\t\t\t\tdraggableLabel: `${envelope.subject} (${envelope.from[0].label})`,\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\t// handle single dragged item\n\t\t\tconst { envelopeId, draggableLabel } = this.options\n\t\t\tenvelopes.push({ accountId, mailboxId, envelopeId, draggableLabel })\n\t\t}\n\n\t\tevent.dataTransfer.setData('text/plain', JSON.stringify(envelopes))\n\t\tthis.attachGhost({ event, envelopes })\n\n\t\tdragEventBus.$emit('drag-start', {\n\t\t\taccountId,\n\t\t\tmailboxId,\n\t\t\titemCount: envelopes.length,\n\t\t})\n\t}\n\n\tonDragEnd(event) {\n\t\tdragEventBus.$emit('drag-end', { accountId: this.options.accountId })\n\t}\n\n\tattachGhost({ event, envelopes }) {\n\t\tconst baseClass = 'draggable-envelope-ghost'\n\t\tconst dragNode = document.createElement('div')\n\t\tdragNode.classList.add(baseClass)\n\n\t\tconst counterNode = document.createElement('span')\n\t\tcounterNode.classList.add(`${baseClass}--counter`)\n\t\tconst textCountNode = document.createTextNode(envelopes.length)\n\t\tcounterNode.appendChild(textCountNode)\n\t\tdragNode.appendChild(counterNode)\n\n\t\tconst labelWrapperNode = document.createElement('div')\n\t\tlabelWrapperNode.classList.add(`${baseClass}--label-wrapper`)\n\n\t\tenvelopes.forEach(envelope => {\n\t\t\tconst labelNode = document.createElement('div')\n\t\t\tlabelNode.classList.add(`${baseClass}--label-wrapper--label`)\n\t\t\tconst textLabelNode = document.createTextNode(envelope.draggableLabel)\n\t\t\tlabelNode.appendChild(textLabelNode)\n\t\t\tlabelWrapperNode.appendChild(labelNode)\n\t\t})\n\n\t\tdragNode.appendChild(labelWrapperNode)\n\t\tdocument.body.appendChild(dragNode)\n\n\t\tevent.dataTransfer.setDragImage(dragNode, 0, 15)\n\n\t\t// the item can be removed immediately, because the\n\t\t// browser will take a \"screenshot\" of the dragImage\n\t\t// upon initialization to be used while dragging\n\t\tdefer(() => {\n\t\t\tdocument.body.removeChild(dragNode)\n\t\t})\n\t}\n\n}\n","import { DraggableEnvelope } from './draggable-envelope.js'\n\nlet instances = []\n\nexport const DraggableEnvelopeDirective = {\n\tbind(el, binding, vnode) {\n\t\tconst instance = new DraggableEnvelope(el, vnode.context, binding.value)\n\t\tinstances.push(instance)\n\t},\n\tcomponentUpdated(el, binding) {\n\t\tconst options = binding.value\n\t\tsetTimeout(() => {\n\t\t\tinstances.forEach(instance => {\n\t\t\t\tinstance.options.selectedEnvelopes = options.selectedEnvelopes\n\t\t\t\tinstance.update(el, instance)\n\t\t\t})\n\t\t})\n\t},\n\tunbind(el) {\n\t\tinstances = instances.filter((instance) => instance.el !== el)\n\t},\n}\n\nexport default DraggableEnvelope\n","/*\n * @copyright 2022 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2022 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport curry from 'lodash/fp/curry'\nimport moment from '@nextcloud/moment'\n\nexport const shortDatetime = curry((ref, date) => {\n\tconst momentDate = moment(date)\n\t// Within the same day?\n\tif (ref.getFullYear() === date.getFullYear()\n\t\t&& ref.getMonth() === date.getMonth()\n\t\t&& ref.getDate() === date.getDate()) {\n\t\treturn momentDate.format('H:mm')\n\t}\n\t// Within the previous week?\n\tif (date.getTime() > (ref.getTime() - 30 * 60 * 24 * 7 * 1000)) {\n\t\treturn momentDate.format('dd')\n\t}\n\t// Within the previous year?\n\tif (date.getTime() > (ref.getTime() - 30 * 60 * 24 * 365 * 1000)) {\n\t\treturn momentDate.format('MMM D')\n\t}\n\t// Older\n\treturn momentDate.format('MMM D, YYYY')\n})\n\nexport const messageDateTime = (date) => {\n\treturn moment(date * 1000).format('lll')\n}\n\nexport const shortRelativeDatetime = shortDatetime(new Date())\n","<template>\n\t<MailboxPicker :account=\"account\"\n\t\t:selected.sync=\"destMailboxId\"\n\t\t:loading=\"moving\"\n\t\t:label-select=\"moveThread ? t('mail', 'Move thread') : t('mail', 'Move message')\"\n\t\t:label-select-loading=\"moveThread ? t('mail', 'Moving thread') : t('mail', 'Moving message')\"\n\t\t@select=\"onMove\"\n\t\t@close=\"onClose\" />\n</template>\n\n<script>\nimport logger from '../logger.js'\nimport MailboxPicker from './MailboxPicker.vue'\n\nexport default {\n\tname: 'MoveModal',\n\tcomponents: {\n\t\tMailboxPicker,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmoveThread: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmoving: false,\n\t\t\tdestMailboxId: undefined,\n\t\t}\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onMove() {\n\t\t\tthis.moving = true\n\n\t\t\ttry {\n\t\t\t\tconst envelopes = this.envelopes\n\t\t\t\t\t.filter(envelope => envelope.mailboxId !== this.destMailboxId)\n\n\t\t\t\tif (envelopes.length === 0) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tfor (const envelope of envelopes) {\n\t\t\t\t\tif (this.moveThread) {\n\t\t\t\t\t\tawait this.$store.dispatch('moveThread', { envelope, destMailboxId: this.destMailboxId })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait this.$store.dispatch('moveMessage', { id: envelope.databaseId, destMailboxId: this.destMailboxId })\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tawait this.$store.dispatch('syncEnvelopes', { mailboxId: this.destMailboxId })\n\t\t\t\tthis.$emit('move')\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not move messages', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.moving = false\n\t\t\t\tthis.$emit('close')\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MoveModal.vue?vue&type=template&id=699b7d62\"\nimport script from \"./MoveModal.vue?vue&type=script&lang=js\"\nexport * from \"./MoveModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('MailboxPicker',{attrs:{\"account\":_vm.account,\"selected\":_vm.destMailboxId,\"loading\":_vm.moving,\"label-select\":_vm.moveThread ? _vm.t('mail', 'Move thread') : _vm.t('mail', 'Move message'),\"label-select-loading\":_vm.moveThread ? _vm.t('mail', 'Moving thread') : _vm.t('mail', 'Moving message')},on:{\"update:selected\":function($event){_vm.destMailboxId=$event},\"select\":_vm.onMove,\"close\":_vm.onClose}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\n\t<span :aria-hidden=\"!props.title\"\n\t\t:aria-label=\"props.title\"\n\t\t:class=\"[data.class, data.staticClass]\"\n\t\tclass=\"material-design-icon junk-icon\"\n\t\trole=\"img\"\n\t\tv-bind=\"data.attrs\"\n\t\tv-on=\"listeners\">\n\t\t<svg :fill=\"props.fillColor\"\n\t\t\tclass=\"material-design-icon__svg\"\n\t\t\t:width=\"props.size\"\n\t\t\t:height=\"props.size\"\n\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t<path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t<path d=\"m5.5156 2l-3.5156 3.5156v4.9684l3.5156 3.516h4.9684l3.516-3.516v-4.9684l-3.516-3.5156h-4.9684zm1.4844 2h2v5h-2v-5zm0 6h2v2h-2v-2z\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\nexport default {\n\tname: 'JunkIcon',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20,\n\t\t},\n\t\tfillColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'currentColor',\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JunkIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JunkIcon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./JunkIcon.vue?vue&type=template&id=342e4da8&functional=true\"\nimport script from \"./JunkIcon.vue?vue&type=script&lang=js\"\nexport * from \"./JunkIcon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _c('span',_vm._g(_vm._b({staticClass:\"material-design-icon junk-icon\",class:[_vm.data.class, _vm.data.staticClass],attrs:{\"aria-hidden\":!_vm.props.title,\"aria-label\":_vm.props.title,\"role\":\"img\"}},'span',_vm.data.attrs,false),_vm.listeners),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.props.fillColor,\"width\":_vm.props.size,\"height\":_vm.props.size,\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M0 0h24v24H0V0z\",\"fill\":\"none\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"m5.5156 2l-3.5156 3.5156v4.9684l3.5156 3.516h4.9684l3.516-3.516v-4.9684l-3.516-3.5156h-4.9684zm1.4844 2h2v5h-2v-5zm0 6h2v2h-2v-2z\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2023 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2023 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<NcModal class=\"confirm-modal\" @close=\"cancel\">\n\t\t<div class=\"confirm-modal\">\n\t\t\t<h2>{{ title }}</h2>\n\t\t\t<slot />\n\t\t\t<div class=\"confirm-modal__buttons\">\n\t\t\t\t<NcButton type=\"tertiary\" :disabled=\"disabled\" @click=\"cancel\">\n\t\t\t\t\t{{ t('mail', 'Cancel') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton :href=\"confirmUrl\"\n\t\t\t\t\t:rel=\"confirmUrl ? 'noopener noreferrer' : false\"\n\t\t\t\t\t:target=\"confirmUrl ? '_blank' : false\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t@click=\"confirm\">\n\t\t\t\t\t{{ confirmText }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\n\nimport { NcButton, NcModal } from '@nextcloud/vue'\nimport { translate as t } from '@nextcloud/l10n'\n\nexport default {\n\tname: 'ConfirmationModal',\n\tcomponents: {\n\t\tNcButton,\n\t\tNcModal,\n\t},\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tconfirmText: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Confirm'),\n\t\t},\n\t\tconfirmUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tmethods: {\n\t\tconfirm() {\n\t\t\tthis.$emit('confirm')\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$emit('cancel')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.confirm-modal {\n\tpadding: 20px;\n\n\t&__buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=style&index=0&id=652d02fc&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationModal.vue?vue&type=style&index=0&id=652d02fc&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ConfirmationModal.vue?vue&type=template&id=652d02fc&scoped=true\"\nimport script from \"./ConfirmationModal.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmationModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./ConfirmationModal.vue?vue&type=style&index=0&id=652d02fc&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"652d02fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{staticClass:\"confirm-modal\",on:{\"close\":_vm.cancel}},[_c('div',{staticClass:\"confirm-modal\"},[_c('h2',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"confirm-modal__buttons\"},[_c('NcButton',{attrs:{\"type\":\"tertiary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.cancel}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Cancel'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"href\":_vm.confirmUrl,\"rel\":_vm.confirmUrl ? 'noopener noreferrer' : false,\"target\":_vm.confirmUrl ? '_blank' : false,\"disabled\":_vm.disabled,\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.confirmText)+\"\\n\\t\\t\\t\")])],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteTagModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteTagModal.vue?vue&type=script&lang=js\"","<!--\n  - @copyright 2023 Hamza Mahjoubi <hamzamahjoubi221@proton.me>\n  -\n  - @author 2023 Hamza Mahjoubi <hamzamahjoubi221@proton.me>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n<template>\n\t<ConfirmationModal title=\"Delete tag\"\n\t\t:disabled=\"deleting\"\n\t\t@confirm=\"deleteTag\"\n\t\t@cancel=\"onClose\">\n\t\t{{ t('mail','The tag will be deleted from all messages.') }}\n\t</ConfirmationModal>\n</template>\n<script>\nimport { showSuccess, showInfo } from '@nextcloud/dialogs'\nimport ConfirmationModal from './ConfirmationModal'\nexport default {\n\tname: 'DeleteTagModal',\n\tcomponents: {\n\t\tConfirmationModal,\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\t// The envelopes on which this menu will act\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t\taccountId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdeleting: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tremoveTag(imapLabel) {\n\t\t\tthis.envelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('removeEnvelopeTag', { envelope, imapLabel })\n\t\t\t})\n\t\t},\n\t\tasync deleteTag() {\n\t\t\tthis.deleting = true\n\t\t\ttry {\n\t\t\t\tthis.removeTag(this.tag.imapLabel)\n\t\t\t\tawait this.$store.dispatch('deleteTag', {\n\t\t\t\t\ttag: this.tag,\n\t\t\t\t\taccountId: this.accountId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Tag: {name} deleted', { name: this.tag.displayName }))\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to delete the tag.'))\n\t\t\t} finally {\n\t\t\t\tthis.deleting = false\n\t\t\t\tthis.onClose()\n\t\t\t}\n\n\t\t},\n\t},\n}\n\n</script>\n","import { render, staticRenderFns } from \"./DeleteTagModal.vue?vue&type=template&id=73642f96\"\nimport script from \"./DeleteTagModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteTagModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ConfirmationModal',{attrs:{\"title\":\"Delete tag\",\"disabled\":_vm.deleting},on:{\"confirm\":_vm.deleteTag,\"cancel\":_vm.onClose}},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail','The tag will be deleted from all messages.'))+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=script&lang=js\"","<template>\n\t<div class=\"tag-group\">\n\t\t<button class=\"tag-group__label\"\n\t\t\t:style=\"{\n\t\t\t\tcolor: convertHex(tag.color, 1),\n\t\t\t\t'background-color': convertHex(tag.color, 0.15)\n\t\t\t}\">\n\t\t\t{{ tag.displayName }}\n\t\t</button>\n\t\t<Actions :force-menu=\"true\">\n\t\t\t<NcActionButton v-if=\"renameTagLabel\"\n\t\t\t\t@click=\"openEditTag\">\n\t\t\t\t{{ t('mail','Edit name or color') }}\n\t\t\t</NcActionButton>\n\t\t\t<NcActionButton v-if=\"!tag.isDefaultTag\"\n\t\t\t\t@click=\"deleteTag\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DeleteIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail','Delete tag') }}\n\t\t\t</NcActionButton>\n\n\t\t\t<ActionInput v-if=\"renameTagInput\"\n\t\t\t\t:value=\"tag.displayName\"\n\t\t\t\t@submit=\"renameTag(tag, $event)\" />\n\t\t\t<ActionText\n\t\t\t\tv-if=\"showSaving\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Saving new tag name ') }}\n\t\t\t</ActionText>\n\n\t\t\t<NcColorPicker\n\t\t\t\tclass=\"app-navigation-entry-bullet-wrapper\"\n\t\t\t\t:value=\"`#${tag.color}`\"\n\t\t\t\t@input=\"updateColor\">\n\t\t\t\t<div :style=\"{ backgroundColor: tag.color }\" class=\"color0 app-navigation-entry-bullet\" />\n\t\t\t</NcColorPicker>\n\t\t</Actions>\n\t\t<button v-if=\"!isSet(tag.imapLabel)\"\n\t\t\tclass=\"tag-actions\"\n\t\t\t@click=\"addTag(tag.imapLabel)\">\n\t\t\t{{ t('mail','Set tag') }}\n\t\t</button>\n\t\t<button v-else\n\t\t\tclass=\"tag-actions\"\n\t\t\t@click=\"removeTag(tag.imapLabel)\">\n\t\t\t{{ t('mail','Unset tag') }}\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport { NcColorPicker, NcActions as Actions, NcActionButton, NcActionText as ActionText, NcActionInput as ActionInput, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { showInfo } from '@nextcloud/dialogs'\nimport DeleteIcon from 'vue-material-design-icons/Delete'\n\nexport default {\n\tname: 'TagItem',\n\tcomponents: {\n\t\tNcColorPicker,\n\t\tActions,\n\t\tNcActionButton,\n\t\tActionText,\n\t\tActionInput,\n\t\tIconLoading,\n\t\tDeleteIcon,\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\t// The envelopes on which this menu will act\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisAdded: false,\n\t\t\tediting: false,\n\t\t\ttagLabel: true,\n\t\t\ttagInput: false,\n\t\t\tshowSaving: false,\n\t\t\trenameTagLabel: true,\n\t\t\trenameTagInput: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tdeleteTag() {\n\t\t\tthis.$emit('delete-tag', this.tag)\n\t\t},\n\t\tasync updateColor(newColor) {\n\t\t\tthis.editColor = newColor\n\t\t\tthis.showSaving = false\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('updateTag', {\n\t\t\t\t\ttag: this.tag,\n\t\t\t\t\tdisplayName: this.tag.displayName,\n\t\t\t\t\tcolor: newColor,\n\t\t\t\t})\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the tag.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\topenEditTag() {\n\t\t\tthis.renameTagLabel = false\n\t\t\tthis.renameTagInput = true\n\t\t\tthis.showSaving = false\n\n\t\t},\n\t\tasync renameTag(tag, event) {\n\t\t\tthis.renameTagInput = false\n\t\t\tthis.showSaving = false\n\t\t\tconst displayName = event.target.querySelector('input[type=text]').value\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('updateTag', {\n\t\t\t\t\ttag,\n\t\t\t\t\tdisplayName,\n\t\t\t\t\tcolor: tag.color,\n\t\t\t\t})\n\t\t\t\tthis.renameTagLabel = true\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the tag.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.renameTagLabel = false\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\tconvertHex(color, opacity) {\n\t\t\tif (color.length === 4) {\n\t\t\t\tconst r = parseInt(color.substring(1, 2), 16)\n\t\t\t\tconst g = parseInt(color.substring(2, 3), 16)\n\t\t\t\tconst b = parseInt(color.substring(3, 4), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t} else {\n\t\t\t\tconst r = parseInt(color.substring(1, 3), 16)\n\t\t\t\tconst g = parseInt(color.substring(3, 5), 16)\n\t\t\t\tconst b = parseInt(color.substring(5, 7), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t}\n\t\t},\n\t\tisSet(imapLabel) {\n\t\t\treturn this.envelopes.some(\n\t\t\t\t(envelope) => (\n\t\t\t\t\tthis.$store.getters.getEnvelopeTags(envelope.databaseId).some(\n\t\t\t\t\t\ttag => tag.imapLabel === imapLabel\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t},\n\t\taddTag(imapLabel) {\n\t\t\tthis.isAdded = true\n\t\t\tthis.envelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('addEnvelopeTag', { envelope, imapLabel })\n\t\t\t})\n\t\t},\n\t\tremoveTag(imapLabel) {\n\t\t\tthis.isAdded = false\n\t\t\tthis.envelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('removeEnvelopeTag', { envelope, imapLabel })\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n<style scoped lang=\"scss\">\n.app-navigation-entry-bullet-wrapper {\n\twidth: 44px;\n\theight: 44px;\n\tdisplay: inline-block;\n\tposition: fixed;\n\tlist-style: none;\n\ttop: 15px;\n\tleft: 7px;\n\n\t.color0 {\n\t\twidth: 30px !important;\n\t\theight: 30px;\n\t\tborder-radius: 50%;\n\t\tbackground-size: 14px;\n\t\tz-index: 2;\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n}\n.tag-group {\n\tdisplay: block;\n\tposition: relative;\n\tmargin: 0 1px;\n\toverflow: hidden;\n}\n.tag-actions {\n\tbackground-color: transparent;\n\tborder: none;\n\tfloat: right;\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: var(--color-border-dark);\n\t}\n}\n.tag-group__label {\n\tz-index: 2;\n\tfont-weight: bold;\n\tborder: none;\n\tbackground-color: transparent;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmax-width: 94px;\n}\n.action-item {\n\tright: 8px;\n\tfloat: right;\n}\n:deep(.input-field) {\n\tmargin-top: -5px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=style&index=0&id=52ebe5c0&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagItem.vue?vue&type=style&index=0&id=52ebe5c0&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TagItem.vue?vue&type=template&id=52ebe5c0&scoped=true\"\nimport script from \"./TagItem.vue?vue&type=script&lang=js\"\nexport * from \"./TagItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./TagItem.vue?vue&type=style&index=0&id=52ebe5c0&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52ebe5c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tag-group\"},[_c('button',{staticClass:\"tag-group__label\",style:({\n\t\t\tcolor: _vm.convertHex(_vm.tag.color, 1),\n\t\t\t'background-color': _vm.convertHex(_vm.tag.color, 0.15)\n\t\t})},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.tag.displayName)+\"\\n\\t\")]),_vm._v(\" \"),_c('Actions',{attrs:{\"force-menu\":true}},[(_vm.renameTagLabel)?_c('NcActionButton',{on:{\"click\":_vm.openEditTag}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Edit name or color'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.tag.isDefaultTag)?_c('NcActionButton',{on:{\"click\":_vm.deleteTag},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1311746650)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Delete tag'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.renameTagInput)?_c('ActionInput',{attrs:{\"value\":_vm.tag.displayName},on:{\"submit\":function($event){return _vm.renameTag(_vm.tag, $event)}}}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving new tag name '))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcColorPicker',{staticClass:\"app-navigation-entry-bullet-wrapper\",attrs:{\"value\":`#${_vm.tag.color}`},on:{\"input\":_vm.updateColor}},[_c('div',{staticClass:\"color0 app-navigation-entry-bullet\",style:({ backgroundColor: _vm.tag.color })})])],1),_vm._v(\" \"),(!_vm.isSet(_vm.tag.imapLabel))?_c('button',{staticClass:\"tag-actions\",on:{\"click\":function($event){return _vm.addTag(_vm.tag.imapLabel)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail','Set tag'))+\"\\n\\t\")]):_c('button',{staticClass:\"tag-actions\",on:{\"click\":function($event){return _vm.removeTag(_vm.tag.imapLabel)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail','Unset tag'))+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright 2022 Jonas Sulzer <jonas@violoncello.ch>\n *\n * @author 2022 Jonas Sulzer <jonas@violoncello.ch>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport const hiddenTags = {\n\tforwarded: '',\n\thasattachment: '',\n\thas_cal: '',\n\t'has cal': '',\n\thasnoattachment: '',\n\tloadremoteimages: '',\n\t'unsubscribe newsletter': '',\n}\n","<!--\n  - @copyright 2021 Greta Doci <gretadoci@gmail.com>\n  -\n  - @author 2021 Greta Doci <gretadoci@gmail.com>\n  - @author 2022 Jonas Sulzer <jonas@violoncello.ch>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<DeleteTagModal v-if=\"deleteTagModal\"\n\t\t:tag=\"tagToDelete\"\n\t\t:envelopes=\"envelopes\"\n\t\t:account-id=\"envelopes[0].accountId\"\n\t\t@close=\"closeDeleteModal\" />\n\t<Modal v-else size=\"large\" @close=\"onClose\">\n\t\t<div class=\"modal-content\">\n\t\t\t<h2 class=\"tag-title\">\n\t\t\t\t{{ t('mail', 'Add default tags') }}\n\t\t\t</h2>\n\t\t\t<TagItem v-for=\"tag in tags\"\n\t\t\t\t:key=\"tag.id\"\n\t\t\t\t:tag=\"tag\"\n\t\t\t\t:envelopes=\"envelopes\"\n\t\t\t\t@delete-tag=\"deleteTag\" />\n\n\t\t\t<h2 class=\"tag-title\">\n\t\t\t\t{{ t('mail', 'Add tag') }}\n\t\t\t</h2>\n\t\t\t<div class=\"create-tag\">\n\t\t\t\t<NcButton v-if=\"!editing\"\n\t\t\t\t\tclass=\"tagButton\"\n\t\t\t\t\t@click=\"addTagInput\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add tag') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<ActionInput v-if=\"editing\" :disabled=\"showSaving\" @submit=\"createTag\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconTag :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ActionInput>\n\t\t\t\t<ActionText\n\t\t\t\t\tv-if=\"showSaving\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Saving tag ') }}\n\t\t\t\t</ActionText>\n\t\t\t</div>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport { NcModal as Modal, NcActionText as ActionText, NcActionInput as ActionInput, NcLoadingIcon as IconLoading, NcButton } from '@nextcloud/vue'\nimport DeleteTagModal from './DeleteTagModal.vue'\nimport TagItem from './TagItem.vue'\nimport IconTag from 'vue-material-design-icons/Tag'\nimport IconAdd from 'vue-material-design-icons/Plus'\nimport { showError, showInfo } from '@nextcloud/dialogs'\nimport { hiddenTags } from './tags.js'\n\nfunction randomColor() {\n\tlet randomHexColor = ((1 << 24) * Math.random() | 0).toString(16)\n\twhile (randomHexColor.length < 6) {\n\t\trandomHexColor = '0' + randomHexColor\n\t}\n\treturn '#' + randomHexColor\n}\nexport default {\n\tname: 'TagModal',\n\tcomponents: {\n\t\tModal,\n\t\tActionText,\n\t\tActionInput,\n\t\tDeleteTagModal,\n\t\tIconTag,\n\t\tIconLoading,\n\t\tTagItem,\n\t\tNcButton,\n\t\tIconAdd,\n\t},\n\tprops: {\n\t\tenvelopes: {\n\t\t\t// The envelopes on which this menu will act\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisAdded: false,\n\t\t\tediting: false,\n\t\t\ttagLabel: true,\n\t\t\ttagInput: false,\n\t\t\tshowSaving: false,\n\t\t\trenameTagLabel: true,\n\t\t\trenameTagInput: false,\n\t\t\tdeleteTagModal: false,\n\t\t\ttagToDelete: null,\n\t\t\tcolor: randomColor(),\n\t\t\teditColor: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\ttags() {\n\t\t\treturn this.$store.getters.getTags.filter((tag) => tag.imapLabel !== '$label1' && !(tag.displayName.toLowerCase() in hiddenTags)).sort((a, b) => {\n\t\t\t\tif (a.isDefaultTag && !b.isDefaultTag) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (b.isDefaultTag && !a.isDefaultTag) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\tif (a.isDefaultTag && b.isDefaultTag) {\n\t\t\t\t\tif (a.displayName < b.displayName) {\n\t\t\t\t\t\treturn 1\n\t\t\t\t\t}\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (this.isSet(a.imapLabel) && !this.isSet(b.imapLabel)) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (!this.isSet(a.imapLabel) && this.isSet(b.imapLabel)) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn a.displayName.localeCompare(b.displayName)\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tcloseDeleteModal() {\n\t\t\tthis.deleteTagModal = false\n\t\t},\n\t\tisSet(imapLabel) {\n\t\t\treturn this.envelopes.some(\n\t\t\t\t(envelope) => (\n\t\t\t\t\tthis.$store.getters.getEnvelopeTags(envelope.databaseId).some(\n\t\t\t\t\t\ttag => tag.imapLabel === imapLabel\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t},\n\t\taddTagInput() {\n\t\t\tthis.editing = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tasync createTag(event) {\n\t\t\tthis.editing = true\n\t\t\tif (this.showSaving) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst displayName = event.target.querySelector('input[type=text]').value\n\t\t\tif (displayName.toLowerCase() in hiddenTags) {\n\t\t\t\tshowError(this.t('mail', 'Tag name is a hidden system tag'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.$store.getters.getTags.some(tag => tag.displayName === displayName)) {\n\t\t\t\tshowError(this.t('mail', 'Tag already exists'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (displayName.trim() === '') {\n\t\t\t\tshowError(this.t('mail', 'Tag name cannot be empty'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('createTag', {\n\t\t\t\t\tdisplayName,\n\t\t\t\t\tcolor: randomColor(displayName),\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.debug(error)\n\t\t\t\tshowError(this.t('mail', 'An error occurred, unable to create the tag.'))\n\t\t\t} finally {\n\t\t\t\tthis.showSaving = false\n\t\t\t\tthis.tagLabel = true\n\t\t\t}\n\t\t},\n\t\tconvertHex(color, opacity) {\n\t\t\tif (color.length === 4) {\n\t\t\t\tconst r = parseInt(color.substring(1, 2), 16)\n\t\t\t\tconst g = parseInt(color.substring(2, 3), 16)\n\t\t\t\tconst b = parseInt(color.substring(3, 4), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t} else {\n\t\t\t\tconst r = parseInt(color.substring(1, 3), 16)\n\t\t\t\tconst g = parseInt(color.substring(3, 5), 16)\n\t\t\t\tconst b = parseInt(color.substring(5, 7), 16)\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`\n\t\t\t}\n\t\t},\n\t\topenEditTag() {\n\t\t\tthis.renameTagLabel = false\n\t\t\tthis.renameTagInput = true\n\t\t\tthis.showSaving = false\n\n\t\t},\n\t\tasync renameTag(tag, event) {\n\t\t\tthis.renameTagInput = false\n\t\t\tthis.showSaving = false\n\t\t\tconst displayName = event.target.querySelector('input[type=text]').value\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('updateTag', {\n\t\t\t\t\ttag,\n\t\t\t\t\tdisplayName,\n\t\t\t\t\tcolor: tag.color,\n\t\t\t\t})\n\t\t\t\tthis.renameTagLabel = true\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the tag.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.renameTagLabel = false\n\t\t\t\tthis.renameTagInput = false\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\tdeleteTag(tag) {\n\t\t\tthis.tagToDelete = tag\n\t\t\tthis.deleteTagModal = true\n\t\t},\n\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-content) {\n\tpadding: 20px 20px 20px 20px;\n\tmax-height: calc(100vh - 210px);\n\toverflow-y: auto;\n}\n:deep(.modal-container) {\n\twidth: auto !important;\n}\n.icon-colorpicker {\n\tbackground-image: var(--icon-add-fff);\n}\n.tagButton {\n\tdisplay: inline-block;\n\tmargin-left: 10px;\n}\n.tag-title {\n\tmargin-top: 20px;\n\tmargin-left: 10px;\n}\n\n.create-tag {\n\tlist-style: none;\n\tmargin-bottom:12px;\n}\n@media only screen and (max-width: 512px) {\n\t:deep(.modal-container) {\n\ttop: 100px !important;\n\tmax-height: calc(100vh - 170px) !important\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=style&index=0&id=4c8c9288&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModal.vue?vue&type=style&index=0&id=4c8c9288&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TagModal.vue?vue&type=template&id=4c8c9288&scoped=true\"\nimport script from \"./TagModal.vue?vue&type=script&lang=js\"\nexport * from \"./TagModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TagModal.vue?vue&type=style&index=0&id=4c8c9288&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c8c9288\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.deleteTagModal)?_c('DeleteTagModal',{attrs:{\"tag\":_vm.tagToDelete,\"envelopes\":_vm.envelopes,\"account-id\":_vm.envelopes[0].accountId},on:{\"close\":_vm.closeDeleteModal}}):_c('Modal',{attrs:{\"size\":\"large\"},on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"modal-content\"},[_c('h2',{staticClass:\"tag-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add default tags'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.tags),function(tag){return _c('TagItem',{key:tag.id,attrs:{\"tag\":tag,\"envelopes\":_vm.envelopes},on:{\"delete-tag\":_vm.deleteTag}})}),_vm._v(\" \"),_c('h2',{staticClass:\"tag-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add tag'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"create-tag\"},[(!_vm.editing)?_c('NcButton',{staticClass:\"tagButton\",on:{\"click\":_vm.addTagInput},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add tag'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('ActionInput',{attrs:{\"disabled\":_vm.showSaving},on:{\"submit\":_vm.createTag},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconTag',{attrs:{\"size\":20}})]},proxy:true}],null,false,1596509905)}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving tag '))+\"\\n\\t\\t\\t\")]):_vm._e()],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"modal-content\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Create event')))]),_vm._v(\" \"),_c('div',{staticClass:\"eventTitle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTitle),expression:\"eventTitle\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.eventTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.eventTitle=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"dateTimePicker\"},[_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.startTimezoneId},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.endTimezoneId},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"all-day\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isAllDay),expression:\"isAllDay\"}],staticClass:\"checkbox\",attrs:{\"id\":\"allDay\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isAllDay)?_vm._i(_vm.isAllDay,null)>-1:(_vm.isAllDay)},on:{\"change\":function($event){var $$a=_vm.isAllDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isAllDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isAllDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isAllDay=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"allDay\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'All day'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),_c('Multiselect',{attrs:{\"label\":\"displayname\",\"track-by\":\"url\",\"allow-empty\":false,\"options\":_vm.calendars},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [_c('CalendarPickerOption',_vm._b({},'CalendarPickerOption',option,false))]}},{key:\"singleLabel\",fn:function({option}){return [_c('CalendarPickerOption',_vm._b({attrs:{\"display-icon\":true}},'CalendarPickerOption',option,false))]}}]),model:{value:(_vm.selectedCalendar),callback:function ($$v) {_vm.selectedCalendar=$$v},expression:\"selectedCalendar\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('button',{staticClass:\"primary\",on:{\"click\":_vm.onSave}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create'))+\"\\n\\t\\t\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2019 Georg Ehrke\n *\n * @author Georg Ehrke <oc.list@georgehrke.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport md5 from 'md5'\nimport convert from 'color-convert'\n\n/**\n * Generates a hex color based on RGB string\n *\n * @param {string} uid The string to generate a color from\n * @return {string} The hex color\n */\nexport function uidToHexColor(uid) {\n\tconst color = uidToColor(uid)\n\treturn '#' + convert.rgb.hex(color.r, color.g, color.b)\n}\n\n// copied from calendar\n// TODO: have it separately in a file\n\n/**\n * This is copied from nextcloud-vue for now, until it is exposed upstream.\n */\n\nexport const uidToColor = (uid) => {\n\t// Normalize hash\n\tlet hash = uid.toLowerCase()\n\n\t// Already a md5 hash?\n\tif (hash.match(/^([0-9a-f]{4}-?){8}$/) === null) {\n\t\thash = md5(hash)\n\t}\n\n\thash = hash.replace(/[^0-9a-f]/g, '')\n\n\tconst steps = 6\n\tconst finalPalette = GenColors(steps)\n\n\t// Convert a string to an integer evenly\n\tfunction hashToInt(hash, maximum) {\n\t\tlet finalInt = 0\n\t\tconst result = []\n\n\t\t// Splitting evenly the string\n\t\tfor (let i = 0; i < hash.length; i++) {\n\t\t\t// chars in md5 goes up to f, hex:16\n\t\t\tresult.push(parseInt(hash.charAt(i), 16) % 16)\n\t\t}\n\n\t\t// Adds up all results\n\t\tfor (const j in result) {\n\t\t\tfinalInt += result[j]\n\t\t}\n\n\t\t// chars in md5 goes up to f, hex:16\n\t\t// make sure we're always using int in our operation\n\t\treturn parseInt(parseInt(finalInt, 10) % maximum, 10)\n\t}\n\treturn finalPalette[hashToInt(hash, steps * 3)]\n}\n\nfunction Color(r, g, b) {\n\tthis.r = r\n\tthis.g = g\n\tthis.b = b\n}\n\nfunction stepCalc(steps, ends) {\n\tconst step = new Array(3)\n\tstep[0] = (ends[1].r - ends[0].r) / steps\n\tstep[1] = (ends[1].g - ends[0].g) / steps\n\tstep[2] = (ends[1].b - ends[0].b) / steps\n\treturn step\n}\n\nfunction mixPalette(steps, color1, color2) {\n\tconst palette = []\n\tpalette.push(color1)\n\tconst step = stepCalc(steps, [color1, color2])\n\tfor (let i = 1; i < steps; i++) {\n\t\tconst r = parseInt(color1.r + step[0] * i, 10)\n\t\tconst g = parseInt(color1.g + step[1] * i, 10)\n\t\tconst b = parseInt(color1.b + step[2] * i, 10)\n\t\tpalette.push(new Color(r, g, b))\n\t}\n\treturn palette\n}\n\n/**\n * Generate colors from the official nextcloud color\n * You can provide how many colors you want (multiplied by 3)\n * if step = 6\n * 3 colors * 6 will result in 18 generated colors\n *\n * @param {number} [steps=6] Number of steps to go from a color to another\n * @return {object[]}\n */\nfunction GenColors(steps) {\n\tif (!steps) {\n\t\tsteps = 6\n\t}\n\n\tconst red = new Color(182, 70, 157)\n\tconst yellow = new Color(221, 203, 85)\n\tconst blue = new Color(0, 130, 201) // Nextcloud blue\n\n\tconst palette1 = mixPalette(steps, red, yellow)\n\tconst palette2 = mixPalette(steps, yellow, blue)\n\tconst palette3 = mixPalette(steps, blue, red)\n\n\treturn palette1.concat(palette2).concat(palette3)\n}\n\nexport default uidToColor\n","/**\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport curry from 'lodash/fp/curry'\nimport ical from 'ical.js'\nimport { getClient } from '../dav/client.js'\nimport Axios from '@nextcloud/axios'\n\nimport Logger from '../logger.js'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { uidToHexColor } from '../util/calendarColor.js'\n\nconst canWrite = (properties) => {\n\tlet acls = properties?.acl?.ace\n\n\tif (!acls) {\n\t\treturn false\n\t}\n\t// There might only be one ACL, not a list\n\tif (!Array.isArray(acls)) {\n\t\tacls = [acls]\n\t}\n\n\tfor (const acl of acls) {\n\t\tif (acl.grant?.privilege?.write !== undefined) {\n\t\t\treturn true\n\t\t}\n\t}\n\n\treturn false\n}\n\nconst getCalendarData = (calendar) => {\n\treturn {\n\t\tdisplayname: calendar.props.displayname,\n\t\torder: calendar.props['calendar-order'],\n\t\tcomponents: {\n\t\t\tvevent: true, // check if VEVENT exists in props['supported-calendar-component-set'].comps\n\t\t},\n\t\twritable: canWrite(calendar.props),\n\t\turl: generateRemoteUrl(`dav/calendars/${getCurrentUser().uid}${calendar.filename}/`),\n\t\tcolor: calendar.props['calendar-color'] ?? uidToHexColor(calendar.props.displayname ?? ''),\n\n\t}\n}\n\n/**\n * @return {Promise}\n */\nexport const getUserCalendars = async () => {\n\tconst response = await getClient('calendars')\n\t\t.getDirectoryContents('/', {\n\t\t\tdata: `<?xml version=\"1.0\"?>\n<d:propfind  xmlns:d=\"DAV:\" xmlns:c=\"urn:ietf:params:xml:ns:caldav\" xmlns:aapl=\"http://apple.com/ns/ical/\" xmlns:oc=\"http://owncloud.org/ns\" xmlns:cs=\"http://calendarserver.org/ns/\">\n  <d:prop>\n    <d:displayname />\n    <c:calendar-description />\n    <c:calendar-timezone />\n    <aapl:calendar-order />\n    <aapl:calendar-color />\n    <c:supported-calendar-component-set />\n    <oc:calendar-enabled />\n    <d:acl />\n    <d:owner />\n    <oc:invite />\n  </d:prop>\n</d:propfind>`,\n\t\t\tdetails: true,\n\t\t})\n\n\treturn response.data\n\t\t.map(getCalendarData)\n\t\t.filter(props => props.components.vevent && props.writable === true)\n}\n\nconst getRandomString = () => {\n\tlet str = ''\n\tfor (let i = 0; i < 7; i++) {\n\t\tstr += Math.random().toString(36).substring(7)\n\t}\n\treturn str\n}\n\nconst createICalElement = () => {\n\tconst root = new ical.Component(['vcalendar', [], []])\n\n\troot.updatePropertyWithValue('prodid', '-//' + OC.theme.name + ' Mail')\n\n\treturn root\n}\n\nconst splitCalendar = (data) => {\n\tconst timezones = []\n\tconst allObjects = {}\n\tconst jCal = ical.parse(data)\n\tconst components = new ical.Component(jCal)\n\n\tconst vtimezones = components.getAllSubcomponents('vtimezone')\n\tvtimezones.forEach((vtimezone) => timezones.push(vtimezone))\n\n\tconst componentNames = ['vevent', 'vjournal', 'vtodo']\n\tcomponentNames.forEach((componentName) => {\n\t\tconst vobjects = components.getAllSubcomponents(componentName)\n\t\tallObjects[componentName] = {}\n\n\t\tvobjects.forEach((vobject) => {\n\t\t\tconst uid = vobject.getFirstPropertyValue('uid')\n\t\t\tallObjects[componentName][uid] = allObjects[componentName][uid] || []\n\t\t\tallObjects[componentName][uid].push(vobject)\n\t\t})\n\t})\n\n\tconst split = []\n\tcomponentNames.forEach((componentName) => {\n\t\tsplit[componentName] = []\n\t\tfor (const objectsId in allObjects[componentName]) {\n\t\t\tconst objects = allObjects[componentName][objectsId]\n\t\t\tconst component = createICalElement()\n\t\t\ttimezones.forEach(component.addSubcomponent.bind(component))\n\t\t\tfor (const objectId in objects) {\n\t\t\t\tcomponent.addSubcomponent(objects[objectId])\n\t\t\t}\n\t\t\tsplit[componentName].push(component.toString())\n\t\t}\n\t})\n\n\treturn {\n\t\tname: components.getFirstPropertyValue('x-wr-calname'),\n\t\tcolor: components.getFirstPropertyValue('x-apple-calendar-color'),\n\t\tsplit,\n\t}\n}\n\n/**\n * @param {string} url the url\n * @param {object} data the data\n * @return {Promise}\n */\nexport const importCalendarEvent = curry((url, data) => {\n\tLogger.debug('importing events into calendar', {\n\t\turl,\n\t\tdata,\n\t})\n\tconst promises = []\n\n\tconst file = splitCalendar(data)\n\tconst components = ['vevent', 'vjournal', 'vtodo']\n\tcomponents.forEach((componentName) => {\n\t\tfor (const componentId in file.split[componentName]) {\n\t\t\tconst component = file.split[componentName][componentId]\n\t\t\tLogger.info('importing event component', { component })\n\t\t\tpromises.push(\n\t\t\t\tPromise.resolve(\n\t\t\t\t\tAxios.put(url + getRandomString() + '.ics', component, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'text/calendar; charset=utf-8',\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t})\n\n\treturn Promise.all(promises)\n})\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=script&lang=js\"","<template>\n\t<div class=\"calendar-picker-option\">\n\t\t<div\n\t\t\tclass=\"calendar-picker-option__color-indicator\"\n\t\t\t:style=\"{ backgroundColor: color }\" />\n\n\t\t<span\n\t\t\tclass=\"calendar-picker-option__label\">\n\t\t\t{{ displayname }}\n\t\t</span>\n\t\t<span :class=\"displayIcon ? 'icon-caret-dark' : ''\" />\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'CalendarPickerOption',\n\tprops: {\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdisplayname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdisplayIcon: {\n\t\t  type: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.calendar-picker-option {\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\n\t&__color-indicator {\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tborder-radius: 50%;\n\t\tborder: none;\n\t\tmargin-right: 8px;\n\t\tflex-basis: 12px;\n\t\tflex-shrink: 0;\n\t}\n\n\t&__label {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tflex-grow: 1;\n\t\tmax-width: 80px;\n\t}\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=style&index=0&id=9bd234a6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarPickerOption.vue?vue&type=style&index=0&id=9bd234a6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CalendarPickerOption.vue?vue&type=template&id=9bd234a6&scoped=true\"\nimport script from \"./CalendarPickerOption.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarPickerOption.vue?vue&type=script&lang=js\"\nimport style0 from \"./CalendarPickerOption.vue?vue&type=style&index=0&id=9bd234a6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bd234a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"calendar-picker-option\"},[_c('div',{staticClass:\"calendar-picker-option__color-indicator\",style:({ backgroundColor: _vm.color })}),_vm._v(\" \"),_c('span',{staticClass:\"calendar-picker-option__label\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.displayname)+\"\\n\\t\")]),_vm._v(\" \"),_c('span',{class:_vm.displayIcon ? 'icon-caret-dark' : ''})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=script&lang=js\"","<template>\n\t<Modal @close=\"onClose\">\n\t\t<div class=\"modal-content\">\n\t\t\t<h2>{{ t('mail', 'Create event') }}</h2>\n\t\t\t<div class=\"eventTitle\">\n\t\t\t\t<input v-model=\"eventTitle\" type=\"text\">\n\t\t\t</div>\n\t\t\t<div class=\"dateTimePicker\">\n\t\t\t\t<DatetimePicker v-model=\"startDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"startTimezoneId\" />\n\t\t\t\t<DatetimePicker v-model=\"endDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"endTimezoneId\" />\n\t\t\t</div>\n\t\t\t<div class=\"all-day\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"allDay\"\n\t\t\t\t\tv-model=\"isAllDay\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label\n\t\t\t\t\tfor=\"allDay\">\n\t\t\t\t\t{{ t('mail', 'All day') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<Multiselect\n\t\t\t\tv-model=\"selectedCalendar\"\n\t\t\t\tlabel=\"displayname\"\n\t\t\t\ttrack-by=\"url\"\n\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t:options=\"calendars\">\n\t\t\t\t<template #option=\"{option}\">\n\t\t\t\t\t<CalendarPickerOption\n\t\t\t\t\t\tv-bind=\"option\" />\n\t\t\t\t</template>\n\t\t\t\t<template #singleLabel=\"{option}\">\n\t\t\t\t\t<CalendarPickerOption\n\t\t\t\t\t\t:display-icon=\"true\"\n\t\t\t\t\t\tv-bind=\"option\" />\n\t\t\t\t</template>\n\t\t\t</Multiselect>\n\t\t\t<br>\n\t\t\t<button class=\"primary\" @click=\"onSave\">\n\t\t\t\t{{ t('mail', 'Create') }}\n\t\t\t</button>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport { createEvent, getTimezoneManager, DateTimeValue, TextProperty } from '@nextcloud/calendar-js'\nimport { NcDatetimePicker as DatetimePicker, NcModal as Modal, NcMultiselect as Multiselect } from '@nextcloud/vue'\nimport jstz from 'jstz'\n\nimport { getUserCalendars, importCalendarEvent } from '../service/DAVService.js'\nimport logger from '../logger.js'\nimport CalendarPickerOption from './CalendarPickerOption.vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nexport default {\n\tname: 'EventModal',\n\tcomponents: {\n\t\tCalendarPickerOption,\n\t\tDatetimePicker,\n\t\tModal,\n\t\tMultiselect,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\t// Try to determine the current timezone, and fall back to UTC otherwise\n\t\tconst defaultTimezone = jstz.determine()\n\t\tconst defaultTimezoneId = defaultTimezone ? defaultTimezone.name() : 'UTC'\n\n\t\treturn {\n\t\t\tcalendars: [],\n\t\t\teventTitle: this.envelope.subject,\n\t\t\tstartDate: new Date(),\n\t\t\tendDate: new Date(),\n\t\t\tisAllDay: false,\n\t\t\tstartTimezoneId: defaultTimezoneId,\n\t\t\tendTimezoneId: defaultTimezoneId,\n\t\t\tsaving: false,\n\t\t\tselectedCalendar: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\tdateFormat() {\n\t\t\treturn this.isAllDay ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm'\n\t\t},\n\t\tdatePickerType() {\n\t\t\treturn this.isAllDay ? 'date' : 'datetime'\n\t\t},\n\t},\n\tcreated() {\n\t\tlogger.debug('creating event from envelope', {\n\t\t\tenvelope: this.envelope,\n\t\t})\n\t},\n\tasync mounted() {\n\t\tthis.calendars = (await getUserCalendars()).filter(c => c.writable)\n\n\t\tif (this.calendars.length) {\n\t\t\tthis.selectedCalendar = this.calendars[0]\n\t\t}\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onSave() {\n\t\t\tthis.saving = true\n\n\t\t\ttry {\n\t\t\t\tlogger.debug('create event', {\n\t\t\t\t\tcalendar: this.selectedCalendar,\n\t\t\t\t\teventTitle: this.eventTitle,\n\t\t\t\t\tstartDate: this.startDate,\n\t\t\t\t\tstartTimezone: this.startTimezoneId,\n\t\t\t\t\tendTimezone: this.endTimezoneId,\n\t\t\t\t})\n\n\t\t\t\tconst timezoneManager = getTimezoneManager()\n\t\t\t\t// TODO: only do this once\n\t\t\t\ttimezoneManager.registerDefaultTimezones()\n\t\t\t\tconst startTimezone = timezoneManager.getTimezoneForId(this.startTimezoneId)\n\t\t\t\tconst startDateTime = DateTimeValue\n\t\t\t\t\t.fromJSDate(this.startDate, true)\n\t\t\t\t\t.getInTimezone(startTimezone)\n\t\t\t\tconst endTimezone = timezoneManager.getTimezoneForId(this.endTimezoneId)\n\t\t\t\tconst endDateTime = DateTimeValue\n\t\t\t\t\t.fromJSDate(this.endDate, true)\n\t\t\t\t\t.getInTimezone(endTimezone)\n\t\t\t\tif (this.isAllDay) {\n\t\t\t\t\tstartDateTime.isDate = true\n\t\t\t\t\tendDateTime.isDate = true\n\t\t\t\t}\n\n\t\t\t\tconst calendar = createEvent(startDateTime, endDateTime)\n\t\t\t\tconst event = calendar.getFirstComponent('VEVENT')\n\t\t\t\tevent.addProperty(new TextProperty('SUMMARY', this.eventTitle))\n\t\t\t\tfor (const vObject of calendar.getVObjectIterator()) {\n\t\t\t\t\tvObject.undirtify()\n\t\t\t\t}\n\t\t\t\tlogger.debug('calendar object created', { calendar, event })\n\n\t\t\t\tawait importCalendarEvent(\n\t\t\t\t\tthis.selectedCalendar.url,\n\t\t\t\t\tcalendar.toICS()\n\t\t\t\t)\n\n\t\t\t\tshowSuccess(t('mail', 'Event created'))\n\n\t\t\t\tthis.onClose()\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Could not create event'))\n\n\t\t\t\tlogger.error('Creating event from message failed', { error })\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-wrapper .modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 490px !important;\n\tmax-height: 500px !important;\n}\n.modal-content {\n\tpadding: 30px 30px 20px !important;\n}\ninput {\n\twidth: 100%;\n}\n:deep(input[type='text'].multiselect__input) {\n\tpadding: 0 !important;\n}\n:deep(.multiselect__single) {\n\tmargin-left: -8px;\n\twidth: 100px;\n}\n:deep(.multiselect__tags) {\n\tborder: none !important;\n}\n.all-day {\n\tmargin-left: -1px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n}\n.eventTitle {\n\tmargin-bottom: 5px;\n}\n.primary {\n\theight: 44px !important;\n\tfloat: right;\n}\n:deep(.mx-datepicker) {\n\twidth: 213px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=style&index=0&id=79bc7e48&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventModal.vue?vue&type=style&index=0&id=79bc7e48&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EventModal.vue?vue&type=template&id=79bc7e48&scoped=true\"\nimport script from \"./EventModal.vue?vue&type=script&lang=js\"\nexport * from \"./EventModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./EventModal.vue?vue&type=style&index=0&id=79bc7e48&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79bc7e48\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{on:{\"close\":_vm.onClose}},[_c('div',{staticClass:\"modal-content\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Create task')))]),_vm._v(\" \"),_c('div',{staticClass:\"taskTitle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taskTitle),expression:\"taskTitle\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.taskTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.taskTitle=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"all-day\"},[_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.startTimezoneId},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('DatetimePicker',{attrs:{\"format\":_vm.dateFormat,\"clearable\":false,\"minute-step\":5,\"show-second\":false,\"type\":_vm.datePickerType,\"show-timezone-select\":true,\"timezone-id\":_vm.endTimezoneId},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"note\"}},[_vm._v(\"Description:\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note),expression:\"note\"}],attrs:{\"id\":\"note\",\"rows\":\"7\"},domProps:{\"value\":(_vm.note)},on:{\"input\":function($event){if($event.target.composing)return;_vm.note=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"all-day\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isAllDay),expression:\"isAllDay\"}],staticClass:\"checkbox\",attrs:{\"id\":\"allDay\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isAllDay)?_vm._i(_vm.isAllDay,null)>-1:(_vm.isAllDay)},on:{\"change\":function($event){var $$a=_vm.isAllDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isAllDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isAllDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isAllDay=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"allDay\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'All day'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),_c('Multiselect',{attrs:{\"label\":\"displayname\",\"track-by\":\"url\",\"placeholder\":_vm.t('mail', 'Select calendar'),\"allow-empty\":false,\"options\":_vm.calendars},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [_c('CalendarPickerOption',_vm._b({},'CalendarPickerOption',option,false))]}},{key:\"singleLabel\",fn:function({option}){return [_c('CalendarPickerOption',_vm._b({attrs:{\"display-icon\":option.displayIcon}},'CalendarPickerOption',option,false))]}}]),model:{value:(_vm.selectedCalendar),callback:function ($$v) {_vm.selectedCalendar=$$v},expression:\"selectedCalendar\"}},[_vm._v(\" \"),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"noOptions\"},slot:\"noOptions\"},[_vm._v(_vm._s(_vm.t('mail', 'No calendars with task list support')))])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('button',{staticClass:\"primary\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.onSave}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create'))+\"\\n\\t\\t\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Nextcloud - Tasks\n *\n * @author John Molakvo\n *\n * @copyright 2018 John Molakvo <skjnldsv@protonmail.com>\n *\n * @author Raimund Schller\n *\n * @copyright 2021 Raimund Schller <raimund.schluessler@mailbox.org>\n *\n * This library is free software; you can redistribute it and/or\n * modify it under the terms of the GNU AFFERO GENERAL PUBLIC LICENSE\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or any later version.\n *\n * This library is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU AFFERO GENERAL PUBLIC LICENSE for more details.\n *\n * You should have received a copy of the GNU Affero General Public\n * License along with this library. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport moment from '@nextcloud/moment'\n\nimport { v4 as uuid } from 'uuid'\nimport ICAL from 'ical.js'\n\nexport default class Task {\n\n\t/**\n\t * Creates an instance of Task\n\t *\n\t * @param {string} vcalendar the vcalendar data as string with proper new lines\n\t * @param {object} calendar the calendar which the task belongs to\n\t * @memberof Task\n\t */\n\tconstructor(vcalendar, calendar) {\n\t\tif (typeof vcalendar !== 'string' || vcalendar.length === 0) {\n\t\t\tthrow new Error('Invalid vCalendar')\n\t\t}\n\n\t\tconst jCal = ICAL.parse(vcalendar)\n\t\tif (jCal[0] !== 'vcalendar') {\n\t\t\tthrow new Error('Only one task is allowed in the vCalendar data')\n\t\t}\n\n\t\tthis.jCal = jCal\n\t\tthis.calendar = calendar\n\t\tthis.vCalendar = new ICAL.Component(this.jCal)\n\n\t\tthis.subTasks = {}\n\n\t\t// used to state a task is not up to date with\n\t\t// the server and cannot be pushed (etag)\n\t\tthis.conflict = false\n\n\t\tthis.initTodo()\n\n\t\tthis.syncStatus = null\n\n\t\t// Time in seconds before the task is going to be deleted\n\t\tthis.deleteCountdown = null\n\t}\n\n\tinitTodo() {\n\t\t// if no uid set, create one\n\t\tthis.vtodo = this.vCalendar.getFirstSubcomponent('vtodo')\n\n\t\tif (!this.vtodo) {\n\t\t\tthis.vtodo = new ICAL.Component('vtodo')\n\t\t\tthis.vCalendar.addSubcomponent(this.vtodo)\n\t\t}\n\n\t\tif (!this.vtodo.hasProperty('uid')) {\n\t\t\tconsole.debug('This task did not have a proper uid. Setting a new one for ', this)\n\t\t\tthis.vtodo.addPropertyWithValue('uid', uuid())\n\t\t}\n\n\t\t// Define properties, so Vue reacts to changes of them\n\t\tthis._uid = this.vtodo.getFirstPropertyValue('uid') || ''\n\t\tthis._summary = this.vtodo.getFirstPropertyValue('summary') || ''\n\t\tthis._priority = this.vtodo.getFirstPropertyValue('priority') || 0\n\t\tthis._complete = this.vtodo.getFirstPropertyValue('percent-complete') || 0\n\t\tconst comp = this.vtodo.getFirstPropertyValue('completed')\n\t\tthis._completed = !!comp\n\t\tthis._completedDate = comp ? comp.toJSDate() : null\n\t\tthis._completedDateMoment = moment(this._completedDate, 'YYYYMMDDTHHmmss')\n\t\tthis._status = this.vtodo.getFirstPropertyValue('status')\n\t\tthis._note = this.vtodo.getFirstPropertyValue('description') || ''\n\t\tthis._related = this.getParent()?.getFirstValue() || null\n\t\tthis._hideSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidesubtasks') || 0\n\t\tthis._hideCompletedSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidecompletedsubtasks') || 0\n\t\tthis._start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tthis._startMoment = moment(this._start, 'YYYYMMDDTHHmmss')\n\t\tthis._due = this.vtodo.getFirstPropertyValue('due')\n\t\tthis._dueMoment = moment(this._due, 'YYYYMMDDTHHmmss')\n\t\tconst start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tconst due = this.vtodo.getFirstPropertyValue('due')\n\t\tconst d = due || start\n\t\tthis._allDay = d !== null && d.isDate\n\t\tthis._loaded = false\n\t\tthis._tags = this.getTags()\n\t\tthis._modified = this.vtodo.getFirstPropertyValue('last-modified')\n\t\tthis._modifiedMoment = moment(this._modified, 'YYYYMMDDTHHmmss')\n\t\tthis._created = this.vtodo.getFirstPropertyValue('created')\n\t\tthis._createdMoment = moment(this._created, 'YYYYMMDDTHHmmss')\n\t\tthis._class = this.vtodo.getFirstPropertyValue('class') || 'PUBLIC'\n\t\tthis._pinned = this.vtodo.getFirstPropertyValue('x-pinned') === 'true'\n\n\t\tlet sortOrder = this.vtodo.getFirstPropertyValue('x-apple-sort-order')\n\t\tif (sortOrder === null) {\n\t\t\tsortOrder = this.getSortOrder()\n\t\t}\n\t\tthis._sortOrder = +sortOrder\n\n\t\tthis._searchQuery = ''\n\t\tthis._matchesSearchQuery = true\n\t}\n\n\t/**\n\t * Update internal data of this task\n\t *\n\t * @param {jCal} jCal jCal object from ICAL.js\n\t * @memberof Task\n\t */\n\tupdateTask(jCal) {\n\t\tthis.jCal = jCal\n\t\tthis.vCalendar = new ICAL.Component(this.jCal)\n\t\tthis.initTodo()\n\t}\n\n\t/**\n\t * Update linked calendar of this task\n\t *\n\t * @param {object} calendar the calendar\n\t * @memberof Contact\n\t */\n\tupdateCalendar(calendar) {\n\t\tthis.calendar = calendar\n\t}\n\n\t/**\n\t * Ensure we're normalizing the possible arrays\n\t * into a string by taking the first element\n\t * e.g. ORG:ABC\\, Inc.; will output an array because of the semi-colon\n\t *\n\t * @param {Array|string} data the data to normalize\n\t * @return {string}\n\t * @memberof Task\n\t */\n\tfirstIfArray(data) {\n\t\treturn Array.isArray(data) ? data[0] : data\n\t}\n\n\t/**\n\t * Return the key\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget key() {\n\t\treturn this.uid + '~' + this.calendar.id\n\t}\n\n\t/**\n\t * Return the url\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget url() {\n\t\tif (this.dav) {\n\t\t\treturn this.dav.url\n\t\t}\n\t\treturn ''\n\t}\n\n\t/**\n\t * Return the uri\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget uri() {\n\t\tif (this.dav) {\n\t\t\treturn this.dav.url.slice(this.dav.url.lastIndexOf('/') + 1)\n\t\t}\n\t\treturn ''\n\t}\n\n\t/**\n\t * Return the uid\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget uid() {\n\t\treturn this._uid\n\t}\n\n\t/**\n\t * Set the uid\n\t *\n\t * @param {string} uid the uid to set\n\t * @memberof Task\n\t */\n\tset uid(uid) {\n\t\tthis.vtodo.updatePropertyWithValue('uid', uid)\n\t\tthis._uid = this.vtodo.getFirstPropertyValue('uid') || ''\n\t}\n\n\t/**\n\t * Return the first summary\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget summary() {\n\t\treturn this._summary\n\t}\n\n\t/**\n\t * Set the summary\n\t *\n\t * @param {string} summary the summary\n\t * @memberof Task\n\t */\n\tset summary(summary) {\n\t\tthis.vtodo.updatePropertyWithValue('summary', summary)\n\t\tthis.updateLastModified()\n\t\tthis._summary = this.vtodo.getFirstPropertyValue('summary') || ''\n\t}\n\n\tget priority() {\n\t\treturn Number(this._priority)\n\t}\n\n\tset priority(priority) {\n\t\t// TODO: check that priority is >= 0 and <10\n\t\tif (priority === null || priority === 0) {\n\t\t\tthis.vtodo.removeProperty('priority')\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('priority', priority)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._priority = this.vtodo.getFirstPropertyValue('priority') || 0\n\t}\n\n\tget closed() {\n\t\treturn this._completed || this._status === 'CANCELLED'\n\t}\n\n\tget complete() {\n\t\treturn Number(this._complete)\n\t}\n\n\tset complete(complete) {\n\t\tthis.setComplete(complete)\n\t\t// Make complete a number\n\t\tcomplete = +complete\n\t\tif (complete < 100) {\n\t\t\tthis.setCompleted(false)\n\t\t\tif (complete === 0) {\n\t\t\t\tthis.setStatus('NEEDS-ACTION')\n\t\t\t} else {\n\t\t\t\tthis.setStatus('IN-PROCESS')\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setCompleted(true)\n\t\t\tthis.setStatus('COMPLETED')\n\t\t}\n\t}\n\n\tsetComplete(complete) {\n\t\tif (complete === null || complete === 0) {\n\t\t\tthis.vtodo.removeProperty('percent-complete')\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('percent-complete', complete)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._complete = this.vtodo.getFirstPropertyValue('percent-complete') || 0\n\t}\n\n\tget completed() {\n\t\treturn this._completed\n\t}\n\n\tset completed(completed) {\n\t\tthis.setCompleted(completed)\n\t\tif (completed) {\n\t\t\tthis.setComplete(100)\n\t\t\tthis.setStatus('COMPLETED')\n\t\t} else {\n\t\t\tif (this.complete === 100) {\n\t\t\t\tthis.setComplete(99)\n\t\t\t\tthis.setStatus('IN-PROCESS')\n\t\t\t}\n\t\t}\n\t}\n\n\tsetCompleted(completed) {\n\t\tif (completed) {\n\t\t\tthis.vtodo.updatePropertyWithValue('completed', ICAL.Time.now())\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('completed')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tconst comp = this.vtodo.getFirstPropertyValue('completed')\n\t\tthis._completed = !!comp\n\t\tthis._completedDate = comp ? comp.toJSDate() : null\n\t\tthis._completedDateMoment = moment(this._completedDate, 'YYYYMMDDTHHmmss')\n\t}\n\n\tget completedDate() {\n\t\treturn this._completedDate\n\t}\n\n\tget completedDateMoment() {\n\t\treturn this._completedDateMoment.clone()\n\t}\n\n\tget status() {\n\t\treturn this._status\n\t}\n\n\tset status(status) {\n\t\tthis.setStatus(status)\n\t\tif (status === 'COMPLETED') {\n\t\t\tthis.setComplete(100)\n\t\t\tthis.setCompleted(true)\n\t\t} else if (status === 'IN-PROCESS') {\n\t\t\tthis.setCompleted(false)\n\t\t\tif (this.complete === 100) {\n\t\t\t\tthis.setComplete(99)\n\t\t\t} else if (this.complete === 0) {\n\t\t\t\tthis.setComplete(1)\n\t\t\t}\n\t\t} else if (status === 'NEEDS-ACTION' || status === null) {\n\t\t\tthis.setComplete(0)\n\t\t\tthis.setCompleted(false)\n\t\t}\n\t}\n\n\tsetStatus(status) {\n\t\tif (status === null) {\n\t\t\tthis.vtodo.removeProperty('status')\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('status', status)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._status = this.vtodo.getFirstPropertyValue('status')\n\t}\n\n\tget note() {\n\t\treturn this._note\n\t}\n\n\tset note(note) {\n\t\t// Delete custom description property\n\t\tthis.vtodo.removeProperty('x-alt-desc')\n\t\t// To avoid inconsistent property parameters (bug #3863 in nextcloud/calendar), delete the property, then recreate\n\t\tthis.vtodo.removeProperty('description')\n\t\tthis.vtodo.addPropertyWithValue('description', note)\n\t\tthis.updateLastModified()\n\t\tthis._note = this.vtodo.getFirstPropertyValue('description') || ''\n\t}\n\n\tget related() {\n\t\treturn this._related\n\t}\n\n\tset related(related) {\n\t\tconst parent = this.getParent()\n\t\t// If a parent already exists, update or remove it\n\t\tif (parent) {\n\t\t\tif (related) {\n\t\t\t\tparent.setValue(related)\n\t\t\t} else {\n\t\t\t\tthis.vtodo.removeProperty(parent)\n\t\t\t}\n\t\t// Otherwise create a new property, so we don't overwrite RELTYPE=CHILD/SIBLING entries.\n\t\t} else {\n\t\t\tif (related) {\n\t\t\t\tthis.vtodo.addPropertyWithValue('related-to', related)\n\t\t\t}\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._related = this.getParent()?.getFirstValue() || null\n\t}\n\n\tgetParent() {\n\t\tconst related = this.vtodo.getAllProperties('related-to')\n\t\t// Return only the first parent for now\n\t\treturn related.find(related => {\n\t\t\treturn related.getFirstParameter('reltype') === 'PARENT' || related.getFirstParameter('reltype') === undefined\n\t\t})\n\t}\n\n\tget pinned() {\n\t\treturn this._pinned\n\t}\n\n\tset pinned(pinned) {\n\t\tif (pinned === true) {\n\t\t\tthis.vtodo.updatePropertyWithValue('x-pinned', 'true')\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('x-pinned')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._pinned = this.vtodo.getFirstPropertyValue('x-pinned') === 'true'\n\t}\n\n\tget hideSubtasks() {\n\t\treturn this._hideSubtaks\n\t}\n\n\tset hideSubtasks(hide) {\n\t\tthis.vtodo.updatePropertyWithValue('x-oc-hidesubtasks', +hide)\n\t\tthis.updateLastModified()\n\t\tthis._hideSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidesubtasks') || 0\n\t}\n\n\tget hideCompletedSubtasks() {\n\t\treturn this._hideCompletedSubtaks\n\t}\n\n\tset hideCompletedSubtasks(hide) {\n\t\tthis.vtodo.updatePropertyWithValue('x-oc-hidecompletedsubtasks', +hide)\n\t\tthis.updateLastModified()\n\t\tthis._hideCompletedSubtaks = +this.vtodo.getFirstPropertyValue('x-oc-hidecompletedsubtasks') || 0\n\t}\n\n\tget start() {\n\t\treturn this._start\n\t}\n\n\tset start(start) {\n\t\tif (start) {\n\t\t\tthis.vtodo.updatePropertyWithValue('dtstart', start)\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('dtstart')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tthis._startMoment = moment(this._start, 'YYYYMMDDTHHmmss')\n\t\t// Check all day setting\n\t\tconst d = this._due || this._start\n\t\tthis._allDay = d !== null && d.isDate\n\t}\n\n\tget startMoment() {\n\t\treturn this._startMoment.clone()\n\t}\n\n\tget due() {\n\t\treturn this._due\n\t}\n\n\tset due(due) {\n\t\tif (due) {\n\t\t\tthis.vtodo.updatePropertyWithValue('due', due)\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('due')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._due = this.vtodo.getFirstPropertyValue('due')\n\t\tthis._dueMoment = moment(this._due, 'YYYYMMDDTHHmmss')\n\t\t// Check all day setting\n\t\tconst d = this._due || this._start\n\t\tthis._allDay = d !== null && d.isDate\n\t}\n\n\tget dueMoment() {\n\t\treturn this._dueMoment.clone()\n\t}\n\n\tget allDay() {\n\t\treturn this._allDay\n\t}\n\n\tset allDay(allDay) {\n\t\tlet start = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tif (start) {\n\t\t\tstart.isDate = allDay\n\t\t\tthis.vtodo.updatePropertyWithValue('dtstart', start)\n\t\t}\n\t\tlet due = this.vtodo.getFirstPropertyValue('due')\n\t\tif (due) {\n\t\t\tdue.isDate = allDay\n\t\t\tthis.vtodo.updatePropertyWithValue('due', due)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tstart = this.vtodo.getFirstPropertyValue('dtstart')\n\t\tdue = this.vtodo.getFirstPropertyValue('due')\n\t\tconst d = due || start\n\t\tthis._allDay = d !== null && d.isDate\n\t}\n\n\tget comments() {\n\t\treturn null\n\t}\n\n\tget loadedCompleted() {\n\t\treturn this._loaded\n\t}\n\n\tset loadedCompleted(loadedCompleted) {\n\t\tthis._loaded = loadedCompleted\n\t}\n\n\tget reminder() {\n\t\treturn null\n\t}\n\n\t/**\n\t * Return the tags\n\t *\n\t * @readonly\n\t * @memberof Task\n\t */\n\tget tags() {\n\t\treturn this._tags\n\t}\n\n\tgetTags() {\n\t\tlet tags = []\n\t\tfor (const t of this.vtodo.getAllProperties('categories')) {\n\t\t\tif (t) {\n\t\t\t\ttags = tags.concat(t.getValues())\n\t\t\t}\n\t\t}\n\t\treturn tags\n\t}\n\n\t/**\n\t * Set the tags\n\t *\n\t * @param {string} newTags The tags\n\t * @memberof Task\n\t */\n\tset tags(newTags) {\n\t\tif (newTags.length > 0) {\n\t\t\tlet tags = this.vtodo.getAllProperties('categories')\n\t\t\t// If there are no tags set yet, just set them\n\t\t\tif (tags.length < 1) {\n\t\t\t\tconst prop = new ICAL.Property('categories')\n\t\t\t\tprop.setValues(newTags)\n\t\t\t\ttags = this.vtodo.addProperty(prop)\n\t\t\t// If there is only one tags property, overwrite it\n\t\t\t} else if (tags.length < 2) {\n\t\t\t\ttags[0].setValues(newTags)\n\t\t\t// If there are multiple tags properties, we have to iterate over all\n\t\t\t// and remove unwanted tags and add new ones\n\t\t\t} else {\n\t\t\t\tconst toRemove = this._tags.filter(c => !newTags.includes(c))\n\t\t\t\tconst toAdd = newTags.filter(c => !this._tags.includes(c))\n\t\t\t\t// Remove all unwanted tags\n\t\t\t\tfor (const ts of tags) {\n\t\t\t\t\tconst t = ts.getValues().filter(c => !toRemove.includes(c))\n\t\t\t\t\tif (t.length) {\n\t\t\t\t\t\tts.setValues(t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.vtodo.removeProperty(ts)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Add new tags\n\t\t\t\ttags[0].setValues(tags[0].getValues().concat(toAdd))\n\t\t\t}\n\t\t} else {\n\t\t\tthis.vtodo.removeAllProperties('categories')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._tags = this.getTags()\n\t}\n\n\tupdateLastModified() {\n\t\tconst now = ICAL.Time.now()\n\t\tthis.vtodo.updatePropertyWithValue('last-modified', now)\n\t\tthis.vtodo.updatePropertyWithValue('dtstamp', now)\n\t\tthis._modified = now\n\t\tthis._modifiedMoment = moment(this._modified, 'YYYYMMDDTHHmmss')\n\t}\n\n\tget modified() {\n\t\treturn this._modified\n\t}\n\n\tget modifiedMoment() {\n\t\treturn this._modifiedMoment.clone()\n\t}\n\n\tget created() {\n\t\treturn this._created\n\t}\n\n\tget createdMoment() {\n\t\treturn this._createdMoment.clone()\n\t}\n\n\tset created(createdDate) {\n\t\tthis.vtodo.updatePropertyWithValue('created', createdDate)\n\t\tthis.updateLastModified()\n\t\tthis._created = this.vtodo.getFirstPropertyValue('created')\n\t\tthis._createdMoment = moment(this._created, 'YYYYMMDDTHHmmss')\n\t\t// Update the sortorder if necessary\n\t\tif (this.vtodo.getFirstPropertyValue('x-apple-sort-order') === null) {\n\t\t\tthis._sortOrder = this.getSortOrder()\n\t\t}\n\t}\n\n\tget class() {\n\t\treturn this._class\n\t}\n\n\tset class(classification) {\n\t\tif (classification) {\n\t\t\tthis.vtodo.updatePropertyWithValue('class', classification)\n\t\t} else {\n\t\t\tthis.vtodo.removeProperty('class')\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._class = this.vtodo.getFirstPropertyValue('class') || 'PUBLIC'\n\t}\n\n\tget sortOrder() {\n\t\treturn this._sortOrder\n\t}\n\n\tset sortOrder(sortOrder) {\n\t\t// We expect a number for the sort order.\n\t\tsortOrder = parseInt(sortOrder)\n\t\tif (isNaN(sortOrder)) {\n\t\t\tthis.vtodo.removeProperty('x-apple-sort-order')\n\t\t\t// Get the default sort order.\n\t\t\tsortOrder = this.getSortOrder()\n\t\t} else {\n\t\t\tthis.vtodo.updatePropertyWithValue('x-apple-sort-order', sortOrder)\n\t\t}\n\t\tthis.updateLastModified()\n\t\tthis._sortOrder = sortOrder\n\t}\n\n\t/**\n\t * Construct the default value for the sort order\n\t * from the created date.\n\t *\n\t * @return {number} The sort order\n\t */\n\tgetSortOrder() {\n\t\t// If there is no created date we return 0.\n\t\tif (this._created === null) {\n\t\t\treturn 0\n\t\t}\n\t\treturn this._created.subtractDate(\n\t\t\tnew ICAL.Time({\n\t\t\t\tyear: 2001,\n\t\t\t\tmonth: 1,\n\t\t\t\tday: 1,\n\t\t\t\thour: 0,\n\t\t\t\tminute: 0,\n\t\t\t\tsecond: 0,\n\t\t\t\tisDate: false,\n\t\t\t})\n\t\t).toSeconds()\n\t}\n\n\t/**\n\t * Checks if the task matches the search query\n\t *\n\t * @param {string} searchQuery The search string\n\t * @return {boolean} If the task matches\n\t */\n\tmatches(searchQuery) {\n\t\t// If the search query maches the previous search, we don't have to search again.\n\t\tif (this._searchQuery === searchQuery) {\n\t\t\treturn this._matchesSearchQuery\n\t\t}\n\t\t// We cache the current search query for faster future comparison.\n\t\tthis._searchQuery = searchQuery\n\t\t// If the search query is empty, the task matches by default.\n\t\tif (!searchQuery) {\n\t\t\tthis._matchesSearchQuery = true\n\t\t\treturn this._matchesSearchQuery\n\t\t}\n\t\t// We search in these task properties\n\t\tconst keys = ['summary', 'note', 'tags']\n\t\t// Make search case-insensitive.\n\t\tsearchQuery = searchQuery.toLowerCase()\n\t\tfor (const key of keys) {\n\t\t\t// For the tags search the array\n\t\t\tif (key === 'tags') {\n\t\t\t\tfor (const tag of this[key]) {\n\t\t\t\t\tif (tag.toLowerCase().indexOf(searchQuery) > -1) {\n\t\t\t\t\t\tthis._matchesSearchQuery = true\n\t\t\t\t\t\treturn this._matchesSearchQuery\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this[key].toLowerCase().indexOf(searchQuery) > -1) {\n\t\t\t\t\tthis._matchesSearchQuery = true\n\t\t\t\t\treturn this._matchesSearchQuery\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._matchesSearchQuery = false\n\t\treturn this._matchesSearchQuery\n\t}\n\n}\n","<template>\n\t<Modal @close=\"onClose\">\n\t\t<div class=\"modal-content\">\n\t\t\t<h2>{{ t('mail', 'Create task') }}</h2>\n\t\t\t<div class=\"taskTitle\">\n\t\t\t\t<input v-model=\"taskTitle\" type=\"text\">\n\t\t\t</div>\n\t\t\t<div class=\"all-day\">\n\t\t\t\t<DatetimePicker v-model=\"startDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"startTimezoneId\" />\n\t\t\t\t<DatetimePicker v-model=\"endDate\"\n\t\t\t\t\t:format=\"dateFormat\"\n\t\t\t\t\t:clearable=\"false\"\n\t\t\t\t\t:minute-step=\"5\"\n\t\t\t\t\t:show-second=\"false\"\n\t\t\t\t\t:type=\"datePickerType\"\n\t\t\t\t\t:show-timezone-select=\"true\"\n\t\t\t\t\t:timezone-id=\"endTimezoneId\" />\n\t\t\t</div>\n\t\t\t<label for=\"note\">Description:</label>\n\t\t\t<textarea id=\"note\" v-model=\"note\" rows=\"7\" />\n\t\t\t<div class=\"all-day\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"allDay\"\n\t\t\t\t\tv-model=\"isAllDay\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label\n\t\t\t\t\tfor=\"allDay\">\n\t\t\t\t\t{{ t('mail', 'All day') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<Multiselect\n\t\t\t\tv-model=\"selectedCalendar\"\n\t\t\t\tlabel=\"displayname\"\n\t\t\t\ttrack-by=\"url\"\n\t\t\t\t:placeholder=\"t('mail', 'Select calendar')\"\n\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t:options=\"calendars\">\n\t\t\t\t<template #option=\"{option}\">\n\t\t\t\t\t<CalendarPickerOption\n\t\t\t\t\t\tv-bind=\"option\" />\n\t\t\t\t</template>\n\t\t\t\t<template #singleLabel=\"{option}\">\n\t\t\t\t\t<CalendarPickerOption\n\t\t\t\t\t\t:display-icon=\"option.displayIcon\"\n\t\t\t\t\t\tv-bind=\"option\" />\n\t\t\t\t</template>\n\t\t\t\t<span slot=\"noOptions\">{{ t('mail', 'No calendars with task list support') }}</span>\n\t\t\t</Multiselect>\n\t\t\t<br>\n\t\t\t<button class=\"primary\" :disabled=\"disabled\" @click=\"onSave\">\n\t\t\t\t{{ t('mail', 'Create') }}\n\t\t\t</button>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport { NcDatetimePicker as DatetimePicker, NcModal as Modal, NcMultiselect as Multiselect } from '@nextcloud/vue'\nimport jstz from 'jstz'\n\nimport logger from '../logger.js'\nimport ICAL from 'ical.js'\nimport Task from '../task.js'\nimport CalendarPickerOption from './CalendarPickerOption.vue'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport moment from '@nextcloud/moment'\n\nexport default {\n\tname: 'TaskModal',\n\tcomponents: {\n\t\tCalendarPickerOption,\n\t\tDatetimePicker,\n\t\tModal,\n\t\tMultiselect,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\t// Try to determine the current timezone, and fall back to UTC otherwise\n\t\tconst defaultTimezone = jstz.determine()\n\t\tconst defaultTimezoneId = defaultTimezone ? defaultTimezone.name() : 'UTC'\n\n\t\treturn {\n\n\t\t\ttaskTitle: this.envelope.subject,\n\t\t\tstartDate: null,\n\t\t\tendDate: null,\n\t\t\tisAllDay: true,\n\t\t\tstartTimezoneId: defaultTimezoneId,\n\t\t\tendTimezoneId: defaultTimezoneId,\n\t\t\tsaving: false,\n\t\t\tselectedCalendar: undefined,\n\t\t\tnote: this.envelope.previewText,\n\t\t}\n\t},\n\tcomputed: {\n\t\tdisabled() {\n\t\t\treturn this.saving || this.calendars.length === 0\n\t\t},\n\t\tdateFormat() {\n\t\t\treturn this.isAllDay ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm'\n\t\t},\n\t\tdatePickerType() {\n\t\t\treturn this.isAllDay ? 'date' : 'datetime'\n\t\t},\n\t\ttags() {\n\t\t\treturn this.$store.getters.getAllTags\n\t\t},\n\t\tcalendars() {\n\t\t\treturn this.$store.getters.getTaskCalendarsForCurrentUser\n\t\t},\n\t},\n\tcreated() {\n\t\tlogger.debug('creating task from envelope', {\n\t\t\tenvelope: this.envelope,\n\t\t})\n\t},\n\tasync mounted() {\n\n\t\tif (this.calendars.length) {\n\t\t\tthis.selectedCalendar = this.calendars[0]\n\t\t}\n\t},\n\tmethods: {\n\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync createTask(taskData) {\n\t\t\tconst task = new Task('BEGIN:VCALENDAR\\nVERSION:2.0\\nPRODID:-//Nextcloud Mail v' + this.$store.getters.getAppVersion + '\\nEND:VCALENDAR', taskData.calendar)\n\t\t\ttask.created = ICAL.Time.now()\n\t\t\ttask.summary = taskData.summary\n\t\t\ttask.hidesubtasks = 0\n\t\t\tif (taskData.priority) {\n\t\t\t\ttask.priority = taskData.priority\n\t\t\t}\n\t\t\tif (taskData.complete) {\n\t\t\t\ttask.complete = taskData.complete\n\t\t\t}\n\t\t\tif (taskData.note) {\n\t\t\t\ttask.note = taskData.note\n\t\t\t}\n\t\t\tif (taskData.due) {\n\t\t\t\ttask.due = taskData.due\n\t\t\t}\n\t\t\tif (taskData.start) {\n\t\t\t\ttask.start = taskData.start\n\t\t\t}\n\t\t\tif (taskData.allDay) {\n\t\t\t\ttask.allDay = taskData.allDay\n\t\t\t}\n\t\t\tconst vData = ICAL.stringify(task.jCal)\n\n\t\t\tawait task.calendar.dav.createVObject(vData)\n\n\t\t\treturn task\n\n\t\t},\n\t\tasync onSave() {\n\t\t\tthis.saving = true\n\n\t\t\tconst taskData = {\n\t\t\t\tsummary: this.taskTitle,\n\t\t\t\tcalendar: this.selectedCalendar,\n\t\t\t\tstart: this.startDate ? moment(this.startDate).format().toString() : null,\n\t\t\t\tdue: this.endDate ? moment(this.endDate).set().format().toString() : null,\n\t\t\t\tallDay: this.isAllDay,\n\t\t\t\tnote: this.note,\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlogger.debug('create task', taskData)\n\n\t\t\t\tawait this.createTask(taskData)\n\n\t\t\t\tshowSuccess(t('mail', 'Task created'))\n\n\t\t\t\tthis.onClose()\n\t\t\t} catch (error) {\n\t\t\t\tshowError(t('mail', 'Could not create task'))\n\n\t\t\t\tlogger.error('Creating event from message failed', { error })\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-wrapper .modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 490px !important;\n\tmax-height: 500px !important;\n}\n:deep(.calendar-picker-option__color-indicator){\n    margin-left: 10px !important;\n}\n.modal-content {\n\tpadding: 30px 30px 20px !important;\n}\ninput , textarea {\n\twidth: 100%;\n}\n:deep(input[type='text'].multiselect__input) {\n\tpadding: 0 !important;\n}\n:deep(.multiselect__single) {\n\tmargin-left: -18px;\n\twidth: 100px;\n}\n:deep(.multiselect__tags) {\n\tborder: none !important;\n}\n.all-day {\n\tmargin-left: -1px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n}\n.taskTitle {\n\tmargin-bottom: 5px;\n}\n.primary {\n\theight: 44px !important;\n\tfloat: right;\n}\n:deep(.mx-datepicker) {\n\twidth: 213px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=style&index=0&id=518f09f2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskModal.vue?vue&type=style&index=0&id=518f09f2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TaskModal.vue?vue&type=template&id=518f09f2&scoped=true\"\nimport script from \"./TaskModal.vue?vue&type=script&lang=js\"\nexport * from \"./TaskModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./TaskModal.vue?vue&type=style&index=0&id=518f09f2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"518f09f2\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopePrimaryActions.vue?vue&type=style&index=0&id=209d492a&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopePrimaryActions.vue?vue&type=style&index=0&id=209d492a&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EnvelopePrimaryActions.vue?vue&type=template&id=209d492a\"\nimport script from \"./EnvelopePrimaryActions.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopePrimaryActions.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvelopePrimaryActions.vue?vue&type=style&index=0&id=209d492a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<ul class=\"list-item-content__actions--primary\">\n\t\t<slot />\n\t</ul>\n</template>\n\n<script>\nexport default {\n\tname: 'EnvelopePrimaryActions',\n}\n</script>\n\n<style>\n.list-item-content__actions--primary {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.list-item-content__actions--primary .action--primary:first-child {\n\tpadding-left: 5px;\n}\n\n.list-item-content__actions--primary .action--primary:last-child {\n\tpadding-right: 5px;\n}\n\n.list-item-content__actions--primary .action--primary .action-button {\n\talign-items: center;\n\tflex-direction: column;\n\tpadding: 10px 10px 0 10px;\n\n\t.material-design-icon {\n\t\tmargin-bottom: -15px;\n\t}\n}\n\n.list-item-content__actions--primary .action--primary .action-button__text,\n.list-item-content__actions--primary .action--primary .action-button__icon {\n\theight: auto;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"list-item-content__actions--primary\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<ListItem\n\t\tv-draggable-envelope=\"{\n\t\t\taccountId: data.accountId ? data.accountId : mailbox.accountId,\n\t\t\tmailboxId: data.mailboxId,\n\t\t\tenvelopeId: data.databaseId,\n\t\t\tdraggableLabel,\n\t\t\tselectedEnvelopes,\n\t\t\tisDraggable,\n\t\t}\"\n\t\tclass=\"list-item-style envelope\"\n\t\t:class=\"{seen: data.flags.seen, draft, selected: selected}\"\n\t\t:to=\"link\"\n\t\t:exact=\"true\"\n\t\t:data-envelope-id=\"data.databaseId\"\n\t\t:title=\"addresses\"\n\t\t:details=\"formatted()\"\n\t\t@click=\"onClick\"\n\t\t@click.ctrl.prevent=\"toggleSelected\"\n\t\t@update:menuOpen=\"closeMoreAndSnoozeOptions\">\n\t\t<template #icon>\n\t\t\t<Star\n\t\t\t\tv-if=\"data.flags.flagged\"\n\t\t\t\tfill-color=\"#f9cf3d\"\n\t\t\t\t:size=\"18\"\n\t\t\t\tclass=\"app-content-list-item-star favorite-icon-style\"\n\t\t\t\t:data-starred=\"data.flags.flagged ? 'true' : 'false'\"\n\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleFlagged() : false\" />\n\t\t\t<div\n\t\t\t\tv-if=\"isImportant\"\n\t\t\t\tclass=\"app-content-list-item-star svg icon-important\"\n\t\t\t\t:data-starred=\"isImportant ? 'true' : 'false'\"\n\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleImportant() : false\"\n\t\t\t\tv-html=\"importantSvg\" />\n\t\t\t<JunkIcon\n\t\t\t\tv-if=\"data.flags.$junk\"\n\t\t\t\t:size=\"18\"\n\t\t\t\tclass=\"app-content-list-item-star junk-icon-style\"\n\t\t\t\t:data-starred=\"data.flags.$junk ? 'true' : 'false'\"\n\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleJunk() : false\" />\n\t\t\t<div class=\"app-content-list-item-icon\">\n\t\t\t\t<Avatar :display-name=\"addresses\" :email=\"avatarEmail\" />\n\t\t\t\t<p v-if=\"selectMode\" class=\"app-content-list-item-select-checkbox\">\n\t\t\t\t\t<input :id=\"`select-checkbox-${data.uid}`\"\n\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:checked=\"selected\">\n\t\t\t\t\t<label\n\t\t\t\t\t\t:for=\"`select-checkbox-${data.uid}`\"\n\t\t\t\t\t\t@click.exact.prevent=\"toggleSelected\"\n\t\t\t\t\t\t@click.shift.prevent=\"onSelectMultiple\" />\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #subtitle>\n\t\t\t<div class=\"envelope__subtitle\">\n\t\t\t\t<Reply v-if=\"data.flags.answered\"\n\t\t\t\t\tclass=\"seen-icon-style\"\n\t\t\t\t\t:size=\"18\" />\n\t\t\t\t<IconAttachment v-if=\"data.flags.hasAttachments === true\"\n\t\t\t\t\tclass=\"attachment-icon-style\"\n\t\t\t\t\t:size=\"18\" />\n\t\t\t\t<span v-else-if=\"draft\" class=\"draft\">\n\t\t\t\t\t<em>{{ t('mail', 'Draft: ') }}</em>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"envelope__subtitle__subject\">\n\t\t\t\t\t{{ subjectForSubtitle }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div v-if=\"data.encrypted || data.previewText\"\n\t\t\t\tclass=\"envelope__preview-text\">\n\t\t\t\t{{ isEncrypted ? t('mail', 'Encrypted message') : data.previewText }}\n\t\t\t</div>\n\t\t</template>\n\t\t<template #indicator>\n\t\t\t<!-- Color dot -->\n\t\t\t<IconBullet v-if=\"!data.flags.seen\"\n\t\t\t\t:size=\"16\"\n\t\t\t\t:aria-hidden=\"false\"\n\t\t\t\t:aria-label=\"t('mail', 'This message is unread')\"\n\t\t\t\tfill-color=\"var(--color-primary-element)\" />\n\t\t</template>\n\t\t<template #actions>\n\t\t\t<EnvelopePrimaryActions v-if=\"!moreActionsOpen && !snoozeOptions\">\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleFlagged\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<StarOutline v-if=\"showFavoriteIconVariant\"\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t\t<Star v-else\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdata.flags.flagged ? t('mail', 'Unfavorite') : t('mail', 'Favorite')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasSeenAcl\"\n\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleSeen\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<EmailUnread v-if=\"showImportantIconVariant\"\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t\t<EmailRead v-else\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdata.flags.seen ? t('mail', 'Unread') : t('mail', 'Read')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleImportant\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ImportantIcon\n\t\t\t\t\t\t\t:size=\"24\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tisImportant ? t('mail', 'Unimportant') : t('mail', 'Important')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t</EnvelopePrimaryActions>\n\t\t\t<template v-if=\"!moreActionsOpen && !snoozeOptions\">\n\t\t\t\t<ActionText>\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ClockOutlineIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tmessageLongDate\n\t\t\t\t\t}}\n\t\t\t\t</ActionText>\n\t\t\t\t<ActionSeparator />\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onToggleJunk\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AlertOctagonIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdata.flags.$junk ? t('mail', 'Mark not spam') : t('mail', 'Mark as spam')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"toggleSelected\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tselected ? t('mail', 'Unselect') : t('mail', 'Select')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onOpenTagModal\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<TagIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Edit tags') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && !isSnoozedMailbox\"\n\t\t\t\t\t:close-after-click=\"false\"\n\t\t\t\t\t@click=\"showSnoozeOptions\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AlarmIcon\n\t\t\t\t\t\t\t:title=\"t('mail', 'Snooze')\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tt('mail', 'Snooze')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && isSnoozedMailbox\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"onUnSnooze\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Unsnooze')\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Unsnooze') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasDeleteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onOpenMoveModal\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<OpenInNewIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Move thread') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"showArchiveButton && hasArchiveAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t:disabled=\"disableArchiveButton\"\n\t\t\t\t\t@click.prevent=\"onArchive\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Archive thread') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"hasDeleteAcl\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onDelete\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<DeleteIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Delete thread') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t\t@click=\"showMoreActionOptions\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<DotsHorizontalIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t\t<template v-if=\"snoozeOptions\">\n\t\t\t\t<ActionButton\n\t\t\t\t\t:close-after-click=\"false\"\n\t\t\t\t\t@click=\"snoozeOptions = false\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ChevronLeft\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{\n\t\t\t\t\t\tt('mail', 'Back')\n\t\t\t\t\t}}\n\t\t\t\t</ActionButton>\n\n\t\t\t\t<NcActionSeparator />\n\n\t\t\t\t<ActionButton v-for=\"option in reminderOptions\"\n\t\t\t\t\t:key=\"option.key\"\n\t\t\t\t\t:aria-label=\"option.ariaLabel\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\t@click.stop=\"onSnooze(option.timestamp)\">\n\t\t\t\t\t{{ option.label }}\n\t\t\t\t</ActionButton>\n\n\t\t\t\t<NcActionSeparator />\n\n\t\t\t\t<NcActionInput type=\"datetime-local\"\n\t\t\t\t\tis-native-picker\n\t\t\t\t\t:value=\"customSnoozeDateTime\"\n\t\t\t\t\t:min=\"new Date()\"\n\t\t\t\t\t@change=\"setCustomSnoozeDateTime\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CalendarClock :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionInput>\n\n\t\t\t\t<ActionButton :aria-label=\"t('spreed', 'Set custom snooze')\"\n\t\t\t\t\tclose-after-click\n\t\t\t\t\t@click.stop=\"setCustomSnooze(customSnoozeDateTime)\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CheckIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('spreed', 'Set custom snooze') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t\t<template v-if=\"moreActionsOpen\">\n\t\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t\t@click=\"moreActionsOpen=false\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ChevronLeft\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"onOpenEditAsNew\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<PlusIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Edit as new message') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"showEventModal = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconCreateEvent\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Create event') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t\t@click.prevent=\"showTaskModal = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<TaskIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Create task') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionLink\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t:href=\"exportMessageLink\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<DownloadIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Download message') }}\n\t\t\t\t</ActionLink>\n\t\t\t</template>\n\t\t</template>\n\t\t<template #extra>\n\t\t\t<div v-for=\"tag in tags\"\n\t\t\t\t:key=\"tag.id\"\n\t\t\t\tclass=\"tag-group\">\n\t\t\t\t<div class=\"tag-group__bg\"\n\t\t\t\t\t:style=\"{'background-color': tag.color}\" />\n\t\t\t\t<span class=\"tag-group__label\"\n\t\t\t\t\t:style=\"{color: tag.color}\">{{ tag.displayName }} </span>\n\t\t\t</div>\n\t\t\t<MoveModal v-if=\"showMoveModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:envelopes=\"[data]\"\n\t\t\t\t:move-thread=\"true\"\n\t\t\t\t@move=\"onMove\"\n\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t\t<EventModal v-if=\"showEventModal\"\n\t\t\t\t:envelope=\"data\"\n\t\t\t\t@close=\"showEventModal = false\" />\n\t\t\t<TaskModal v-if=\"showTaskModal\"\n\t\t\t\t:envelope=\"data\"\n\t\t\t\t@close=\"showTaskModal = false\" />\n\t\t\t<TagModal\n\t\t\t\tv-if=\"showTagModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:envelopes=\"[data]\"\n\t\t\t\t@close=\"onCloseTagModal\" />\n\t\t</template>\n\t</ListItem>\n</template>\n<script>\nimport {\n\tNcListItem as ListItem,\n\tNcActionButton as ActionButton,\n\tNcActionLink as ActionLink,\n\tNcActionSeparator as ActionSeparator,\n\tNcActionText as ActionText,\n} from '@nextcloud/vue'\nimport AlertOctagonIcon from 'vue-material-design-icons/AlertOctagon'\nimport Avatar from './Avatar.vue'\nimport IconCreateEvent from 'vue-material-design-icons/Calendar'\nimport ClockOutlineIcon from 'vue-material-design-icons/ClockOutline'\nimport CheckIcon from 'vue-material-design-icons/Check'\nimport ChevronLeft from 'vue-material-design-icons/ChevronLeft'\nimport DeleteIcon from 'vue-material-design-icons/Delete'\nimport ArchiveIcon from 'vue-material-design-icons/PackageDown'\nimport TaskIcon from 'vue-material-design-icons/CheckboxMarkedCirclePlusOutline'\nimport DotsHorizontalIcon from 'vue-material-design-icons/DotsHorizontal'\nimport importantSvg from '../../img/important.svg'\nimport { DraggableEnvelopeDirective } from '../directives/drag-and-drop/draggable-envelope/index.js'\nimport { buildRecipients as buildReplyRecipients } from '../ReplyBuilder.js'\nimport { shortRelativeDatetime, messageDateTime } from '../util/shortRelativeDatetime.js'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport NoTrashMailboxConfiguredError\n\tfrom '../errors/NoTrashMailboxConfiguredError.js'\nimport logger from '../logger.js'\nimport { matchError } from '../errors/match.js'\nimport MoveModal from './MoveModal.vue'\nimport OpenInNewIcon from 'vue-material-design-icons/OpenInNew'\nimport StarOutline from 'vue-material-design-icons/StarOutline'\nimport Star from 'vue-material-design-icons/Star'\nimport Reply from 'vue-material-design-icons/Reply'\nimport EmailRead from 'vue-material-design-icons/EmailOpen'\nimport EmailUnread from 'vue-material-design-icons/Email'\nimport IconAttachment from 'vue-material-design-icons/Paperclip'\nimport ImportantIcon from './icons/ImportantIcon.vue'\nimport IconBullet from 'vue-material-design-icons/CheckboxBlankCircle'\nimport JunkIcon from './icons/JunkIcon.vue'\nimport PlusIcon from 'vue-material-design-icons/Plus'\nimport TagIcon from 'vue-material-design-icons/Tag'\nimport TagModal from './TagModal.vue'\nimport EventModal from './EventModal.vue'\nimport TaskModal from './TaskModal.vue'\nimport EnvelopePrimaryActions from './EnvelopePrimaryActions.vue'\nimport { hiddenTags } from './tags.js'\nimport { generateUrl } from '@nextcloud/router'\nimport { isPgpText } from '../crypto/pgp.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport DownloadIcon from 'vue-material-design-icons/Download'\nimport NcActionSeparator from '@nextcloud/vue/dist/Components/NcActionSeparator'\nimport NcActionInput from '@nextcloud/vue/dist/Components/NcActionInput'\nimport CalendarClock from 'vue-material-design-icons/CalendarClock'\nimport AlarmIcon from 'vue-material-design-icons/Alarm'\nimport moment from '@nextcloud/moment'\nimport { mapGetters } from 'vuex'\n\nexport default {\n\tname: 'Envelope',\n\tcomponents: {\n\t\tAlertOctagonIcon,\n\t\tAvatar,\n\t\tIconCreateEvent,\n\t\tCheckIcon,\n\t\tChevronLeft,\n\t\tDeleteIcon,\n\t\tArchiveIcon,\n\t\tTaskIcon,\n\t\tDotsHorizontalIcon,\n\t\tEnvelopePrimaryActions,\n\t\tEventModal,\n\t\tTaskModal,\n\t\tListItem,\n\t\tImportantIcon,\n\t\tJunkIcon,\n\t\tActionButton,\n\t\tMoveModal,\n\t\tOpenInNewIcon,\n\t\tPlusIcon,\n\t\tTagIcon,\n\t\tTagModal,\n\t\tStar,\n\t\tStarOutline,\n\t\tEmailRead,\n\t\tEmailUnread,\n\t\tIconAttachment,\n\t\tIconBullet,\n\t\tReply,\n\t\tActionLink,\n\t\tActionSeparator,\n\t\tActionText,\n\t\tDownloadIcon,\n\t\tClockOutlineIcon,\n\t\tNcActionSeparator,\n\t\tNcActionInput,\n\t\tCalendarClock,\n\t\tAlarmIcon,\n\t},\n\tdirectives: {\n\t\tdraggableEnvelope: DraggableEnvelopeDirective,\n\t},\n\tprops: {\n\t\twithReply: {\n\t\t\t// \"Reply\" action should only appear in envelopes from the envelope list\n\t\t\t// (Because in thread envelopes, this action is already set as primary button of this menu)\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselectMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tselectedEnvelopes: {\n\t\t\ttype: Array,\n\t\t\trequired: false,\n\t\t\tdefault: () => [],\n\t\t},\n\t\thasMultipleAccounts: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\timportantSvg,\n\t\t\tshowMoveModal: false,\n\t\t\tshowEventModal: false,\n\t\t\tshowTaskModal: false,\n\t\t\tshowTagModal: false,\n\t\t\tmoreActionsOpen: false,\n\t\t\tsnoozeOptions: false,\n\t\t\tcustomSnoozeDateTime: new Date(moment().add(2, 'hours').minute(0).second(0).valueOf()),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'isSnoozeDisabled',\n\t\t]),\n\t\tmessageLongDate() {\n\t\t\treturn messageDateTime(new Date(this.data.dateInt))\n\t\t},\n\t\thasMultipleRecipients() {\n\t\t\tif (!this.account) {\n\t\t\t\tconsole.error('account is undefined', {\n\t\t\t\t\taccountId: this.data.accountId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tconst recipients = buildReplyRecipients(this.envelope, {\n\t\t\t\tlabel: this.account.name,\n\t\t\t\temail: this.account.emailAddress,\n\t\t\t})\n\t\t\treturn recipients.to.concat(recipients.cc).length > 1\n\t\t},\n\t\tdraft() {\n\t\t\treturn this.data.flags.draft\n\t\t},\n\t\taccount() {\n\t\t\tconst accountId = this.data.accountId\n\t\t\treturn this.$store.getters.getAccount(accountId)\n\t\t},\n\t\tlink() {\n\t\t\tif (this.draft) {\n\t\t\t\treturn undefined\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tname: 'message',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params.filter ? this.$route.params.filter : undefined,\n\t\t\t\t\t\tthreadId: this.data.databaseId,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\taddresses() {\n\t\t\t// Show recipients' label/address in a sent mailbox\n\t\t\tif (this.mailbox.specialRole === 'sent' || this.account.sentMailboxId === this.mailbox.databaseId) {\n\t\t\t\tconst recipients = [this.data.to, this.data.cc].flat().map(function(recipient) {\n\t\t\t\t\treturn recipient.label ? recipient.label : recipient.email\n\t\t\t\t})\n\t\t\t\treturn recipients.length > 0 ? recipients.join(', ') : t('mail', 'Blind copy recipients only')\n\t\t\t}\n\t\t\t// Show sender label/address in other mailbox types\n\t\t\treturn this.data.from[0]?.label ?? this.data.from[0]?.email ?? '?'\n\t\t},\n\t\tavatarEmail() {\n\t\t\t// Show first recipients' avatar in a sent mailbox (or undefined when sent to Bcc only)\n\t\t\tif (this.mailbox.specialRole === 'sent') {\n\t\t\t\tconst recipients = [this.data.to, this.data.cc].flat().map(function(recipient) {\n\t\t\t\t\treturn recipient.email\n\t\t\t\t})\n\t\t\t\treturn recipients.length > 0 ? recipients[0] : ''\n\t\t\t}\n\n\t\t\t// Show sender avatar in other mailbox types\n\t\t\tif (this.data.from.length > 0) {\n\t\t\t\treturn this.data.from[0].email\n\t\t\t} else {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\tshowArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t},\n\t\tdisableArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t\t\t&& this.account.archiveMailboxId === this.mailbox.databaseId\n\t\t},\n\t\tshowFavoriteIconVariant() {\n\t\t\treturn this.data.flags.flagged\n\t\t},\n\t\tshowImportantIconVariant() {\n\t\t\treturn this.data.flags.seen\n\t\t},\n\t\tisEncrypted() {\n\t\t\treturn this.data.encrypted // S/MIME\n\t\t\t\t|| (this.data.previewText && isPgpText(this.data.previewText)) // PGP/Mailvelope\n\t\t},\n\t\tisImportant() {\n\t\t\treturn this.$store.getters\n\t\t\t\t.getEnvelopeTags(this.data.databaseId)\n\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t},\n\t\ttags() {\n\t\t\treturn this.$store.getters.getEnvelopeTags(this.data.databaseId).filter(\n\t\t\t\t(tag) => tag.imapLabel && tag.imapLabel !== '$label1' && !(tag.displayName.toLowerCase() in hiddenTags)\n\t\t\t)\n\t\t},\n\t\tdraggableLabel() {\n\t\t\tlet label = this.data.subject\n\t\t\tconst sender = this.data.from[0]?.label ?? this.data.from[0]?.email\n\t\t\tif (sender) {\n\t\t\t\tlabel += ` (${sender})`\n\t\t\t}\n\t\t\treturn label\n\t\t},\n\t\tisDraggable() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\t/**\n\t\t * Subject of envelope or \"No Subject\".\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tsubjectForSubtitle() {\n\t\t\t// We have to use || here (instead of ??) because the subject might be '', null\n\t\t\t// or undefined.\n\t\t\treturn this.data.subject || this.t('mail', 'No subject')\n\t\t},\n\t\t/**\n\t\t * Link to download the whole message (.eml).\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\texportMessageLink() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/export', {\n\t\t\t\tid: this.data.databaseId,\n\t\t\t})\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasArchiveAcl() {\n\t\t\tconst hasDeleteSourceAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t\t}\n\t\t\tconst hasCreateDestinationAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.archiveMailbox, 'i')\n\n\t\t\t}\n\t\t\treturn hasDeleteSourceAcl() && hasCreateDestinationAcl()\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\thasWriteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'w')\n\t\t},\n\t\tarchiveMailbox() {\n\t\t\treturn this.$store.getters.getMailbox(this.account.archiveMailboxId)\n\t\t},\n\t\tisSnoozedMailbox() {\n\t\t\treturn this.mailbox.databaseId === this.account.snoozeMailboxId\n\t\t},\n\t\treminderOptions() {\n\t\t\tconst currentDateTime = moment()\n\n\t\t\t// Same day 18:00 PM (hidden if after 17:00 PM now)\n\t\t\tconst laterTodayTime = (currentDateTime.hour() < 17)\n\t\t\t\t? moment().hour(18)\n\t\t\t\t: null\n\n\t\t\t// Tomorrow 08:00 AM\n\t\t\tconst tomorrowTime = moment().add(1, 'days').hour(8)\n\n\t\t\t// Saturday 08:00 AM (hidden if Friday, Saturday or Sunday now)\n\t\t\tconst thisWeekendTime = (currentDateTime.day() > 0 && currentDateTime.day() < 5)\n\t\t\t\t? moment().day(6).hour(8)\n\t\t\t\t: null\n\n\t\t\t// Next Monday 08:00 AM (hidden if Sunday now)\n\t\t\tconst nextWeekTime = (currentDateTime.day() !== 0)\n\t\t\t\t? moment().add(1, 'weeks').day(1).hour(8)\n\t\t\t\t: null\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tkey: 'laterToday',\n\t\t\t\t\ttimestamp: this.getTimestamp(laterTodayTime),\n\t\t\t\t\tlabel: t('spreed', 'Later today  {timeLocale}', { timeLocale: laterTodayTime?.format('LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for later today'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'tomorrow',\n\t\t\t\t\ttimestamp: this.getTimestamp(tomorrowTime),\n\t\t\t\t\tlabel: t('spreed', 'Tomorrow  {timeLocale}', { timeLocale: tomorrowTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for tomorrow'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'thisWeekend',\n\t\t\t\t\ttimestamp: this.getTimestamp(thisWeekendTime),\n\t\t\t\t\tlabel: t('spreed', 'This weekend  {timeLocale}', { timeLocale: thisWeekendTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for this weekend'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'nextWeek',\n\t\t\t\t\ttimestamp: this.getTimestamp(nextWeekTime),\n\t\t\t\t\tlabel: t('spreed', 'Next week  {timeLocale}', { timeLocale: nextWeekTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for next week'),\n\t\t\t\t},\n\t\t\t].filter(option => option.timestamp !== null)\n\t\t},\n\t},\n\tmethods: {\n\t\tsetSelected(value) {\n\t\t\tif (this.selected !== value) {\n\t\t\t\tthis.$emit('update:selected', value)\n\t\t\t}\n\t\t},\n\t\tformatted() {\n\t\t\treturn shortRelativeDatetime(new Date(this.data.dateInt * 1000))\n\t\t},\n\t\tunselect() {\n\t\t\tif (this.selected) {\n\t\t\t\tthis.$emit('update:selected', false)\n\t\t\t}\n\t\t},\n\t\ttoggleSelected() {\n\t\t\tthis.$emit('update:selected', !this.selected)\n\t\t},\n\t\tasync onClick(event) {\n\t\t\tif (this.draft && !event.defaultPrevented) {\n\t\t\t\tawait this.$store.dispatch('startComposerSession', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t...this.data,\n\t\t\t\t\t\tdraftId: this.data.databaseId,\n\t\t\t\t\t},\n\t\t\t\t\ttemplateMessageId: this.data.databaseId,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonSelectMultiple() {\n\t\t\tthis.$emit('select-multiple')\n\t\t},\n\t\tonToggleImportant() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeImportant', this.data)\n\t\t},\n\t\tonToggleFlagged() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeFlagged', this.data)\n\t\t},\n\t\tonToggleSeen() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeSeen', { envelope: this.data })\n\t\t},\n\t\tasync onToggleJunk() {\n\t\t\tconst removeEnvelope = await this.$store.dispatch('moveEnvelopeToJunk', this.data)\n\n\t\t\t/**\n\t\t\t * moveEnvelopeToJunk returns true if the envelope should be moved to a different mailbox.\n\t\t\t *\n\t\t\t * Our backend (MessageMapper.move) implemented move as copy and delete.\n\t\t\t * The message is copied to another mailbox and gets a new UID; the message in the current folder is deleted.\n\t\t\t *\n\t\t\t * Trigger the delete event here to open the next envelope and remove the current envelope from the list.\n\t\t\t * The delete event bubbles up to Mailbox.onDelete to the actual implementation.\n\t\t\t *\n\t\t\t * In Mailbox.onDelete, fetchNextEnvelopes requires the current envelope to find the next envelope.\n\t\t\t * Therefore, it must run before removing the envelope.\n\t\t\t */\n\n\t\t\tif (removeEnvelope) {\n\t\t\t\tawait this.$emit('delete', this.data.databaseId)\n\t\t\t}\n\n\t\t\tawait this.$store.dispatch('toggleEnvelopeJunk', {\n\t\t\t\tenvelope: this.data,\n\t\t\t\tremoveEnvelope,\n\t\t\t})\n\t\t},\n\t\tasync onDelete() {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\t\t\t// Delete\n\t\t\tthis.$emit('delete', this.data.databaseId)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('deleteThread', {\n\t\t\t\t\tenvelope: this.data,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\treturn t('mail', 'No trash mailbox configured')\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tshowMoreActionOptions() {\n\t\t\tthis.snoozeOptions = false\n\t\t\tthis.moreActionsOpen = true\n\t\t},\n\t\tshowSnoozeOptions() {\n\t\t\tthis.snoozeOptions = true\n\t\t\tthis.moreActionsOpen = false\n\t\t},\n\t\tcloseMoreAndSnoozeOptions() {\n\t\t\tthis.snoozeOptions = false\n\t\t\tthis.moreActionsOpen = false\n\t\t},\n\t\tasync onArchive() {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\t\t\t// Archive\n\t\t\tthis.$emit('archive', this.data.databaseId)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('moveThread', {\n\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not archive message', error)\n\t\t\t\tshowError(t('mail', 'Could not archive message'))\n\t\t\t}\n\t\t},\n\t\tasync onSnooze(timestamp) {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\n\t\t\tif (!this.account.snoozeMailboxId) {\n\t\t\t\tawait this.$store.dispatch('createAndSetSnoozeMailbox', this.account)\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('snoozeThread', {\n\t\t\t\t\tenvelope: this.data,\n\t\t\t\t\tunixTimestamp: timestamp / 1000,\n\t\t\t\t\tdestMailboxId: this.account.snoozeMailboxId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Thread was snoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not snooze thread', error)\n\t\t\t\tshowError(t('mail', 'Could not snooze thread'))\n\t\t\t}\n\t\t},\n\t\tasync onUnSnooze() {\n\t\t\t// Remove from selection first\n\t\t\tthis.setSelected(false)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('unSnoozeThread', {\n\t\t\t\t\tenvelope: this.data,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Thread was unsnoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not unsnooze thread', error)\n\t\t\t\tshowError(t('mail', 'Could not unsnooze thread'))\n\t\t\t}\n\t\t},\n\t\tasync onOpenEditAsNew() {\n\t\t\tawait this.$store.dispatch('startComposerSession', {\n\t\t\t\ttemplateMessageId: this.data.databaseId,\n\t\t\t\tdata: this.data,\n\t\t\t})\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonOpenEventModal() {\n\t\t\tthis.showEventModal = true\n\t\t},\n\t\tonMove() {\n\t\t\tthis.$emit('move')\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonOpenTagModal() {\n\t\t\tthis.showTagModal = true\n\t\t},\n\t\tonCloseTagModal() {\n\t\t\tthis.showTagModal = false\n\t\t},\n\t\tgetTimestamp(momentObject) {\n\t\t\treturn momentObject?.minute(0).second(0).millisecond(0).valueOf() || null\n\t\t},\n\t\tsetCustomSnoozeDateTime(event) {\n\t\t\tthis.customSnoozeDateTime = new Date(event.target.value)\n\t\t},\n\t\tsetCustomSnooze() {\n\t\t\tthis.onSnooze(this.customSnoozeDateTime.valueOf())\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mail-message-account-color {\n\tposition: absolute;\n\tleft: 0px;\n\twidth: 2px;\n\theight: 69px;\n\tz-index: 1;\n}\n\n.envelope {\n\t.app-content-list-item-icon {\n\t\theight: 40px; // To prevent some unexpected spacing below the avatar\n\t}\n\n\t&__subtitle {\n\t\tdisplay: flex;\n\t\tgap: 4px;\n\n\t\t&__subject {\n\t\t\tcolor: var(--color-main-text);\n\t\t\tline-height: 130%;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n\t&__preview-text {\n\t\tcolor: var(--color-text-maxcontrast);\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tfont-weight: initial;\n\t}\n}\n\n.icon-important {\n\t:deep(path) {\n\tfill: #ffcc00;\n\tstroke: var(--color-main-background);\n\t}\n\t.list-item:hover &,\n\t.list-item:focus &,\n\t.list-item.active & {\n\t:deep(path) {\n\tstroke: var(--color-background-dark);\n\t}\n\t}\n\n\t// In message list, but not the one in the action menu\n\t&.app-content-list-item-star {\n\tbackground-image: none;\n\tleft: 7px;\n\ttop: 13px;\n\topacity: 1;\n\n\t&:hover,\n\t&:focus {\n\topacity: 0.5;\n\t}\n\t}\n}\n\n.app-content-list-item-select-checkbox {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tposition: absolute;\n\tleft: 33px;\n\ttop: 35px;\n\tz-index: 50; // same as icon-starred\n}\n\n.list-item-style:not(.seen) {\n\tfont-weight: bold;\n}\n.list-item-style.selected {\n\tbackground-color: var(--color-background-dark);\n}\n.list-item-style {\n\t.draft {\n\t\tline-height: 130%;\n\n\t\tem {\n\t\t\tfont-style: italic;\n\t\t}\n\t}\n}\n.junk-icon-style {\n\topacity: .2;\n\tdisplay: flex;\n\ttop: 42px;\n\tleft: 32px;\n\tbackground-size: 16px;\n\theight: 20px;\n\twidth: 20px;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tz-index: 2;\n\t&:hover {\n\t\topacity: .1;\n\t}\n}\n\n.icon-attachment {\n\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=25)';\n\topacity: 0.25;\n}\n\n:deep(.action--primary) {\n\t.material-design-icon {\n\t\tmargin-bottom: -14px;\n\t}\n}\n:deep(.list-item__extra) {\n\tmargin-left: 41px !important;\n}\n.tag-group__label {\n\tmargin: 0 7px;\n\tz-index: 2;\n\tfont-size: calc(var(--default-font-size) * 0.8);\n\tfont-weight: bold;\n\tpadding-left: 2px;\n\tpadding-right: 2px;\n}\n.tag-group__bg {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\topacity: 15%;\n}\n.tag-group {\n\tdisplay: inline-block;\n\tborder: 1px solid transparent;\n\tborder-radius: var(--border-radius-pill);\n\tposition: relative;\n\tmargin: 0 1px;\n\toverflow: hidden;\n\tleft: 4px;\n}\n.list-item__wrapper:deep() {\n\tlist-style: none;\n}\n.app-content-list-item-star.favorite-icon-style {\n\tdisplay: block;\n}\n.icon-important.app-content-list-item-star:deep() {\n\tposition: absolute;\n\ttop: 14px;\n\tz-index: 1;\n}\n.app-content-list-item-star.favorite-icon-style {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tmargin-bottom: 21px;\n\tmargin-left: 28px;\n\tcursor: pointer;\n\tstroke: var(--color-main-background);\n\tstroke-width: 2;\n\tz-index: 1;\n\t&:hover {\n\t\topacity: .4;\n\t}\n}\n:deep(.svg svg) {\n\theight: 16px;\n\twidth: 16px;\n}\n.seen-icon-style {\n\topacity: .6;\n}\n.attachment-icon-style {\n\topacity: .6;\n}\n:deep(.list-item-content__wrapper) {\n\tmargin-top: 6px;\n}\n:deep(.list-item__extra) {\n\tmargin-top: 9px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=style&index=0&id=fc40dd88&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Envelope.vue?vue&type=style&index=0&id=fc40dd88&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Envelope.vue?vue&type=template&id=fc40dd88&scoped=true\"\nimport script from \"./Envelope.vue?vue&type=script&lang=js\"\nexport * from \"./Envelope.vue?vue&type=script&lang=js\"\nimport style0 from \"./Envelope.vue?vue&type=style&index=0&id=fc40dd88&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc40dd88\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ListItem',{directives:[{name:\"draggable-envelope\",rawName:\"v-draggable-envelope\",value:({\n\t\taccountId: _vm.data.accountId ? _vm.data.accountId : _vm.mailbox.accountId,\n\t\tmailboxId: _vm.data.mailboxId,\n\t\tenvelopeId: _vm.data.databaseId,\n\t\tdraggableLabel: _vm.draggableLabel,\n\t\tselectedEnvelopes: _vm.selectedEnvelopes,\n\t\tisDraggable: _vm.isDraggable,\n\t}),expression:\"{\\n\\t\\taccountId: data.accountId ? data.accountId : mailbox.accountId,\\n\\t\\tmailboxId: data.mailboxId,\\n\\t\\tenvelopeId: data.databaseId,\\n\\t\\tdraggableLabel,\\n\\t\\tselectedEnvelopes,\\n\\t\\tisDraggable,\\n\\t}\"}],staticClass:\"list-item-style envelope\",class:{seen: _vm.data.flags.seen, draft: _vm.draft, selected: _vm.selected},attrs:{\"to\":_vm.link,\"exact\":true,\"data-envelope-id\":_vm.data.databaseId,\"title\":_vm.addresses,\"details\":_vm.formatted()},on:{\"click\":[_vm.onClick,function($event){if(!$event.ctrlKey)return null;$event.preventDefault();return _vm.toggleSelected.apply(null, arguments)}],\"update:menuOpen\":_vm.closeMoreAndSnoozeOptions},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.data.flags.flagged)?_c('Star',{staticClass:\"app-content-list-item-star favorite-icon-style\",attrs:{\"fill-color\":\"#f9cf3d\",\"size\":18,\"data-starred\":_vm.data.flags.flagged ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleFlagged() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.isImportant)?_c('div',{staticClass:\"app-content-list-item-star svg icon-important\",attrs:{\"data-starred\":_vm.isImportant ? 'true' : 'false'},domProps:{\"innerHTML\":_vm._s(_vm.importantSvg)},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleImportant() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.data.flags.$junk)?_c('JunkIcon',{staticClass:\"app-content-list-item-star junk-icon-style\",attrs:{\"size\":18,\"data-starred\":_vm.data.flags.$junk ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleJunk() : false}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"app-content-list-item-icon\"},[_c('Avatar',{attrs:{\"display-name\":_vm.addresses,\"email\":_vm.avatarEmail}}),_vm._v(\" \"),(_vm.selectMode)?_c('p',{staticClass:\"app-content-list-item-select-checkbox\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":`select-checkbox-${_vm.data.uid}`,\"type\":\"checkbox\"},domProps:{\"checked\":_vm.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":`select-checkbox-${_vm.data.uid}`},on:{\"click\":[function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.preventDefault();return _vm.toggleSelected.apply(null, arguments)},function($event){if(!$event.shiftKey)return null;$event.preventDefault();return _vm.onSelectMultiple.apply(null, arguments)}]}})]):_vm._e()],1)]},proxy:true},{key:\"subtitle\",fn:function(){return [_c('div',{staticClass:\"envelope__subtitle\"},[(_vm.data.flags.answered)?_c('Reply',{staticClass:\"seen-icon-style\",attrs:{\"size\":18}}):_vm._e(),_vm._v(\" \"),(_vm.data.flags.hasAttachments === true)?_c('IconAttachment',{staticClass:\"attachment-icon-style\",attrs:{\"size\":18}}):(_vm.draft)?_c('span',{staticClass:\"draft\"},[_c('em',[_vm._v(_vm._s(_vm.t('mail', 'Draft: ')))])]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"envelope__subtitle__subject\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.subjectForSubtitle)+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.data.encrypted || _vm.data.previewText)?_c('div',{staticClass:\"envelope__preview-text\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.isEncrypted ? _vm.t('mail', 'Encrypted message') : _vm.data.previewText)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true},{key:\"indicator\",fn:function(){return [(!_vm.data.flags.seen)?_c('IconBullet',{attrs:{\"size\":16,\"aria-hidden\":false,\"aria-label\":_vm.t('mail', 'This message is unread'),\"fill-color\":\"var(--color-primary-element)\"}}):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [(!_vm.moreActionsOpen && !_vm.snoozeOptions)?_c('EnvelopePrimaryActions',[(_vm.hasWriteAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleFlagged.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showFavoriteIconVariant)?_c('StarOutline',{attrs:{\"size\":24}}):_c('Star',{attrs:{\"size\":24}})]},proxy:true}],null,false,2798023345)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.data.flags.flagged ? _vm.t('mail', 'Unfavorite') : _vm.t('mail', 'Favorite'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasSeenAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleSeen.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showImportantIconVariant)?_c('EmailUnread',{attrs:{\"size\":24}}):_c('EmailRead',{attrs:{\"size\":24}})]},proxy:true}],null,false,3941285336)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.data.flags.seen ? _vm.t('mail', 'Unread') : _vm.t('mail', 'Read'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleImportant.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImportantIcon',{attrs:{\"size\":24}})]},proxy:true}],null,false,2028812097)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.isImportant ? _vm.t('mail', 'Unimportant') : _vm.t('mail', 'Important'))+\"\\n\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(!_vm.moreActionsOpen && !_vm.snoozeOptions)?[_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ClockOutlineIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3746947659)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.messageLongDate)+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionSeparator'),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4042396370)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.data.flags.$junk ? _vm.t('mail', 'Mark not spam') : _vm.t('mail', 'Mark as spam'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSelected.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.selected ? _vm.t('mail', 'Unselect') : _vm.t('mail', 'Select'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenTagModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TagIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3295128625)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit tags'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && !_vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":_vm.showSnoozeOptions},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Snooze'),\"size\":20}})]},proxy:true}],null,false,42024148)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Snooze'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && _vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onUnSnooze},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Unsnooze'),\"size\":20}})]},proxy:true}],null,false,2733502479)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unsnooze'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('OpenInNewIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1266168172)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move thread'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showArchiveButton && _vm.hasArchiveAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true,\"disabled\":_vm.disableArchiveButton},on:{\"click\":function($event){$event.preventDefault();return _vm.onArchive.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2152228161)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Archive thread'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1311746650)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete thread'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":_vm.showMoreActionOptions},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DotsHorizontalIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1700783217)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.snoozeOptions)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.snoozeOptions = false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_vm._l((_vm.reminderOptions),function(option){return _c('ActionButton',{key:option.key,attrs:{\"aria-label\":option.ariaLabel,\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onSnooze(option.timestamp)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(option.label)+\"\\n\\t\\t\\t\")])}),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_c('NcActionInput',{attrs:{\"type\":\"datetime-local\",\"is-native-picker\":\"\",\"value\":_vm.customSnoozeDateTime,\"min\":new Date()},on:{\"change\":_vm.setCustomSnoozeDateTime},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CalendarClock',{attrs:{\"size\":20}})]},proxy:true}],null,false,1325980530)}),_vm._v(\" \"),_c('ActionButton',{attrs:{\"aria-label\":_vm.t('spreed', 'Set custom snooze'),\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setCustomSnooze(_vm.customSnoozeDateTime)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('spreed', 'Set custom snooze'))+\"\\n\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.moreActionsOpen)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.moreActionsOpen=false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenEditAsNew.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2953566425)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit as new message'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();_vm.showEventModal = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconCreateEvent',{attrs:{\"size\":20}})]},proxy:true}],null,false,1015012555)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create event'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();_vm.showTaskModal = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TaskIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1424835118)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create task'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionLink',{attrs:{\"close-after-click\":true,\"href\":_vm.exportMessageLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DownloadIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2598526839)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download message'))+\"\\n\\t\\t\\t\")])]:_vm._e()]},proxy:true},{key:\"extra\",fn:function(){return [_vm._l((_vm.tags),function(tag){return _c('div',{key:tag.id,staticClass:\"tag-group\"},[_c('div',{staticClass:\"tag-group__bg\",style:({'background-color': tag.color})}),_vm._v(\" \"),_c('span',{staticClass:\"tag-group__label\",style:({color: tag.color})},[_vm._v(_vm._s(tag.displayName)+\" \")])])}),_vm._v(\" \"),(_vm.showMoveModal)?_c('MoveModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.data],\"move-thread\":true},on:{\"move\":_vm.onMove,\"close\":_vm.onCloseMoveModal}}):_vm._e(),_vm._v(\" \"),(_vm.showEventModal)?_c('EventModal',{attrs:{\"envelope\":_vm.data},on:{\"close\":function($event){_vm.showEventModal = false}}}):_vm._e(),_vm._v(\" \"),(_vm.showTaskModal)?_c('TaskModal',{attrs:{\"envelope\":_vm.data},on:{\"close\":function($event){_vm.showTaskModal = false}}}):_vm._e(),_vm._v(\" \"),(_vm.showTagModal)?_c('TagModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.data]},on:{\"close\":_vm.onCloseTagModal}}):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<transition name=\"multiselect-header\">\n\t\t\t<div v-if=\"selectMode\" key=\"multiselect-header\" class=\"multiselect-header\">\n\t\t\t\t<div class=\"button primary\" @click.prevent=\"markSelectedSeenOrUnseen\">\n\t\t\t\t\t<span id=\"action-label\">{{\n\t\t\t\t\t\tareAllSelectedRead\n\t\t\t\t\t\t\t? n(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Mark {number} unread',\n\t\t\t\t\t\t\t\t'Mark {number} unread',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: n(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Mark {number} read',\n\t\t\t\t\t\t\t\t'Mark {number} read',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}}</span>\n\t\t\t\t</div>\n\t\t\t\t<Actions class=\"app-content-list-item-menu\" menu-align=\"right\">\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\tv-if=\"isAtLeastOneSelectedUnimportant\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionImportant\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ImportantIcon\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tn(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Mark {number} as important',\n\t\t\t\t\t\t\t\t'Mark {number} as important',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\tv-if=\"isAtLeastOneSelectedImportant\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionUnimportant\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ImportantIcon\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tn(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Mark {number} as unimportant',\n\t\t\t\t\t\t\t\t'Mark {number} as unimportant',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"favoriteOrUnfavoriteAll\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconFavorite\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tareAllSelectedFavorite\n\t\t\t\t\t\t\t\t? n(\n\t\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t\t'Unfavorite {number}',\n\t\t\t\t\t\t\t\t\t'Unfavorite {number}',\n\t\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t: n(\n\t\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t\t'Favorite {number}',\n\t\t\t\t\t\t\t\t\t'Favorite {number}',\n\t\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\tv-if=\"isAtLeastOneSelectedNotJunk\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionJunk\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<AlertOctagonIcon\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tn(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Mark {number} as spam',\n\t\t\t\t\t\t\t\t'Mark {number} as spam',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\tv-if=\"isAtLeastOneSelectedJunk\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"markSelectionNotJunk\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<AlertOctagonIcon\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tn(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Mark {number} as not spam',\n\t\t\t\t\t\t\t\t'Mark {number} as not spam',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"unselectAll\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconSelect\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Unselect {number}',\n\t\t\t\t\t\t\t'Unselect {number}',\n\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"onOpenTagModal\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<TagIcon\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Edit tags for {number}',\n\t\t\t\t\t\t\t'Edit tags for {number}',\n\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\tv-if=\"!account.isUnified\"\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"onOpenMoveModal\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<OpenInNewIcon\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Move {number} thread',\n\t\t\t\t\t\t\t'Move {number} threads',\n\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"forwardSelectedAsAttachment\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ShareIcon\n\t\t\t\t\t\t\t\t:title=\"t('mail', 'Forward')\"\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ n(\n\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t'Forward {number} as attachment',\n\t\t\t\t\t\t\t'Forward {number} as attachment',\n\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnumber: selection.length,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t@click.prevent=\"deleteAllSelected\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<IconDelete\n\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tn(\n\t\t\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t\t\t'Delete {number} thread',\n\t\t\t\t\t\t\t\t'Delete {number} threads',\n\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnumber:\n\t\t\t\t\t\t\t\t\t\tselection.length,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t</Actions>\n\t\t\t\t<MoveModal\n\t\t\t\t\tv-if=\"showMoveModal\"\n\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t:envelopes=\"selectedEnvelopes\"\n\t\t\t\t\t:move-thread=\"true\"\n\t\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t\t</div>\n\t\t</transition>\n\t\t<transition-group name=\"list\">\n\t\t\t<Envelope\n\t\t\t\tv-for=\"(env, index) in sortedEnvelops\"\n\t\t\t\t:key=\"env.databaseId\"\n\t\t\t\t:data=\"env\"\n\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t:selected=\"selection.includes(env.databaseId)\"\n\t\t\t\t:select-mode=\"selectMode\"\n\t\t\t\t:has-multiple-accounts=\"hasMultipleAccounts\"\n\t\t\t\t:selected-envelopes=\"selectedEnvelopes\"\n\t\t\t\t@delete=\"$emit('delete', env.databaseId)\"\n\t\t\t\t@update:selected=\"onEnvelopeSelectToggle(env, index, $event)\"\n\t\t\t\t@select-multiple=\"onEnvelopeSelectMultiple(env, index)\" />\n\t\t\t<div\n\t\t\t\tv-if=\"loadMoreButton && !loadingMore\"\n\t\t\t\t:key=\"'list-collapse-' + searchQuery\"\n\t\t\t\tclass=\"load-more\"\n\t\t\t\t@click=\"$emit('load-more')\">\n\t\t\t\t<AddIcon :size=\"20\" />\n\t\t\t\t{{ t('mail', 'Load more') }}\n\t\t\t</div>\n\t\t\t<div id=\"load-more-mail-messages\" key=\"loadingMore\" :class=\"{'icon-loading-small': loadingMore}\" />\n\t\t</transition-group>\n\t\t<TagModal\n\t\t\tv-if=\"showTagModal\"\n\t\t\t:account=\"account\"\n\t\t\t:envelopes=\"selectedEnvelopes\"\n\t\t\t@close=\"onCloseTagModal\" />\n\t</div>\n</template>\n\n<script>\nimport { NcActions as Actions, NcActionButton as ActionButton } from '@nextcloud/vue'\nimport { showError } from '@nextcloud/dialogs'\nimport Envelope from './Envelope.vue'\nimport IconDelete from 'vue-material-design-icons/Delete'\nimport ImportantIcon from './icons/ImportantIcon.vue'\nimport IconSelect from 'vue-material-design-icons/CloseThick'\nimport AddIcon from 'vue-material-design-icons/Plus'\nimport IconFavorite from 'vue-material-design-icons/Star'\nimport logger from '../logger.js'\nimport MoveModal from './MoveModal.vue'\nimport { matchError } from '../errors/match.js'\nimport NoTrashMailboxConfiguredError\n\tfrom '../errors/NoTrashMailboxConfiguredError.js'\nimport { differenceWith } from 'ramda'\nimport dragEventBus from '../directives/drag-and-drop/util/dragEventBus.js'\nimport OpenInNewIcon from 'vue-material-design-icons/OpenInNew'\nimport ShareIcon from 'vue-material-design-icons/Share'\nimport AlertOctagonIcon from 'vue-material-design-icons/AlertOctagon'\nimport TagIcon from 'vue-material-design-icons/Tag'\nimport TagModal from './TagModal.vue'\n\nexport default {\n\tname: 'EnvelopeList',\n\tcomponents: {\n\t\tActions,\n\t\tAddIcon,\n\t\tActionButton,\n\t\tEnvelope,\n\t\tIconDelete,\n\t\tImportantIcon,\n\t\tIconFavorite,\n\t\tIconSelect,\n\t\tMoveModal,\n\t\tOpenInNewIcon,\n\t\tShareIcon,\n\t\tAlertOctagonIcon,\n\t\tTagIcon,\n\t\tTagModal,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tenvelopes: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tsearchQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\trefreshing: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t\tdefault: true,\n\t\t},\n\t\tloadingMore: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tloadMoreButton: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselection: [],\n\t\t\tshowMoveModal: false,\n\t\t\tshowTagModal: false,\n\t\t\tlastToggledIndex: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortOrder() {\n\t\t\treturn this.$store.getters.getPreference('sort-order', 'newest')\n\t\t},\n\n\t\tsortedEnvelops() {\n\t\t\tif (this.sortOrder === 'oldest') {\n\t\t\t\treturn [...this.envelopes].sort((a, b) => {\n\t\t\t\t\treturn a.dateInt < b.dateInt ? -1 : 1\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn [...this.envelopes]\n\t\t},\n\t\tselectMode() {\n\t\t\t// returns true when in selection mode (where the user selects several emails at once)\n\t\t\treturn this.selection.length > 0\n\t\t},\n\t\tareAllSelectedRead() {\n\t\t\t// returns false if at least one selected message has not been read yet\n\t\t\treturn this.selectedEnvelopes.every((env) => env.flags.seen === true)\n\t\t},\n\t\tisAtLeastOneSelectedImportant() {\n\t\t\t// returns true if at least one selected message is marked as important\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn this.$store.getters\n\t\t\t\t\t.getEnvelopeTags(env.databaseId)\n\t\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedUnimportant() {\n\t\t\t// returns true if at least one selected message is not marked as important\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn !this.$store.getters\n\t\t\t\t\t.getEnvelopeTags(env.databaseId)\n\t\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedJunk() {\n\t\t\t// returns true if at least one selected message is marked as junk\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn env.flags.$junk\n\t\t\t})\n\t\t},\n\t\tisAtLeastOneSelectedNotJunk() {\n\t\t\t// returns true if at least one selected message is not marked as not junk\n\t\t\treturn this.selectedEnvelopes.some((env) => {\n\t\t\t\treturn !env.flags.$junk\n\t\t\t})\n\t\t},\n\t\tareAllSelectedFavorite() {\n\t\t\t// returns false if at least one selected message has not been favorited yet\n\t\t\treturn this.selectedEnvelopes.every((env) => env.flags.flagged === true)\n\t\t},\n\t\tselectedEnvelopes() {\n\t\t\treturn this.sortedEnvelops.filter((env) => this.selection.includes(env.databaseId))\n\t\t},\n\t\thasMultipleAccounts() {\n\t\t\tconst mailboxIds = this.sortedEnvelops.map(envelope => envelope.mailboxId)\n\t\t\treturn Array.from(new Set(mailboxIds)).length > 1\n\t\t},\n\t},\n\twatch: {\n\t\tsortedEnvelops(newVal, oldVal) {\n\t\t\t// Unselect vanished envelopes\n\t\t\tconst newIds = newVal.map((env) => env.databaseId)\n\t\t\tthis.selection = this.selection.filter((id) => newIds.includes(id))\n\t\t\tdifferenceWith((a, b) => a.databaseId === b.databaseId, oldVal, newVal)\n\t\t\t\t.forEach((env) => {\n\t\t\t\t\tenv.flags.selected = false\n\t\t\t\t})\n\t\t},\n\t},\n\tmounted() {\n\t\tdragEventBus.$on('envelopes-dropped', this.unselectAll)\n\t},\n\tbeforeDestroy() {\n\t\tdragEventBus.$off('envelopes-dropped', this.unselectAll)\n\t},\n\tmethods: {\n\t\tisEnvelopeSelected(idx) {\n\t\t\tif (this.selection.length === 0) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn this.selection.includes(idx)\n\t\t},\n\t\tmarkSelectedSeenOrUnseen() {\n\t\t\tconst seen = !this.areAllSelectedRead\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('toggleEnvelopeSeen', {\n\t\t\t\t\tenvelope,\n\t\t\t\t\tseen,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tmarkSelectionImportant() {\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('markEnvelopeImportantOrUnimportant', {\n\t\t\t\t\tenvelope,\n\t\t\t\t\taddTag: true,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tmarkSelectionUnimportant() {\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('markEnvelopeImportantOrUnimportant', {\n\t\t\t\t\tenvelope,\n\t\t\t\t\taddTag: false,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tasync markSelectionJunk() {\n\t\t\tfor (const envelope of this.selectedEnvelopes) {\n\t\t\t\tif (!envelope.flags.$junk) {\n\t\t\t\t\tawait this.$store.dispatch('toggleEnvelopeJunk', {\n\t\t\t\t\t\tenvelope,\n\t\t\t\t\t\tremoveEnvelope: await this.$store.dispatch('moveEnvelopeToJunk', envelope),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tasync markSelectionNotJunk() {\n\t\t\tfor (const envelope of this.selectedEnvelopes) {\n\t\t\t\tif (envelope.flags.$junk) {\n\t\t\t\t\tawait this.$store.dispatch('toggleEnvelopeJunk', {\n\t\t\t\t\t\tenvelope,\n\t\t\t\t\t\tremoveEnvelope: await this.$store.dispatch('moveEnvelopeToJunk', envelope),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tfavoriteOrUnfavoriteAll() {\n\t\t\tconst favFlag = !this.areAllSelectedFavorite\n\t\t\tthis.selectedEnvelopes.forEach((envelope) => {\n\t\t\t\tthis.$store.dispatch('markEnvelopeFavoriteOrUnfavorite', {\n\t\t\t\t\tenvelope,\n\t\t\t\t\tfavFlag,\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tasync deleteAllSelected() {\n\t\t\tlet nextEnvelopeToNavigate\n\t\t\tlet isAllSelected\n\n\t\t\tif (this.selectedEnvelopes.length === this.sortedEnvelops.length) {\n\t\t\t\tisAllSelected = true\n\t\t\t} else {\n\t\t\t\tconst indexSelectedEnvelope = this.selectedEnvelopes.findIndex((selectedEnvelope) =>\n\t\t\t\t\tselectedEnvelope.databaseId === this.$route.params.threadId)\n\n\t\t\t\t// one of threads is selected\n\t\t\t\tif (indexSelectedEnvelope !== -1) {\n\t\t\t\t\tconst lastSelectedEnvelope = this.selectedEnvelopes[this.selectedEnvelopes.length - 1]\n\t\t\t\t\tconst diff = this.sortedEnvelops.filter(envelope => envelope === lastSelectedEnvelope || !this.selectedEnvelopes.includes(envelope))\n\t\t\t\t\tconst lastIndex = diff.indexOf(lastSelectedEnvelope)\n\t\t\t\t\tnextEnvelopeToNavigate = diff[lastIndex === 0 ? 1 : lastIndex - 1]\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait Promise.all(this.selectedEnvelopes.map(async (envelope) => {\n\t\t\t\tlogger.info(`deleting thread ${envelope.threadRootId}`)\n\t\t\t\tawait this.$store.dispatch('deleteThread', {\n\t\t\t\t\tenvelope,\n\t\t\t\t})\n\t\t\t})).catch(async error => {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\treturn t('mail', 'No trash mailbox configured')\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t})\n\t\t\tif (nextEnvelopeToNavigate) {\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: 'message',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tthreadId: nextEnvelopeToNavigate.databaseId,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\t// Get new messages\n\t\t\t\tawait this.$store.dispatch('fetchNextEnvelopes', {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t\tquantity: this.selectedEnvelopes.length,\n\t\t\t\t})\n\t\t\t} else if (isAllSelected) {\n\t\t\t\tawait this.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tsetEnvelopeSelected(envelope, selected) {\n\t\t\tconst alreadySelected = this.selection.includes(envelope.databaseId)\n\t\t\tif (selected && !alreadySelected) {\n\t\t\t\tenvelope.flags.selected = true\n\t\t\t\tthis.selection.push(envelope.databaseId)\n\t\t\t} else if (!selected && alreadySelected) {\n\t\t\t\tenvelope.flags.selected = false\n\t\t\t\tthis.selection.splice(this.selection.indexOf(envelope.databaseId), 1)\n\t\t\t}\n\t\t},\n\t\tonEnvelopeSelectToggle(envelope, index, selected) {\n\t\t\tthis.lastToggledIndex = index\n\t\t\tthis.setEnvelopeSelected(envelope, selected)\n\t\t},\n\t\tonEnvelopeSelectMultiple(envelope, index) {\n\t\t\tif (this.lastToggledIndex === undefined) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst start = Math.min(this.lastToggledIndex, index)\n\t\t\tconst end = Math.max(this.lastToggledIndex, index)\n\t\t\tconst selected = this.selection.includes(envelope.databaseId)\n\t\t\tfor (let i = start; i <= end; i++) {\n\t\t\t\tthis.setEnvelopeSelected(this.sortedEnvelops[i], !selected)\n\t\t\t}\n\t\t\tthis.lastToggledIndex = index\n\t\t},\n\t\tunselectAll() {\n\t\t\tthis.sortedEnvelops.forEach((env) => {\n\t\t\t\tenv.flags.selected = false\n\t\t\t})\n\t\t\tthis.selection = []\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonOpenTagModal() {\n\t\t\tthis.showTagModal = true\n\t\t},\n\t\tonCloseTagModal() {\n\t\t\tthis.showTagModal = false\n\t\t},\n\t\tasync forwardSelectedAsAttachment() {\n\t\t\tawait this.$store.dispatch('startComposerSession', {\n\t\t\t\tforwardedMessages: [...this.selection],\n\t\t\t})\n\t\t\tthis.unselectAll()\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t\tthis.unselectAll()\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\ndiv {\n\t// So we can align the loading spinner in the Priority inbox\n\tposition: relative;\n}\n\n.load-more {\n\ttext-align: center;\n\tmargin-top: 10px;\n\tcursor: pointer;\n\tcolor: var(--color-text-maxcontrast);\n\tdisplay: inline-flex;\n\tgap: 15px;\n}\n.plus-icon {\n\tmargin-left: 20px;\n}\n\n.multiselect-header {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: var(--color-main-background-translucent);\n\tposition: sticky;\n\ttop: 0px;\n\theight: 48px;\n\tz-index: 100;\n}\n\n#load-more-mail-messages {\n\tmargin: 10px auto;\n\tpadding: 10px;\n\tmargin-top: 50px;\n\tmargin-bottom: 50px;\n}\n\n/* TODO: put this in core icons.css as general rule for buttons with icons */\n#load-more-mail-messages {\n\tpadding-left: 32px;\n\tbackground-position: 9px center;\n}\n\n.multiselect-header-enter-active,\n.multiselect-header-leave-active,\n.list-enter-active,\n.list-leave-active {\n\ttransition: all var(--animation-slow);\n}\n\n.multiselect-header-enter,\n.multiselect-header-leave-to,\n.list-enter,\n.list-leave-to {\n\topacity: 0;\n\theight: 0px;\n\ttransform: scaleY(0);\n}\n\n#action-label {\n\tvertical-align: middle;\n}\n@media only screen and (min-width: 600px) {\n\t#action-label {\n\t\tdisplay: block;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=style&index=0&id=4b263002&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvelopeList.vue?vue&type=style&index=0&id=4b263002&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EnvelopeList.vue?vue&type=template&id=4b263002&scoped=true\"\nimport script from \"./EnvelopeList.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopeList.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvelopeList.vue?vue&type=style&index=0&id=4b263002&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b263002\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=script&lang=js\"","<template>\n\t<div>\n\t\t<div v-for=\"i in numberOfLines\" :key=\"i\" class=\"item-list__entry\">\n\t\t\t<div v-if=\"withAvatar\"\n\t\t\t\tclass=\"item-avatar\" />\n\t\t\t<div class=\"item__details\">\n\t\t\t\t<h3>&nbsp;</h3>\n\t\t\t\t<p class=\"message\">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</p>\n\t\t\t\t<p class=\"message-preview\">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'LoadingSkeleton',\n\tprops: {\n\t\tnumberOfLines: {\n\t\t\ttype: Number,\n\t\t\tdefault: 10,\n\t\t},\n\t\twithAvatar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n/* skeleton */\n.item-list__entry {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tpadding: 8px;\n\t.item-avatar {\n\t\tposition: relative;\n\t\ttop: 4px;\n\t\tborder-radius: 50px;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\tbackground-size: 400% 400%;\n\t\tanimation: gradient 3s ease-in infinite;\n\t}\n\t.item__details {\n\t\tpadding-left: 8px;\n\t\tmax-height: 70px;\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\th3,\n\t\t.message.message-preview {\n\t\t\twhite-space: nowrap;\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\t\th3 {\n\t\t\tfont-size: 100%;\n\t\t\tmargin: 0;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t\twidth: 40%;\n\t\t\theight: 15px;\n\t\t}\n\t\t.message-preview {\n\t\t\twidth: 100%;\n\t\t\theight: 15px;\n\t\t\tmargin-top: 5px;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t}\n\t\t.message {\n\t\t\twidth: 70%;\n\t\t\theight: 15px;\n\t\t\tmargin-top: 5px;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t}\n\t}\n\t@keyframes gradient {\n\t\t0% {\n\t\t\tbackground-position: 0% 50%;\n\t\t}\n\t\t50% {\n\t\t\tbackground-position: 100% 50%;\n\t\t}\n\t\t100% {\n\t\t\tbackground-position: 0% 50%;\n\t\t}\n\t}\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=style&index=0&id=03cfb5af&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSkeleton.vue?vue&type=style&index=0&id=03cfb5af&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LoadingSkeleton.vue?vue&type=template&id=03cfb5af&scoped=true\"\nimport script from \"./LoadingSkeleton.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingSkeleton.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoadingSkeleton.vue?vue&type=style&index=0&id=03cfb5af&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03cfb5af\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.numberOfLines),function(i){return _c('div',{key:i,staticClass:\"item-list__entry\"},[(_vm.withAvatar)?_c('div',{staticClass:\"item-avatar\"}):_vm._e(),_vm._v(\" \"),_vm._m(0,true)])}),0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item__details\"},[_c('h3',[_vm._v(\"\")]),_vm._v(\" \"),_c('p',{staticClass:\"message\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"message-preview\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\\t\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{staticClass:\"mail-error\",class:{ 'mail-error--auto-margin': _vm.autoMargin },attrs:{\"title\":_vm.error,\"description\":_vm.message},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertCircleIcon',{attrs:{\"size\":24}})]},proxy:true},(_vm.data && _vm.data.debug)?{key:\"action\",fn:function(){return [_c('NcButton',{attrs:{\"aria-label\":_vm.t('mail', 'Report this bug'),\"href\":_vm.reportUrl}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Report this bug'))+\"\\n\\t\\t\")])]},proxy:true}:null],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2023 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<NcEmptyContent\n\t\t:title=\"error\"\n\t\t:description=\"message\"\n\t\tclass=\"mail-error\"\n\t\t:class=\"{ 'mail-error--auto-margin': autoMargin }\">\n\t\t<template #icon>\n\t\t\t<AlertCircleIcon :size=\"24\" />\n\t\t</template>\n\t\t<template v-if=\"data && data.debug\" #action>\n\t\t\t<NcButton\n\t\t\t\t:aria-label=\"t('mail', 'Report this bug')\"\n\t\t\t\t:href=\"reportUrl\">\n\t\t\t\t{{ t('mail', 'Report this bug') }}\n\t\t\t</NcButton>\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport { getReportUrl } from '../util/CrashReport.js'\nimport NcEmptyContent from '@nextcloud/vue/dist/Components/NcEmptyContent'\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\nimport AlertCircleIcon from 'vue-material-design-icons/AlertCircle.vue'\n\nexport default {\n\tname: 'Error',\n\tcomponents: {\n\t\tNcEmptyContent,\n\t\tNcButton,\n\t\tAlertCircleIcon,\n\t},\n\tprops: {\n\t\terror: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tautoMargin: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\treportUrl() {\n\t\t\treturn getReportUrl(this.data)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mail-error {\n\t&--auto-margin {\n\t\tmargin: auto 0;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=script&lang=js\"","/*\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport IssueTemplateBuilder from 'nextcloud_issuetemplate_builder'\n\nconst flattenError = (error) => {\n\tlet text = ''\n\tif (error.type) {\n\t\ttext += error.type + ': '\n\t}\n\ttext += error.message\n\ttext += '\\n'\n\tif (error.trace) {\n\t\ttext += flattenTrace(error.trace)\n\t}\n\tif (error.stack) {\n\t\ttext += error.stack\n\t}\n\treturn text\n}\n\nconst flattenTrace = (trace) => {\n\treturn trace.reduce(function(acc, entry) {\n\t\tlet text = ''\n\t\tif (entry.class) {\n\t\t\ttext += '  at ' + entry.class + '::' + entry.function\n\t\t} else {\n\t\t\ttext += '  at ' + entry.function\n\t\t}\n\t\tif (entry.file) {\n\t\t\ttext += '\\n     ' + entry.file + ', line ' + entry.line\n\t\t}\n\t\treturn acc + text + '\\n'\n\t}, '')\n}\n\nexport const getReportUrl = (error) => {\n\tconsole.error(error)\n\tlet message = error.message || 'An unkown error occurred.'\n\tif (!message.endsWith('.')) {\n\t\tmessage += '.'\n\t}\n\tconst builder = new IssueTemplateBuilder()\n\tconst template = builder\n\t\t.addEmptyStepsToReproduce()\n\t\t.addExpectedActualBehaviour()\n\t\t.addLogs('Error', flattenError(error))\n\t\t.render()\n\n\treturn (\n\t\t'https://github.com/nextcloud/mail/issues/new'\n\t\t+ '?title='\n\t\t+ encodeURIComponent(message)\n\t\t+ '&body='\n\t\t+ encodeURIComponent(template)\n\t)\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=style&index=0&id=419362b8&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=style&index=0&id=419362b8&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Error.vue?vue&type=template&id=419362b8&scoped=true\"\nimport script from \"./Error.vue?vue&type=script&lang=js\"\nexport * from \"./Error.vue?vue&type=script&lang=js\"\nimport style0 from \"./Error.vue?vue&type=style&index=0&id=419362b8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"419362b8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<NcEmptyContent :title=\"t('mail', 'No messages')\">\n\t\t<template #icon>\n\t\t\t<IconMail :size=\"65\" />\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport IconMail from 'vue-material-design-icons/Email'\nimport NcEmptyContent from '@nextcloud/vue/dist/Components/NcEmptyContent'\nexport default {\n\tname: 'EmptyMailboxSection',\n\tcomponents: {\n\t\tIconMail,\n\t\tNcEmptyContent,\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailboxSection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyMailboxSection.vue?vue&type=script&lang=js\"","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=script&lang=js\"","<!--\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div>\n\t\t<Error v-if=\"error\"\n\t\t\t:error=\"t('mail', 'Could not open mailbox')\"\n\t\t\tmessage=\"\"\n\t\t\trole=\"alert\" />\n\t\t<LoadingSkeleton v-else-if=\"loadingEnvelopes\" :number-of-lines=\"20\" />\n\t\t<Loading\n\t\t\tv-else-if=\"loadingCacheInitialization\"\n\t\t\t:hint=\"t('mail', 'Loading messages ')\"\n\t\t\t:slow-hint=\"t('mail', 'Indexing your messages. This can take a bit longer for larger mailboxes.')\" />\n\t\t<EmptyMailboxSection v-else-if=\"isPriorityInbox && !hasMessages\" key=\"empty\" />\n\t\t<EmptyMailbox v-else-if=\"!hasMessages\" key=\"empty\" />\n\t\t<EnvelopeList\n\t\t\tv-else\n\t\t\t:account=\"account\"\n\t\t\t:mailbox=\"mailbox\"\n\t\t\t:search-query=\"searchQuery\"\n\t\t\t:envelopes=\"envelopesToShow\"\n\t\t\t:refreshing=\"refreshing\"\n\t\t\t:loading-more=\"loadingMore\"\n\t\t\t:load-more-button=\"showLoadMore\"\n\t\t\t@delete=\"onDelete\"\n\t\t\t@load-more=\"loadMore\" />\n\t</div>\n</template>\n\n<script>\nimport EmptyMailbox from './EmptyMailbox.vue'\nimport EnvelopeList from './EnvelopeList.vue'\nimport LoadingSkeleton from './LoadingSkeleton.vue'\nimport Error from './Error.vue'\nimport { findIndex, propEq } from 'ramda'\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile'\nimport Loading from './Loading.vue'\nimport logger from '../logger.js'\nimport MailboxLockedError from '../errors/MailboxLockedError.js'\nimport MailboxNotCachedError from '../errors/MailboxNotCachedError.js'\nimport { matchError } from '../errors/match.js'\nimport { wait } from '../util/wait.js'\nimport { mailboxHasRights } from '../util/acl.js'\nimport EmptyMailboxSection from './EmptyMailboxSection.vue'\nimport { showError, showWarning } from '@nextcloud/dialogs'\nimport NoTrashMailboxConfiguredError\n\tfrom '../errors/NoTrashMailboxConfiguredError.js'\n\nexport default {\n\tname: 'Mailbox',\n\tcomponents: {\n\t\tEmptyMailboxSection,\n\t\tEmptyMailbox,\n\t\tEnvelopeList,\n\t\tError,\n\t\tLoading,\n\t\tLoadingSkeleton,\n\t},\n\tmixins: [isMobile],\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tpaginate: {\n\t\t\ttype: String,\n\t\t\tdefault: 'scroll',\n\t\t},\n\t\tinitialPageSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20,\n\t\t},\n\t\tsearchQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tisPriorityInbox: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: false,\n\t\t\trefreshing: false,\n\t\t\tloadingMore: false,\n\t\t\tloadingEnvelopes: true,\n\t\t\tloadingCacheInitialization: false,\n\t\t\tloadMailboxInterval: undefined,\n\t\t\texpanded: false,\n\t\t\tendReached: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortOrder() {\n\t\t\treturn this.$store.getters.getPreference('sort-order', 'DESC')\n\t\t},\n\t\tenvelopes() {\n\t\t\treturn this.$store.getters.getEnvelopes(this.mailbox.databaseId, this.searchQuery)\n\t\t},\n\t\tenvelopesToShow() {\n\t\t\tif (this.paginate === 'manual' && !this.expanded) {\n\t\t\t\treturn this.envelopes.slice(0, this.initialPageSize)\n\t\t\t}\n\t\t\treturn this.envelopes\n\t\t},\n\t\thasMessages() {\n\t\t\treturn this.envelopes.length > 0\n\t\t},\n\t\tshowLoadMore() {\n\t\t\treturn !this.endReached && this.paginate === 'manual'\n\t\t},\n\t},\n\twatch: {\n\t\tmailbox() {\n\t\t\tthis.loadEnvelopes()\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug(`syncing mailbox ${this.mailbox.databaseId} (${this.query}) after mailbox change`)\n\t\t\t\t\tthis.sync(false)\n\t\t\t\t})\n\t\t},\n\t\tsearchQuery() {\n\t\t\tthis.loadEnvelopes()\n\t\t},\n\t\tsortOrder() {\n\t\t\tthis.loadEnvelopes()\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.bus.$on('load-more', this.onScroll)\n\t\tthis.bus.$on('delete', this.onDelete)\n\t\tthis.bus.$on('archive', this.onArchive)\n\t\tthis.bus.$on('shortcut', this.handleShortcut)\n\t\tthis.loadMailboxInterval = setInterval(this.loadMailbox, 60000)\n\t},\n\tasync mounted() {\n\t\tthis.loadEnvelopes()\n\t\t\t.then(() => {\n\t\t\t\tlogger.debug(`syncing mailbox ${this.mailbox.databaseId} (${this.searchQuery}) after mount`)\n\t\t\t\tthis.sync(false)\n\t\t\t})\n\t},\n\tdestroyed() {\n\t\tthis.bus.$off('load-more', this.onScroll)\n\t\tthis.bus.$off('delete', this.onDelete)\n\t\tthis.bus.$off('archive', this.onArchive)\n\t\tthis.bus.$off('shortcut', this.handleShortcut)\n\t\tthis.stopInterval()\n\t},\n\tmethods: {\n\t\tinitializeCache() {\n\t\t\tthis.loadingCacheInitialization = true\n\t\t\tthis.error = false\n\n\t\t\tlogger.debug(`syncing mailbox ${this.mailbox.databaseId} (${this.query}) during cache initalization`)\n\t\t\tthis.sync(true)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingCacheInitialization = false\n\n\t\t\t\t\treturn this.loadEnvelopes()\n\t\t\t\t})\n\t\t},\n\t\tasync loadEnvelopes() {\n\t\t\tlogger.debug(`Fetching envelopes for mailbox ${this.mailbox.databaseId} (${this.searchQuery})`, this.mailbox)\n\t\t\tthis.loadingEnvelopes = true\n\t\t\tthis.loadingCacheInitialization = false\n\t\t\tthis.error = false\n\n\t\t\ttry {\n\t\t\t\tconst envelopes = await this.$store.dispatch('fetchEnvelopes', {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t\tlimit: this.initialPageSize,\n\t\t\t\t})\n\n\t\t\t\tlogger.debug(envelopes.length + ' envelopes fetched', { envelopes })\n\n\t\t\t\tthis.loadingEnvelopes = false\n\t\t\t} catch (error) {\n\t\t\t\tawait matchError(error, {\n\t\t\t\t\t[MailboxLockedError.getName()]: async (error) => {\n\t\t\t\t\t\tlogger.info(`Mailbox ${this.mailbox.databaseId} (${this.searchQuery}) is locked`, { error })\n\t\t\t\t\t\tawait wait(15 * 1000)\n\t\t\t\t\t\t// Keep trying\n\t\t\t\t\t\tawait this.loadEnvelopes()\n\t\t\t\t\t},\n\t\t\t\t\t[MailboxNotCachedError.getName()]: async (error) => {\n\t\t\t\t\t\tlogger.info(`Mailbox ${this.mailbox.databaseId} (${this.searchQuery}) not cached. Triggering initialization`, { error })\n\t\t\t\t\t\tthis.loadingEnvelopes = false\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.initializeCache()\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tlogger.error(`Could not initialize cache of mailbox ${this.mailbox.databaseId} (${this.searchQuery})`, { error })\n\t\t\t\t\t\t\tthis.error = error\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdefault: (error) => {\n\t\t\t\t\t\tlogger.error(`Could not fetch envelopes of mailbox ${this.mailbox.databaseId} (${this.searchQuery})`, { error })\n\t\t\t\t\t\tthis.loadingEnvelopes = false\n\t\t\t\t\t\tthis.error = error\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync loadMore() {\n\t\t\tif (!this.expanded) {\n\t\t\t\tlogger.debug('expanding envelope list')\n\t\t\t\tthis.expanded = true\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlogger.debug('fetching next envelope page')\n\t\t\tthis.loadingMore = true\n\n\t\t\ttry {\n\t\t\t\tconst envelopes = await this.$store.dispatch('fetchNextEnvelopePage', {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t})\n\t\t\t\tif (envelopes.length === 0) {\n\t\t\t\t\tlogger.info('envelope list end reached')\n\t\t\t\t\tthis.endReached = true\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not fetch next envelope page', { error })\n\t\t\t} finally {\n\t\t\t\tthis.loadingMore = false\n\t\t\t}\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'x')\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasArchiveAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\tasync handleShortcut(e) {\n\t\t\tconst envelopes = this.envelopes\n\t\t\tconst currentId = parseInt(this.$route.params.threadId, 10)\n\n\t\t\tconst env = envelopes.find((e) => e.databaseId === currentId)\n\t\t\tconst idx = envelopes.indexOf(env)\n\t\t\tlet next\n\n\t\t\tif (e.srcKey !== 'refresh' && !env) {\n\t\t\t\tlogger.debug('envelope is not in the list, ignoring shortcut', {\n\t\t\t\t\tsrcKey: e.srcKey,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tswitch (e.srcKey) {\n\t\t\tcase 'next':\n\t\t\tcase 'prev':\n\t\t\t\tif (e.srcKey === 'next') {\n\t\t\t\t\tnext = envelopes[idx + 1]\n\t\t\t\t} else {\n\t\t\t\t\tnext = envelopes[idx - 1]\n\t\t\t\t}\n\n\t\t\t\tif (!next) {\n\t\t\t\t\tlogger.debug('ignoring shortcut: head or tail of envelope list reached', {\n\t\t\t\t\t\tenvelopes,\n\t\t\t\t\t\tidx,\n\t\t\t\t\t\tsrcKey: e.srcKey,\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Keep the selected account-mailbox combination, but navigate to a different message\n\t\t\t\t// (it's not a bug that we don't use next.accountId and next.mailboxId here)\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'message',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params.filter ? this.$route.params.filter : undefined,\n\t\t\t\t\t\tthreadId: next.databaseId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tcase 'del':\n\t\t\t\tif (!this.hasDeleteAcl()) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlogger.debug('deleting', { env })\n\t\t\t\tthis.onDelete(env.databaseId)\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('deleteThread', {\n\t\t\t\t\t\tenvelope: env,\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not delete envelope', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\n\t\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\t\treturn t('mail', 'No trash mailbox configured')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault() {\n\t\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t\t},\n\t\t\t\t\t}))\n\t\t\t\t}\n\n\t\t\t\tbreak\n\t\t\tcase 'arch':\n\t\t\t\tlogger.debug('archiving via shortcut')\n\n\t\t\t\tif (this.account.archiveMailboxId === null) {\n\t\t\t\t\tshowWarning(t('mail', 'To archive a message please configure an archive mailbox in account settings'))\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (!this.hasArchiveAcl()) {\n\t\t\t\t\tshowWarning(t('mail', 'You are not allowed to move this message to the archive folder and/or delete this message from the current folder'))\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (env.mailboxId === this.account.archiveMailboxId) {\n\t\t\t\t\tlogger.debug('message is already in archive mailbox')\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tlogger.debug('archiving', { env })\n\t\t\t\tthis.onDelete(env.databaseId)\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('moveThread', {\n\t\t\t\t\t\tenvelope: env,\n\t\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not archive envelope', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\n\t\t\t\t\tshowError(t('mail', 'Could not archive message'))\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'flag':\n\t\t\t\tlogger.debug('flagging envelope via shortkey', { env })\n\t\t\t\tthis.$store.dispatch('toggleEnvelopeFlagged', env).catch((error) =>\n\t\t\t\t\tlogger.error('could not flag envelope via shortkey', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\tbreak\n\t\t\tcase 'refresh':\n\t\t\t\tlogger.debug(`syncing mailbox ${this.mailbox.databaseId} (${this.searchQuery}) per shortcut`)\n\t\t\t\tthis.sync(false)\n\n\t\t\t\tbreak\n\t\t\tcase 'unseen':\n\t\t\t\tif (this.hasSeenAcl()) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlogger.debug('marking message as seen/unseen via shortkey', { env })\n\t\t\t\tthis.$store.dispatch('toggleEnvelopeSeen', { envelope: env }).catch((error) =>\n\t\t\t\t\tlogger.error('could not mark envelope as seen/unseen via shortkey', {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t)\n\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tlogger.warn('shortcut ' + e.srcKey + ' is unknown. ignoring.')\n\t\t\t}\n\t\t},\n\t\tasync sync(init = false) {\n\t\t\tif (this.refreshing) {\n\t\t\t\tlogger.debug(`already sync'ing mailbox ${this.mailbox.databaseId} (${this.searchQuery}), aborting`, { init })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.refreshing = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('syncEnvelopes', {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tquery: this.searchQuery,\n\t\t\t\t\tinit,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tmatchError(error, {\n\t\t\t\t\t[MailboxLockedError.getName()](error) {\n\t\t\t\t\t\tlogger.info('Background sync failed because the mailbox is locked', { error, init })\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('Could not sync envelopes: ' + error.message, { error, init })\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.refreshing = false\n\t\t\t\tlogger.debug(`finished sync'ing mailbox ${this.mailbox.databaseId} (${this.searchQuery})`, { init })\n\t\t\t}\n\t\t},\n\t\t// onDelete(id): Load more message and navigate to other message if needed\n\t\t// id: The id of the message being delete\n\t\tonDelete(id) {\n\t\t\t// Get a new message\n\t\t\tthis.$store.dispatch('fetchNextEnvelopes', {\n\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\tquery: this.searchQuery,\n\t\t\t\tquantity: 1,\n\t\t\t})\n\t\t\tconst idx = findIndex(propEq(id, 'databaseId'), this.envelopes)\n\t\t\tif (idx === -1) {\n\t\t\t\tlogger.debug('envelope to delete does not exist in envelope list')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (id !== this.$route.params.threadId) {\n\t\t\t\tlogger.debug('other message open, not jumping to the next/previous message')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst next = this.envelopes[idx === 0 ? 1 : idx - 1]\n\t\t\tif (!next) {\n\t\t\t\tlogger.debug('no next/previous envelope, not navigating')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Keep the selected mailbox, but navigate to a different message\n\t\t\t// (it's not a bug that we don't use next.mailboxId here)\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tfilter: this.$route.params.filter ? this.$route.params.filter : undefined,\n\t\t\t\t\tthreadId: next.databaseId,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tonScroll() {\n\t\t\tif (this.paginate !== 'scroll') {\n\t\t\t\tlogger.debug('ignoring scroll pagination')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.loadMore()\n\t\t},\n\t\tasync loadMailbox() {\n\t\t\t// When the account is unified or inbox, return nothing, else sync the mailbox\n\t\t\tif (this.account.isUnified || this.mailbox.specialRole === 'inbox') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlogger.debug(`syncing mailbox ${this.mailbox.databaseId} (${this.searchQuery}) in background`)\n\t\t\t\tawait this.sync(false)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Background sync failed: ' + error.message, { error })\n\t\t\t}\n\t\t},\n\t\tstopInterval() {\n\t\t\tclearInterval(this.loadMailboxInterval)\n\t\t\tthis.loadMailboxInterval = undefined\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// Fix vertical space between sections in priority inbox\n.nameimportant {\n\t:deep(#load-more-mail-messages) {\n\t\tmargin-top: 0;\n\t\tmargin-bottom: 8px;\n\t}\n}\n</style>\n","import { render, staticRenderFns } from \"./EmptyMailboxSection.vue?vue&type=template&id=283c45d4\"\nimport script from \"./EmptyMailboxSection.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyMailboxSection.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{attrs:{\"title\":_vm.t('mail', 'No messages')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail',{attrs:{\"size\":65}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=style&index=0&id=3e122cfa&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mailbox.vue?vue&type=style&index=0&id=3e122cfa&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Mailbox.vue?vue&type=template&id=3e122cfa&scoped=true\"\nimport script from \"./Mailbox.vue?vue&type=script&lang=js\"\nexport * from \"./Mailbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./Mailbox.vue?vue&type=style&index=0&id=3e122cfa&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e122cfa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.error)?_c('Error',{attrs:{\"error\":_vm.t('mail', 'Could not open mailbox'),\"message\":\"\",\"role\":\"alert\"}}):(_vm.loadingEnvelopes)?_c('LoadingSkeleton',{attrs:{\"number-of-lines\":20}}):(_vm.loadingCacheInitialization)?_c('Loading',{attrs:{\"hint\":_vm.t('mail', 'Loading messages '),\"slow-hint\":_vm.t('mail', 'Indexing your messages. This can take a bit longer for larger mailboxes.')}}):(_vm.isPriorityInbox && !_vm.hasMessages)?_c('EmptyMailboxSection',{key:\"empty\"}):(!_vm.hasMessages)?_c('EmptyMailbox',{key:\"empty\"}):_c('EnvelopeList',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox,\"search-query\":_vm.searchQuery,\"envelopes\":_vm.envelopesToShow,\"refreshing\":_vm.refreshing,\"loading-more\":_vm.loadingMore,\"load-more-button\":_vm.showLoadMore},on:{\"delete\":_vm.onDelete,\"load-more\":_vm.loadMore}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-messages\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"search-messages--input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Search in mailbox')},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing)return;_vm.query=$event.target.value}}}),_vm._v(\" \"),(_vm.filterChanged)?_c('NcButton',{staticClass:\"search-messages--close\",attrs:{\"aria-label\":_vm.t('mail', 'Close')},on:{\"click\":function($event){return _vm.resetFilter()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Close',{attrs:{\"size\":24}})]},proxy:true}],null,false,1411281818)}):_vm._e(),_vm._v(\" \"),(_vm.filterChanged)?_c('span',{staticClass:\"filter-changed\"}):_vm._e(),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{on:{\"click\":function($event){_vm.moreSearchActions = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Tune',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t(\"mail\", \"Search parameters\"))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.moreSearchActions)?_c('NcModal',{staticClass:\"search-modal\",attrs:{\"title\":_vm.t('mail', 'Search parameters')},on:{\"close\":_vm.closeSearchModal}},[_c('h2',{staticClass:\"modal-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Search in mailbox'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--content\"},[_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"subjectId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Subject'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInSubject),expression:\"searchInSubject\"}],staticClass:\"search-input\",attrs:{\"id\":\"subjectId\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Search subject')},domProps:{\"value\":(_vm.searchInSubject)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchInSubject=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"bodyId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail','Body'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInMessageBody),expression:\"searchInMessageBody\"}],staticClass:\"search-input\",attrs:{\"id\":\"bodyId\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Search body')},domProps:{\"value\":(_vm.searchInMessageBody)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchInMessageBody=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"fromId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t(\"mail\", \"Date\"))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container range\"},[_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcDatetimePicker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.t('mail', 'Pick a start date'),\"confirm\":\"\"},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcDatetimePicker',{attrs:{\"type\":\"date\",\"disabled\":_vm.startDate === null,\"placeholder\":_vm.t('mail', 'Pick an end date'),\"confirm\":\"\"},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"fromId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t(\"mail\", \"From\"))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcMultiselect',{attrs:{\"id\":\"fromId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInFrom,\"placeholder\":_vm.t('mail', 'Select senders'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true,\"max\":1},on:{\"tag\":function($event){return _vm.addTag($event,'from')},\"search-change\":function($event){return _vm.searchRecipients($event)}},model:{value:(_vm.searchInFrom),callback:function ($$v) {_vm.searchInFrom=$$v},expression:\"searchInFrom\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"toId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'To'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcMultiselect',{attrs:{\"id\":\"toId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInTo,\"placeholder\":_vm.t('mail', 'Select recipients'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true,\"max\":1},on:{\"tag\":function($event){return _vm.addTag($event,'to')},\"search-change\":function($event){return _vm.searchRecipients($event)}},model:{value:(_vm.searchInTo),callback:function ($$v) {_vm.searchInTo=$$v},expression:\"searchInTo\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"ccId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Cc'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcMultiselect',{attrs:{\"id\":\"ccId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInCc,\"placeholder\":_vm.t('mail', 'Select CC recipients'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true,\"max\":1},on:{\"tag\":function($event){return _vm.addTag($event,'cc')},\"search-change\":function($event){return _vm.searchRecipients($event)}},model:{value:(_vm.searchInCc),callback:function ($$v) {_vm.searchInCc=$$v},expression:\"searchInCc\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"bccId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Bcc'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[_c('NcMultiselect',{attrs:{\"id\":\"bccId\",\"label\":\"label\",\"track-by\":\"email\",\"options\":_vm.autocompleteRecipients,\"value\":_vm.searchInCc,\"placeholder\":_vm.t('mail', 'Select BCC recipients'),\"multiple\":true,\"taggable\":true,\"close-on-select\":true,\"show-no-options\":false,\"preserve-search\":true,\"max\":1},on:{\"tag\":function($event){return _vm.addTag($event,'bcc')},\"search-change\":function($event){return _vm.searchRecipients($event)}},model:{value:(_vm.searchInBcc),callback:function ($$v) {_vm.searchInBcc=$$v},expression:\"searchInBcc\"}})],1)]),_vm._v(\" \"),(_vm.tags.length > 0)?_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{attrs:{\"for\":\"tagsId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Tags'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container\"},[(_vm.tags.length > 0)?_c('NcMultiselect',{staticClass:\"multiselect-search-tags\",attrs:{\"id\":\"tagsId\",\"options\":_vm.tags,\"label\":\"displayName\",\"value\":_vm.selectedTags,\"placeholder\":_vm.t('mail', 'Select tags'),\"track-by\":\"displayName\",\"multiple\":true,\"auto-limit\":false,\"close-on-select\":false},scopedSlots:_vm._u([{key:\"tag\",fn:function({ option }){return [_c('div',{staticClass:\"tag-group__search\"},[_c('div',{staticClass:\"tag-group__bg\",style:('background-color:' +\n\t\t\t\t\t\t\t\t\t\t\t(option.color !== '#fff'\n\t\t\t\t\t\t\t\t\t\t\t\t? option.color\n\t\t\t\t\t\t\t\t\t\t\t\t: '#333'))}),_vm._v(\" \"),_c('div',{staticClass:\"tag-group__label\",style:('color:' + option.color)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(option.displayName)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\")])])]}},{key:\"option\",fn:function({ option }){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(option.displayName)+\"\\n\\t\\t\\t\\t\\t\\t\")]}}],null,false,1217156861),model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}}):_vm._e()],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--field\"},[_c('label',{staticClass:\"modal-inner--label\",attrs:{\"for\":\"fromId\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Marked as'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner--container marked-as\"},[_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"is_important\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Important'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"starred\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Favorite'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"unread\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unread'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-inline\"},[_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.searchFlags,\"value\":\"attachments\",\"name\":\"flags[]\",\"type\":\"checkbox\"},on:{\"update:checked\":function($event){_vm.searchFlags=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Has attachments'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-inner-field--right\"},[_c('NcButton',{staticClass:\"button-reset-filter\",attrs:{\"aria-label\":_vm.t('mail', 'Clear')},on:{\"click\":function($event){return _vm.resetFilter()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Close',{attrs:{\"size\":24}})]},proxy:true}],null,false,1411281818)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"primary\",\"aria-label\":_vm.t('mail', 'Search')},on:{\"click\":function($event){return _vm.closeSearchModal()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Magnify',{attrs:{\"size\":24}})]},proxy:true}],null,false,4196774431)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Search'))+\"\\n\\t\\t\\t\\t\")])],1)])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"search-messages\">\n\t\t<input\n\t\t\tv-model=\"query\"\n\t\t\ttype=\"text\"\n\t\t\tclass=\"search-messages--input\"\n\t\t\t:placeholder=\"t('mail', 'Search in mailbox')\">\n\t\t<NcButton v-if=\"filterChanged\"\n\t\t\t:aria-label=\"t('mail', 'Close')\"\n\t\t\tclass=\"search-messages--close\"\n\t\t\t@click=\"resetFilter()\">\n\t\t\t<template #icon>\n\t\t\t\t<Close :size=\"24\" />\n\t\t\t</template>\n\t\t</NcButton>\n\n\t\t<span\n\t\t\tv-if=\"filterChanged\"\n\t\t\tclass=\"filter-changed\" />\n\n\t\t<NcActions>\n\t\t\t<NcActionButton @click=\"moreSearchActions = true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<Tune :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t(\"mail\", \"Search parameters\") }}\n\t\t\t</NcActionButton>\n\t\t</NcActions>\n\t\t<NcModal\n\t\t\tv-if=\"moreSearchActions\"\n\t\t\t:title=\"t('mail', 'Search parameters')\"\n\t\t\tclass=\"search-modal\"\n\t\t\t@close=\"closeSearchModal\">\n\t\t\t<h2 class=\"modal-title\">\n\t\t\t\t{{ t('mail', 'Search in mailbox') }}\n\t\t\t</h2>\n\t\t\t<div class=\"modal-inner--content\">\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"subjectId\">\n\t\t\t\t\t\t{{ t('mail','Subject') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"subjectId\"\n\t\t\t\t\t\t\tv-model=\"searchInSubject\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Search subject')\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"bodyId\">\n\t\t\t\t\t\t{{ t('mail','Body') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"bodyId\"\n\t\t\t\t\t\t\tv-model=\"searchInMessageBody\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Search body')\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"fromId\">\n\t\t\t\t\t\t{{ t(\"mail\", \"Date\") }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container range\">\n\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t<NcDatetimePicker\n\t\t\t\t\t\t\t\tv-model=\"startDate\"\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Pick a start date')\"\n\t\t\t\t\t\t\t\tconfirm />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t<NcDatetimePicker\n\t\t\t\t\t\t\t\tv-model=\"endDate\"\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t:disabled=\"startDate === null\"\n\t\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Pick an end date')\"\n\t\t\t\t\t\t\t\tconfirm />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"fromId\">\n\t\t\t\t\t\t{{ t(\"mail\", \"From\") }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<NcMultiselect\n\t\t\t\t\t\t\tid=\"fromId\"\n\t\t\t\t\t\t\tv-model=\"searchInFrom\"\n\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t:value=\"searchInFrom\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select senders')\"\n\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t:max=\"1\"\n\t\t\t\t\t\t\t@tag=\"addTag($event,'from')\"\n\t\t\t\t\t\t\t@search-change=\"searchRecipients($event)\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"toId\">\n\t\t\t\t\t\t{{ t('mail', 'To') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<NcMultiselect\n\t\t\t\t\t\t\tid=\"toId\"\n\t\t\t\t\t\t\tv-model=\"searchInTo\"\n\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t:value=\"searchInTo\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select recipients')\"\n\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t:max=\"1\"\n\t\t\t\t\t\t\t@tag=\"addTag($event,'to')\"\n\t\t\t\t\t\t\t@search-change=\"searchRecipients($event)\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"ccId\">\n\t\t\t\t\t\t{{ t('mail', 'Cc') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<NcMultiselect\n\t\t\t\t\t\t\tid=\"ccId\"\n\t\t\t\t\t\t\tv-model=\"searchInCc\"\n\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t:value=\"searchInCc\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select CC recipients')\"\n\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t:max=\"1\"\n\t\t\t\t\t\t\t@tag=\"addTag($event,'cc')\"\n\t\t\t\t\t\t\t@search-change=\"searchRecipients($event)\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"bccId\">\n\t\t\t\t\t\t{{ t('mail', 'Bcc') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<NcMultiselect\n\t\t\t\t\t\t\tid=\"bccId\"\n\t\t\t\t\t\t\tv-model=\"searchInBcc\"\n\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\ttrack-by=\"email\"\n\t\t\t\t\t\t\t:options=\"autocompleteRecipients\"\n\t\t\t\t\t\t\t:value=\"searchInCc\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select BCC recipients')\"\n\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t\t:close-on-select=\"true\"\n\t\t\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t\t\t:max=\"1\"\n\t\t\t\t\t\t\t@tag=\"addTag($event,'bcc')\"\n\t\t\t\t\t\t\t@search-change=\"searchRecipients($event)\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"tags.length > 0\" class=\"modal-inner--field\">\n\t\t\t\t\t<label for=\"tagsId\">\n\t\t\t\t\t\t{{ t('mail', 'Tags') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container\">\n\t\t\t\t\t\t<NcMultiselect\n\t\t\t\t\t\t\tv-if=\"tags.length > 0\"\n\t\t\t\t\t\t\tid=\"tagsId\"\n\t\t\t\t\t\t\tv-model=\"selectedTags\"\n\t\t\t\t\t\t\tclass=\"multiselect-search-tags\"\n\t\t\t\t\t\t\t:options=\"tags\"\n\t\t\t\t\t\t\tlabel=\"displayName\"\n\t\t\t\t\t\t\t:value=\"selectedTags\"\n\t\t\t\t\t\t\t:placeholder=\"t('mail', 'Select tags')\"\n\t\t\t\t\t\t\ttrack-by=\"displayName\"\n\t\t\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t\t\t:auto-limit=\"false\"\n\t\t\t\t\t\t\t:close-on-select=\"false\">\n\t\t\t\t\t\t\t<template #tag=\"{ option }\">\n\t\t\t\t\t\t\t\t<div class=\"tag-group__search\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"tag-group__bg\"\n\t\t\t\t\t\t\t\t\t\t:style=\"\n\t\t\t\t\t\t\t\t\t\t\t'background-color:' +\n\t\t\t\t\t\t\t\t\t\t\t\t(option.color !== '#fff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? option.color\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '#333')\" />\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"tag-group__label\"\n\t\t\t\t\t\t\t\t\t\t:style=\"'color:' + option.color\">\n\t\t\t\t\t\t\t\t\t\t{{ option.displayName }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template #option=\"{ option }\">\n\t\t\t\t\t\t\t\t{{ option.displayName }}\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcMultiselect>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-inner--field\">\n\t\t\t\t\t<label class=\"modal-inner--label\" for=\"fromId\">\n\t\t\t\t\t\t{{ t('mail', 'Marked as') }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"modal-inner--container marked-as\">\n\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t<NcCheckboxRadioSwitch\n\t\t\t\t\t\t\t\t:checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\tvalue=\"is_important\"\n\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Important') }}\n\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t<NcCheckboxRadioSwitch\n\t\t\t\t\t\t\t\t:checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\tvalue=\"starred\"\n\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Favorite') }}\n\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t<NcCheckboxRadioSwitch\n\t\t\t\t\t\t\t\t:checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\tvalue=\"unread\"\n\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Unread') }}\n\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-inner-inline\">\n\t\t\t\t\t\t\t<NcCheckboxRadioSwitch\n\t\t\t\t\t\t\t\t:checked.sync=\"searchFlags\"\n\t\t\t\t\t\t\t\tvalue=\"attachments\"\n\t\t\t\t\t\t\t\tname=\"flags[]\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\">\n\t\t\t\t\t\t\t\t{{ t('mail', 'Has attachments') }}\n\t\t\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"modal-inner-field--right\">\n\t\t\t\t\t<NcButton\n\t\t\t\t\t\tclass=\"button-reset-filter\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Clear')\"\n\t\t\t\t\t\t@click=\"resetFilter()\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Close :size=\"24\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Clear') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t:aria-label=\"t('mail', 'Search')\"\n\t\t\t\t\t\t@click=\"closeSearchModal()\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Magnify :size=\"24\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('mail', 'Search') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script>\nimport moment from '@nextcloud/moment'\n\nimport NcModal from '@nextcloud/vue/dist/Components/NcModal'\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\nimport NcDatetimePicker from '@nextcloud/vue/dist/Components/NcDatetimePicker'\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\nimport NcCheckboxRadioSwitch\n\tfrom '@nextcloud/vue/dist/Components/NcCheckboxRadioSwitch'\nimport Tune from 'vue-material-design-icons/Tune'\nimport Close from 'vue-material-design-icons/Close'\nimport Magnify from 'vue-material-design-icons/Magnify'\n\nimport debouncePromise from 'debounce-promise'\nimport { findRecipient } from '../service/AutocompleteService.js'\nimport uniqBy from 'lodash/fp/uniqBy'\nimport { hiddenTags } from './tags.js'\n\nconst debouncedSearch = debouncePromise(findRecipient, 500)\n\nexport default {\n\tname: 'SearchMessages',\n\tcomponents: {\n\t\tNcModal,\n\t\tNcMultiselect,\n\t\tNcDatetimePicker,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tNcCheckboxRadioSwitch,\n\t\tTune,\n\t\tClose,\n\t\tMagnify,\n\t},\n\tprops: {\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\taccountId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tquery: '',\n\t\t\tdebouncedSearchQuery: debouncePromise(this.sendQueryEvent, 700),\n\t\t\tautocompleteRecipients: [],\n\t\t\tselectedTags: [],\n\t\t\tmoreSearchActions: false,\n\t\t\tsearchInFrom: null,\n\t\t\tsearchInTo: null,\n\t\t\tsearchInCc: null,\n\t\t\tsearchInBcc: null,\n\t\t\tsearchInSubject: null,\n\t\t\tsearchInMessageBody: null,\n\t\t\tsearchFlags: [],\n\t\t\thasAttachments: false,\n\t\t\tstartDate: null,\n\t\t\tendDate: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\ttags() {\n\t\t\treturn this.$store.getters.getTags.filter((tag) => !(tag.displayName.toLowerCase() in hiddenTags)).sort((a, b) => {\n\t\t\t\tif (a.isDefaultTag && !b.isDefaultTag) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\tif (b.isDefaultTag && !a.isDefaultTag) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\tif (a.isDefaultTag && b.isDefaultTag) {\n\t\t\t\t\tif (a.displayName < b.displayName) {\n\t\t\t\t\t\treturn 1\n\t\t\t\t\t}\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\t\t\t\treturn a.displayName.localeCompare(b.displayName)\n\t\t\t})\n\t\t},\n\t\tfilterChanged() {\n\t\t\treturn Object.entries(this.filterData).filter(([key, val]) => {\n\t\t\t\treturn val !== ''\n\t\t\t}).length > 0\n\t\t},\n\t\tsearchBody() {\n\t\t\treturn this.$store.getters.getAccount(this.accountId)?.searchBody || (this.mailbox.databaseId === 'priority' && this.$store.getters.getPreference('search-priority-body', 'false') === 'true')\n\t\t},\n\t\tfilterData() {\n\t\t\treturn {\n\t\t\t\tto: this.searchInTo !== null && this.searchInTo.length > 0 ? this.searchInTo[0].email : '',\n\t\t\t\tfrom: this.searchInFrom !== null && this.searchInFrom.length > 0 ? this.searchInFrom[0].email : '',\n\t\t\t\tcc: this.searchInCc !== null && this.searchInCc.length > 0 ? this.searchInCc[0].email : '',\n\t\t\t\tbcc: this.searchInBcc !== null && this.searchInBcc.length > 0 ? this.searchInBcc[0].email : '',\n\t\t\t\tsubject: this.searchInSubject !== null && this.searchInSubject.length > 1 ? this.searchInSubject : '',\n\t\t\t\tbody: this.searchInMessageBody !== null && this.searchInMessageBody.length > 1 ? this.searchInMessageBody : '',\n\t\t\t\ttags: this.selectedTags.length > 0 ? this.selectedTags.map(item => item.id) : '',\n\t\t\t\tflags: this.searchFlags.length > 0 ? this.searchFlags.map(item => item) : '',\n\t\t\t\tstart: this.prepareStart(),\n\t\t\t\tend: this.prepareEnd(),\n\t\t\t\tattachments: this.hasAttachments ? this.hasAttachments.toString() : '',\n\t\t\t}\n\t\t},\n\t\tsearchQuery() {\n\t\t\tlet _search = ''\n\t\t\tObject.entries(this.filterData).filter(([key, val]) => {\n\t\t\t\tif (key === 'body') {\n\t\t\t\t\tval.split(' ').forEach((word) => {\n\t\t\t\t\t\tif (word !== '' && val !== null) {\n\t\t\t\t\t\t\t_search += `${key}:${encodeURI(word)} `\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (val !== '' && val !== null) {\n\t\t\t\t\t_search += `${key}:${encodeURI(val)} `\n\t\t\t\t}\n\t\t\t\treturn val\n\t\t\t})\n\n\t\t\treturn _search.trim()\n\t\t},\n\t},\n\twatch: {\n\t\tquery() {\n\t\t\tthis.searchInMessageBody = this.searchBody ? this.query : null\n\t\t\tthis.searchInSubject = this.query\n\t\t\tthis.debouncedSearchQuery()\n\t\t},\n\t},\n\tmethods: {\n\t\tprepareStart() {\n\t\t\tif (this.startDate !== null) {\n\t\t\t\tif (this.endDate !== null && this.startDate > this.endDate) {\n\t\t\t\t\tthis.endDate = this.startDate\n\t\t\t\t}\n\t\t\t\treturn moment(this.startDate).unix().toString()\n\t\t\t}\n\t\t\treturn ''\n\t\t},\n\t\tprepareEnd() {\n\t\t\treturn this.endDate !== null ? moment(this.endDate).add(1, 'days').unix().toString() : ''\n\t\t},\n\t\tcloseSearchModal() {\n\t\t\tthis.moreSearchActions = false\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.sendQueryEvent()\n\t\t\t})\n\n\t\t},\n\t\tsendQueryEvent() {\n\t\t\tthis.$emit('search-changed', this.searchQuery)\n\t\t},\n\t\tsearchRecipients(term) {\n\t\t\tif (term === undefined || term === '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tdebouncedSearch(term).then(results => {\n\t\t\t\tthis.autocompleteRecipients = uniqBy('email')(\n\t\t\t\t\tthis.autocompleteRecipients.concat(results)\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\t\tresetFilter() {\n\t\t\tconst prevQuery = this.query\n\t\t\tthis.query = ''\n\t\t\tthis.selectedTags = []\n\t\t\tthis.moreSearchActions = false\n\t\t\tthis.searchInFrom = null\n\t\t\tthis.searchInTo = null\n\t\t\tthis.searchInCc = null\n\t\t\tthis.searchInBcc = null\n\t\t\tthis.searchInSubject = null\n\t\t\tthis.searchInMessageBody = null\n\t\t\tthis.searchFlags = []\n\t\t\tthis.startDate = null\n\t\t\tthis.endDate = null\n\t\t\t// Need if there is only tag filter or recipients filter\n\t\t\tif (prevQuery === '') {\n\t\t\t\tthis.sendQueryEvent()\n\t\t\t}\n\t\t},\n\t\taddTag(tag, type) {\n\t\t\tconst _tag = [{\n\t\t\t\tlabel: tag,\n\t\t\t\temail: tag,\n\t\t\t}]\n\t\t\tswitch (type) {\n\t\t\tcase 'to':\n\t\t\t\tthis.searchInTo = _tag\n\t\t\t\tbreak\n\t\t\tcase 'from':\n\t\t\t\tthis.searchInFrom = _tag\n\t\t\t\tbreak\n\t\t\tcase 'cc':\n\t\t\t\tthis.searchInCc = _tag\n\t\t\t\tbreak\n\t\t\tcase 'bcc':\n\t\t\t\tthis.searchInBcc = _tag\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.search-messages {\n\tmin-height: 52px;\n\tmargin: 3px 0 0 52px;\n\tpadding-right: 4px; /* matches .app-content-list */\n\tborder-right: 1px solid var(--color-border);\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\t//important info icon overlaps it while scrolling\n\tz-index: 1;\n\n\tinput {\n\t\tflex-grow: 1;\n\t}\n\n\t.action-item--single {\n\t\tborder-radius: var(--border-radius-pill);\n\t\tborder: none;\n\t\tbackground: none;\n\t\ttransition: 0.4s;\n\t}\n\n\t.action-item--single:hover {\n\t\ttransition: 0.4s;\n\t\tbackground: var(--color-primary-element);\n\t}\n}\n\n.search-input {\n\twidth: 100%;\n}\n\n.checkbox-radio-switch__label {\n\tbackground: none !important;\n\tpadding: 0 !important;\n\tmargin: 0 !important;\n}\n\n.tag-group__search {\n\tbox-sizing: border-box;\n\tposition: relative;\n\tmargin: 3px 3px;\n\tpadding: 0 6px;\n}\n\n.tag-group__bg {\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\ttop: 0;\n\topacity: 0.4;\n\tborder-radius: 14px;\n\tz-index: 1;\n}\n\n.tag-group__label {\n\tfont-weight: bold;\n\tfont-size: 12px;\n\tposition: relative;\n\tz-index: 2;\n}\n\n.search-modal .modal-container {\n\tmin-height: auto;\n\toverflow: visible !important;\n\tposition: relative;\n\tdisplay: flex !important;\n\tflex-direction: column;\n\n\t.modal-title {\n\t\tpadding: 16px 30px 0 30px;\n\t\tposition: relative;\n\t\t/* needs while modal-container__close not set */\n\t\tdisplay: inline-block;\n\t}\n\n\t.modal-inner--content {\n\t\tpadding: 16px 0 36px 0;\n\t\toverflow-y: scroll;\n\t\twidth: calc(100% - 2px);\n\n\t\t.marked-as .modal-inner-inline {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 32%;\n\n\t\t\t&:last-child {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t\t.range {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\n\t\t\t.modal-inner-inline {\n\t\t\t\twidth: calc(50% - 5px);\n\t\t\t\t&:first-child {\n\t\t\t\t\tmargin-right: 5px;\n\t\t\t\t}\n\t\t\t\t&:last-child {\n\t\t\t\t\tmargin-left: 5px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.multiselect-search-tags {\n\twidth: 100%;\n}\n\n.multiselect-search-tags .multiselect__tags .multiselect__tags-wrap {\n\tflex-wrap: wrap !important;\n}\n\n.modal-inner-field--right {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tpadding: 0 33px;\n\tmargin-top: 15px;\n}\n\n.modal-inner--field {\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tjustify-content: space-between;\n\tmargin-bottom: 15px;\n\tpadding: 0 12px 0 30px;\n\n\t.checkbox-radio-switch {\n\t\tmargin: 0 8px 0 0;\n\t}\n\n\t& > label {\n\t\tfont-weight: bold;\n\t\twidth: 120px;\n\t}\n\n\t.modal-inner--container {\n\t\twidth: calc(100% - 120px);\n\n\t\t.multiselect {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n}\n\n.modal-wrapper--normal .modal-container {\n\tposition: relative\n}\n\n.button-vue.search-messages--close.button-vue--icon-only {\n\tposition: absolute;\n\twidth: auto;\n\theight: auto;\n\tz-index: 5;\n\tright: 45px;\n\tleft: auto;\n\tbox-shadow: none !important;\n\tbackground: transparent !important;\n\tborder: none !important;\n\tpadding: 0 !important;\n\ttop: 5px\n}\n\n.button-reset-filter {\n\tmargin-right: 10px;\n}\n\n.filter-changed {\n\twidth: 6px;\n\theight: 6px;\n\tbackground: var(--color-error);\n\tposition: absolute;\n\tz-index: 10;\n\tright: 12px;\n\tborder-radius: 50%;\n\ttop: 12px;\n}\n.mx-datepicker {\n\twidth:100%;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=style&index=0&id=21eb0850&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchMessages.vue?vue&type=style&index=0&id=21eb0850&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SearchMessages.vue?vue&type=template&id=21eb0850\"\nimport script from \"./SearchMessages.vue?vue&type=script&lang=js\"\nexport * from \"./SearchMessages.vue?vue&type=script&lang=js\"\nimport style0 from \"./SearchMessages.vue?vue&type=style&index=0&id=21eb0850&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=script&lang=js\"","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppContentDetails>\n\t\t<NcEmptyContent\n\t\t\t:title=\"welcomeMessage\">\n\t\t\t<template #icon>\n\t\t\t\t<IconMail :size=\"65\" />\n\t\t\t</template>\n\t\t</NcEmptyContent>\n\t\t<NewMessageButtonHeader />\n\t</AppContentDetails>\n</template>\n\n<script>\nimport { NcAppContentDetails as AppContentDetails, NcEmptyContent } from '@nextcloud/vue'\nimport IconMail from 'vue-material-design-icons/Email'\nimport NewMessageButtonHeader from './NewMessageButtonHeader.vue'\n\nexport default {\n\tname: 'NoMessageSelected',\n\tcomponents: {\n\t\tNewMessageButtonHeader,\n\t\tAppContentDetails,\n\t\tNcEmptyContent,\n\t\tIconMail,\n\t},\n\n\tcomputed: {\n\t\twelcomeMessage() {\n\t\t\treturn t('mail', 'Welcome to {cloudName} Mail', { cloudName: window?.OC?.theme?.name ?? 'Nextcloud' })\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .refresh__button {\n\tdisplay: none !important;\n}\n.header {\n\tdisplay: grid !important;\n\tjustify-content: center !important;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=style&index=0&id=05f0c52e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMessageSelected.vue?vue&type=style&index=0&id=05f0c52e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NoMessageSelected.vue?vue&type=template&id=05f0c52e&scoped=true\"\nimport script from \"./NoMessageSelected.vue?vue&type=script&lang=js\"\nexport * from \"./NoMessageSelected.vue?vue&type=script&lang=js\"\nimport style0 from \"./NoMessageSelected.vue?vue&type=style&index=0&id=05f0c52e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05f0c52e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContentDetails',[_c('NcEmptyContent',{attrs:{\"title\":_vm.welcomeMessage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail',{attrs:{\"size\":65}})]},proxy:true}])}),_vm._v(\" \"),_c('NewMessageButtonHeader')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContentDetails',{attrs:{\"id\":\"mail-message\"}},[(_vm.loading && _vm.thread.length === 0)?_c('Loading',{attrs:{\"hint\":_vm.t('mail', 'Loading thread')}}):(_vm.error)?_c('Error',{attrs:{\"error\":_vm.error && _vm.error.message ? _vm.error.message : _vm.t('mail', 'Not found'),\"message\":_vm.errorMessage}}):[_c('div',{attrs:{\"id\":\"mail-thread-header\"}},[_c('div',{attrs:{\"id\":\"mail-thread-header-fields\"}},[_c('h2',{attrs:{\"title\":_vm.threadSubject}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.threadSubject)+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.thread.length)?_c('div',{ref:\"avatarHeader\",staticClass:\"avatar-header\"},[_vm._l((_vm.threadParticipants.slice(0, _vm.participantsToDisplay)),function(participant){return _c('RecipientBubble',{key:participant.email,attrs:{\"email\":participant.email,\"label\":participant.label}})}),_vm._v(\" \"),(_vm.threadParticipants.length > _vm.participantsToDisplay)?_c('Popover',{staticClass:\"avatar-more\"},[_c('span',{staticClass:\"avatar-more\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.moreParticipantsString)+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.threadParticipants.slice(_vm.participantsToDisplay)),function(participant){return _c('RecipientBubble',{key:participant.email,attrs:{\"email\":participant.email,\"label\":participant.label}})})],2):_vm._e(),_vm._v(\" \"),_vm._l((_vm.threadParticipants.slice(_vm.participantsToDisplay)),function(participant){return _c('RecipientBubble',{key:participant.email,staticClass:\"avatar-hidden\",attrs:{\"email\":participant.email,\"label\":participant.label}})})],2):_vm._e()])]),_vm._v(\" \"),(_vm.showSummaryBox)?_c('ThreadSummary',{attrs:{\"loading\":_vm.summaryLoading,\"summary\":_vm.summaryText}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.thread),function(env){return _c('ThreadEnvelope',{key:env.databaseId,attrs:{\"envelope\":env,\"mailbox-id\":_vm.$route.params.mailboxId,\"thread-subject\":_vm.threadSubject,\"expanded\":_vm.expandedThreads.includes(env.databaseId),\"full-height\":_vm.thread.length === 1},on:{\"delete\":function($event){return _vm.$emit('delete', env.databaseId)},\"move\":function($event){return _vm.onMove(env.databaseId)},\"toggle-expand\":function($event){return _vm.toggleExpand(env.databaseId)}}})})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { generateUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\nimport { convertAxiosError } from '../errors/convert.js'\n\nexport const summarizeThread = async (threadId) => {\n\tconst url = generateUrl('/apps/mail/api/thread/{threadId}/summary', {\n\t\tthreadId,\n\t})\n\n\ttry {\n\t\tconst resp = await axios.get(url)\n\t\tif (resp.status === 204) throw convertAxiosError()\n\t\treturn resp.data.data\n\t} catch (e) {\n\t\tthrow convertAxiosError(e)\n\t}\n}\n","/**\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport { translate as t } from '@nextcloud/l10n'\n\nconst smileys = [':-(', ':-/', ':-\\\\', ':-|', \":'-(\", \":'-/\", \":'-\\\\\", \":'-|\"]\n\nconst getRandomSmiley = () => {\n\treturn smileys[Math.floor(Math.random() * smileys.length)]\n}\n\n/**\n * @param {object} folder a folder\n * @return {string}\n */\nexport const getRandomFolderErrorMessage = (folder) => {\n\tconst folderName = folder.get('name')\n\tconst rawTexts = [\n\t\tt('mail', 'Could not load {tag}{name}{endtag}', {\n\t\t\tname: folderName,\n\t\t}),\n\t\tt('mail', 'Could not load {tag}{name}{endtag}', {\n\t\t\tname: folderName,\n\t\t}),\n\t\tt('mail', 'There was a problem loading {tag}{name}{endtag}', {\n\t\t\tname: folderName,\n\t\t}),\n\t]\n\tconst texts = rawTexts.map((text) => text.replace('{tag}', '<strong>').replace('{endtag}', '</strong>'))\n\tconst text = texts[Math.floor(Math.random() * texts.length)]\n\treturn text + ' ' + getRandomSmiley()\n}\n\n/**\n * @return {string}\n */\nexport const getRandomMessageErrorMessage = () => {\n\tconst texts = [\n\t\tt('mail', 'Could not load your message'),\n\t\tt('mail', 'Could not load the desired message'),\n\t\tt('mail', 'Could not load the message'),\n\t]\n\tconst text = texts[Math.floor(Math.random() * texts.length)]\n\treturn text + ' ' + getRandomSmiley()\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Popover',{ref:\"popover\",staticClass:\"contact-popover\",attrs:{\"trigger\":\"click\"}},[_c('UserBubble',{attrs:{\"slot\":\"trigger\",\"display-name\":_vm.label,\"avatar-image\":_vm.avatarUrlAbsolute},on:{\"click\":_vm.onClickOpenContactDialog},slot:\"trigger\"}),_vm._v(\" \"),_c('div',{staticClass:\"contact-wrapper\"},[_c('p',{staticClass:\"contact-popover__email\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.email)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.contactsWithEmail && _vm.contactsWithEmail.length > 0)?_c('ButtonVue',{staticClass:\"contact-existing\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Contacts with this address')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDetails',{attrs:{\"size\":20}})]},proxy:true}],null,false,2417736673)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Contacts with this address'))+\": \"+_vm._s(_vm.contactsWithEmailComputed)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.selection === _vm.ContactSelectionStateEnum.select)?_c('div',{staticClass:\"contact-menu\"},[_c('ButtonVue',{attrs:{\"aria-label\":_vm.t('mail', 'Reply'),\"type\":\"tertiary-no-background\"},on:{\"click\":_vm.onClickReply},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconReply',{attrs:{\"size\":20}})]},proxy:true}],null,false,806667217)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Add to Contact')},on:{\"click\":function($event){_vm.selection = _vm.ContactSelectionStateEnum.existing}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconUser',{attrs:{\"size\":20}})]},proxy:true}],null,false,207893778)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add to Contact'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'New Contact')},on:{\"click\":function($event){_vm.selection = _vm.ContactSelectionStateEnum.new}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'New Contact'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Copy to clipboard')},on:{\"click\":_vm.onClickCopyToClipboard},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClipboard',{attrs:{\"size\":20}})]},proxy:true}],null,false,1207266895)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Copy to clipboard'))+\"\\n\\t\\t\\t\")])],1):_c('div',{staticClass:\"contact-input-wrapper\"},[(_vm.selection === _vm.ContactSelectionStateEnum.existing)?_c('Multiselect',{ref:\"contact-selection-label\",attrs:{\"id\":\"contact-selection\",\"options\":_vm.selectableContacts,\"taggable\":true,\"label\":\"label\",\"track-by\":\"label\",\"multiple\":false,\"placeholder\":_vm.t('name', 'Contact name '),\"clear-on-select\":false,\"show-no-options\":false,\"preserve-search\":true},on:{\"search-change\":_vm.onAutocomplete},model:{value:(_vm.selectedContact),callback:function ($$v) {_vm.selectedContact=$$v},expression:\"selectedContact\"}}):(_vm.selection === _vm.ContactSelectionStateEnum.new)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newContactName),expression:\"newContactName\"}],domProps:{\"value\":(_vm.newContactName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newContactName=$event.target.value}}}):_vm._e()],1),_vm._v(\" \"),(_vm.selection !== _vm.ContactSelectionStateEnum.select)?_c('div',[_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Go back')},on:{\"click\":function($event){_vm.selection = _vm.ContactSelectionStateEnum.select}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconClose',{attrs:{\"size\":20}})]},proxy:true}],null,false,2888946197)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Go back'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ButtonVue',{directives:[{name:\"close-popover\",rawName:\"v-close-popover\"}],attrs:{\"disabled\":_vm.addButtonDisabled,\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Add')},on:{\"click\":_vm.onClickAddToContact},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,905113861)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add'))+\"\\n\\t\\t\\t\")])],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright 2021 Kristian Lebold <kristian@lebold.info>\n *\n * @author 2021 Kristian Lebold <kristian@lebold.info>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport const findMatches = (mail) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/match/{mail}', {\n\t\tmail,\n\t})\n\n\treturn Axios.get(url).then((resp) => resp.data)\n}\n\nexport const addToContact = (id, mailAddr) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/add')\n\n\treturn Axios.put(url, { uid: id, mail: mailAddr }).then((resp) => resp.data)\n}\n\nexport const newContact = (name, mailAddr) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/new')\n\n\treturn Axios.put(url, { contactName: name, mail: mailAddr }).then((resp) => resp.data)\n}\n\nexport const autoCompleteByName = (term) => {\n\tconst url = generateUrl('/apps/mail/api/contactIntegration/autoComplete/{term}', {\n\t\tterm,\n\t})\n\n\treturn Axios.get(url).then((resp) => resp.data)\n}\n","<!--\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<Popover ref=\"popover\" trigger=\"click\" class=\"contact-popover\">\n\t\t<UserBubble slot=\"trigger\"\n\t\t\t:display-name=\"label\"\n\t\t\t:avatar-image=\"avatarUrlAbsolute\"\n\t\t\t@click=\"onClickOpenContactDialog\" />\n\t\t<div class=\"contact-wrapper\">\n\t\t\t<p class=\"contact-popover__email\">\n\t\t\t\t{{ email }}\n\t\t\t</p>\n\t\t\t<ButtonVue\n\t\t\t\tv-if=\"contactsWithEmail && contactsWithEmail.length > 0\"\n\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t:aria-label=\"t('mail', 'Contacts with this address')\"\n\t\t\t\tclass=\"contact-existing\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconDetails :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Contacts with this address') }}: {{ contactsWithEmailComputed }}\n\t\t\t</ButtonVue>\n\t\t\t<div v-if=\"selection === ContactSelectionStateEnum.select\" class=\"contact-menu\">\n\t\t\t\t<ButtonVue\n\t\t\t\t\t:aria-label=\"t('mail', 'Reply')\"\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t@click=\"onClickReply\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconReply :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Reply') }}\n\t\t\t\t</ButtonVue>\n\t\t\t\t<ButtonVue\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Add to Contact')\"\n\t\t\t\t\t@click=\"selection = ContactSelectionStateEnum.existing\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconUser :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add to Contact') }}\n\t\t\t\t</ButtonVue>\n\t\t\t\t<ButtonVue\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:aria-label=\"t('mail', 'New Contact')\"\n\t\t\t\t\t@click=\"selection = ContactSelectionStateEnum.new\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'New Contact') }}\n\t\t\t\t</ButtonVue>\n\t\t\t\t<ButtonVue\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Copy to clipboard')\"\n\t\t\t\t\t@click=\"onClickCopyToClipboard\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconClipboard :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Copy to clipboard') }}\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t\t<div v-else class=\"contact-input-wrapper\">\n\t\t\t\t<Multiselect\n\t\t\t\t\tv-if=\"selection === ContactSelectionStateEnum.existing\"\n\t\t\t\t\tid=\"contact-selection\"\n\t\t\t\t\tref=\"contact-selection-label\"\n\t\t\t\t\tv-model=\"selectedContact\"\n\t\t\t\t\t:options=\"selectableContacts\"\n\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\ttrack-by=\"label\"\n\t\t\t\t\t:multiple=\"false\"\n\t\t\t\t\t:placeholder=\"t('name', 'Contact name ')\"\n\t\t\t\t\t:clear-on-select=\"false\"\n\t\t\t\t\t:show-no-options=\"false\"\n\t\t\t\t\t:preserve-search=\"true\"\n\t\t\t\t\t@search-change=\"onAutocomplete\" />\n\n\t\t\t\t<input v-else-if=\"selection === ContactSelectionStateEnum.new\" v-model=\"newContactName\">\n\t\t\t</div>\n\t\t\t<div v-if=\"selection !== ContactSelectionStateEnum.select\">\n\t\t\t\t<ButtonVue\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Go back')\"\n\t\t\t\t\t@click=\"selection = ContactSelectionStateEnum.select\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconClose :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Go back') }}\n\t\t\t\t</ButtonVue>\n\n\t\t\t\t<ButtonVue\n\t\t\t\t\tv-close-popover\n\t\t\t\t\t:disabled=\"addButtonDisabled\"\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Add')\"\n\t\t\t\t\t@click=\"onClickAddToContact\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconCheck :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add') }}\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t</div>\n\t</Popover>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\n\nimport { NcUserBubble as UserBubble, NcPopover as Popover, NcMultiselect as Multiselect, NcButton as ButtonVue } from '@nextcloud/vue'\n\nimport IconReply from 'vue-material-design-icons/Reply'\nimport IconAdd from 'vue-material-design-icons/Plus'\nimport IconClose from 'vue-material-design-icons/Close'\nimport IconClipboard from 'vue-material-design-icons/ClipboardText'\nimport IconDetails from 'vue-material-design-icons/Information'\nimport IconCheck from 'vue-material-design-icons/Check'\nimport IconUser from 'vue-material-design-icons/Account'\nimport { fetchAvatarUrlMemoized } from '../service/AvatarService.js'\nimport { addToContact, findMatches, newContact, autoCompleteByName } from '../service/ContactIntegrationService.js'\nimport uniqBy from 'lodash/fp/uniqBy'\nimport debouncePromise from 'debounce-promise'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nconst debouncedSearch = debouncePromise(autoCompleteByName, 500)\n\nconst ContactSelectionStateEnum = Object.freeze({ new: 1, existing: 2, select: 3 })\n\nexport default {\n\tname: 'RecipientBubble',\n\tcomponents: {\n\t\tButtonVue,\n\t\tUserBubble,\n\t\tPopover,\n\t\tMultiselect,\n\t\tIconReply,\n\t\tIconUser,\n\t\tIconAdd,\n\t\tIconClose,\n\t\tIconClipboard,\n\t\tIconDetails,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\temail: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tavatarUrl: undefined,\n\t\t\tloadingContacts: false,\n\t\t\tcontactsWithEmail: [],\n\t\t\tautoCompleteContacts: [],\n\t\t\tselectedContact: '',\n\t\t\tnewContactName: '',\n\t\t\tContactSelectionStateEnum,\n\t\t\tselection: ContactSelectionStateEnum.select,\n\t\t\tisContactPopoverOpen: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tavatarUrlAbsolute() {\n\t\t\tif (!this.avatarUrl) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.avatarUrl.startsWith('http')) {\n\t\t\t\treturn this.avatarUrl\n\t\t\t}\n\n\t\t\t// Make it an absolute URL because the user bubble component doesn't work with relative URLs\n\t\t\treturn window.location.protocol + '//' + window.location.host + generateUrl(this.avatarUrl)\n\t\t},\n\t\tselectableContacts() {\n\t\t\treturn this.autoCompleteContacts\n\t\t\t\t.map((contact) => ({ ...contact, label: contact.label }))\n\t\t},\n\t\tcontactsWithEmailComputed() {\n\t\t\tlet additional = ''\n\t\t\tif (this.contactsWithEmail && this.contactsWithEmail.length > 3) {\n\t\t\t\tadditional = ` + ${this.contactsWithEmail.length - 3}`\n\t\t\t}\n\t\t\treturn this.contactsWithEmail.slice(0, 3).map(e => e.label).join(', ').concat(additional)\n\t\t},\n\t\taddButtonDisabled() {\n\t\t\treturn !((this.selection === ContactSelectionStateEnum.existing && this.selectedContact)\n\t\t\t\t\t|| (this.selection === ContactSelectionStateEnum.new && this.newContactName.trim() !== ''))\n\t\t},\n\t},\n\tasync mounted() {\n\t\ttry {\n\t\t\tthis.avatarUrl = await fetchAvatarUrlMemoized(this.email)\n\t\t} catch (error) {\n\t\t\tconsole.debug('no avatar for ' + this.email, {\n\t\t\t\terror,\n\t\t\t})\n\t\t}\n\t\tthis.newContactName = this.label\n\t},\n\tmethods: {\n\t\tasync onClickCopyToClipboard() {\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(this.email)\n\t\t\t\tshowSuccess(t('mail', 'Copied email address to clipboard'))\n\t\t\t} catch (e) {\n\t\t\t\tshowError(t('mail', 'Could not copy email address to clipboard'))\n\t\t\t}\n\t\t},\n\t\tonClickReply() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tthreadId: 'mailto',\n\t\t\t\t},\n\t\t\t\tquery: {\n\t\t\t\t\tto: this.email,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tonClickOpenContactDialog() {\n\t\t\tif (this.contactsWithEmail.length === 0) { // TODO fix me\n\t\t\t\tfindMatches(this.email).then(res => {\n\t\t\t\t\tif (res && res.length > 0) {\n\t\t\t\t\t\tthis.contactsWithEmail = res\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonClickAddToContact() {\n\t\t\tif (this.selection === ContactSelectionStateEnum.new) {\n\t\t\t\tif (this.newContactName !== '') {\n\t\t\t\t\tnewContact(this.newContactName.trim(), this.email).then(res => console.debug('ContactIntegration', res))\n\t\t\t\t}\n\t\t\t} else if (this.selection === ContactSelectionStateEnum.existing) {\n\t\t\t\tif (this.selectedContact) {\n\t\t\t\t\taddToContact(this.selectedContact.id, this.email).then(res => console.debug('ContactIntegration', res))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonAutocomplete(term) {\n\t\t\tif (term === undefined || term === '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tdebouncedSearch(term).then((results) => {\n\t\t\t\tthis.autoCompleteContacts = uniqBy('id')(this.autoCompleteContacts.concat(results))\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.user-bubble__title {\n\tmax-width: 30vw;\n}\n\n.contact-menu {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n.contact-popover {\n\tdisplay: inline-block;\n\n\t&__email {\n\t\ttext-align: center;\n\t}\n}\n.contact-wrapper {\n\tpadding:10px;\n\tmin-width: 300px;\n\n\ta {\n\t\topacity: 0.7;\n\t}\n\ta:hover {\n\t\topacity: 1;\n\t}\n}\n.contact-input-wrapper {\n\tmargin-top: 10px;\n    margin-bottom: 10px;\n\tinput,\n\t.multiselect {\n\t\twidth: 100%;\n\t}\n}\n\n.contact-existing {\n\tfont-size: small !important;\n}\n:deep(.button-vue__text) {\n\tfont-weight: normal !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=style&index=0&id=931553e2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientBubble.vue?vue&type=style&index=0&id=931553e2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RecipientBubble.vue?vue&type=template&id=931553e2&scoped=true\"\nimport script from \"./RecipientBubble.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientBubble.vue?vue&type=script&lang=js\"\nimport style0 from \"./RecipientBubble.vue?vue&type=style&index=0&id=931553e2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"931553e2\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageLoadingSkeleton.vue?vue&type=style&index=0&id=3e38ab00&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageLoadingSkeleton.vue?vue&type=style&index=0&id=3e38ab00&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageLoadingSkeleton.vue?vue&type=template&id=3e38ab00&scoped=true\"\nimport script from \"./MessageLoadingSkeleton.vue?vue&type=script&lang=js\"\nexport * from \"./MessageLoadingSkeleton.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageLoadingSkeleton.vue?vue&type=style&index=0&id=3e38ab00&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e38ab00\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"message-loading-skeleton\">\n\t\t<div class=\"message-loading-skeleton__body\">\n\t\t\t<div class=\"message-loading-skeleton__body__line-one\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-two\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-three\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-four\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-five\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t\t<div class=\"message-loading-skeleton__body__line-six\">\n\t\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'MessageLoadingSkeleton',\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n/* skeleton */\n.message-loading-skeleton {\n\tdisplay: flex;\n\tflex-grow: 1;\n\talign-items: flex-start;\n\tpadding: 8px;\n\twidth: 100%;\n\t&__body {\n\t\tmax-height: 500px;\n\t\tmax-width: 1200px;\n\t\tflex: 1 1 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-left: 50px;\n\t\t&__line-one,\n\t\t&__line-two,\n\t\t&__line-three,\n\t\t&__line-four,\n\t\t&__line-five,\n\t\t&__line-six {\n\t\t\twhite-space: nowrap;\n\t\t\theight: 13px;\n\t\t\tbackground: linear-gradient(-45deg, var(--color-background-hover), var(--color-background-dark), var(--color-background-darker), var(--color-placeholder-light));\n\t\t\tbackground-size: 400% 400%;\n\t\t\tanimation: gradient 3s ease-in infinite;\n\t\t}\n\t\t&__line-one {\n\t\t\twidth: 10%;\n\t\t\tmargin-bottom: 25px;\n\t\t}\n\t\t&__line-two {\n\t\t\twidth: 80%;\n\t\t\tmargin-bottom: 6px;\n\t\t}\n\t\t&__line-three {\n\t\t\twidth: 50%;\n\t\t\tmargin-bottom: 6px;\n\t\t}\n\t\t&__line-four {\n\t\t\twidth: 70%;\n\t\t\tmargin-bottom: 6px;\n\t\t}\n\t\t&__line-five {\n\t\t\twidth: 40%;\n\t\t\tmargin-bottom: 25px;\n\t\t}\n\t\t&__line-six {\n\t\t\twidth: 30%;\n\t\t}\n\t}\n\t@keyframes gradient {\n\t\t 0% {\n\t\t\t background-position: 0% 50%;\n\t\t }\n\t\t 50% {\n\t\t\t background-position: 100% 50%;\n\t\t }\n\t\t 100% {\n\t\t\t background-position: 0% 50%;\n\t\t }\n\t }\n}\n\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-loading-skeleton\"},[_c('div',{staticClass:\"message-loading-skeleton__body\"},[_c('div',{staticClass:\"message-loading-skeleton__body__line-one\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-two\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-three\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-four\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-five\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"message-loading-skeleton__body__line-six\"},[_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:[_vm.message.hasHtmlBody ? 'mail-message-body mail-message-body-html' : 'mail-message-body'],attrs:{\"role\":\"region\",\"aria-label\":_vm.t('mail','Message body')}},[(_vm.message.smime.isSigned && !_vm.message.smime.signatureIsValid)?_c('div',{staticClass:\"invalid-signature-warning\"},[_c('LockOffIcon',{staticClass:\"invalid-signature-warning__icon\",attrs:{\"size\":20,\"fill-color\":\"red\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Warning: The S/MIME signature of this message is  unverified. The sender might be impersonating someone!'))+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.itineraries.length > 0)?_c('div',{staticClass:\"message-itinerary\"},[_c('Itinerary',{attrs:{\"entries\":_vm.itineraries,\"message-id\":_vm.message.messageId}})],1):_vm._e(),_vm._v(\" \"),(_vm.message.scheduling.length > 0)?_c('div',{staticClass:\"message-imip\"},_vm._l((_vm.message.scheduling),function(scheduling){return _c('Imip',{key:scheduling.id,attrs:{\"scheduling\":scheduling}})}),1):_vm._e(),_vm._v(\" \"),(_vm.message.hasHtmlBody)?_c('MessageHTMLBody',{attrs:{\"url\":_vm.htmlUrl,\"message\":_vm.message,\"full-height\":_vm.fullHeight},on:{\"load\":function($event){return _vm.$emit('load', $event)}}}):(_vm.isEncrypted)?_c('MessageEncryptedBody',{attrs:{\"body\":_vm.message.body,\"from\":_vm.from,\"message\":_vm.message}}):_c('MessagePlainTextBody',{attrs:{\"body\":_vm.message.body,\"signature\":_vm.message.signature,\"message\":_vm.message}}),_vm._v(\" \"),_c('MessageAttachments',{attrs:{\"attachments\":_vm.message.attachments,\"envelope\":_vm.envelope}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"reply-composer\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<Actions v-if=\"calendars.length\">\n\t\t<template #icon>\n\t\t\t<IconAdd :size=\"20\" />\n\t\t</template>\n\t\t<ActionButton\n\t\t\tv-for=\"(calendar, idx) in cals\"\n\t\t\t:key=\"idx\"\n\t\t\t@click=\"onImport(calendar)\">\n\t\t\t<template #icon>\n\t\t\t\t<IconLoading v-if=\"calendar.loading\" :size=\"20\" />\n\t\t\t\t<IconAdd v-else :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Import into {calendar}', {calendar: calendar.displayname}) }}\n\t\t</ActionButton>\n\t</Actions>\n</template>\n\n<script>\n\nimport { NcActions as Actions, NcActionButton as ActionButton, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\n\nimport IconAdd from 'vue-material-design-icons/Plus'\nimport ical from 'ical.js'\nimport moment from '@nextcloud/moment'\n\nexport default {\n\tname: 'CalendarImport',\n\tcomponents: {\n\t\tActions,\n\t\tActionButton,\n\t\tIconAdd,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\thandler: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcals() {\n\t\t\treturn this.calendars.map((original) => {\n\t\t\t\tthis.$set(original, 'loading', false)\n\t\t\t\treturn original\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tonImport(calendar) {\n\t\t\tcalendar.loading = true\n\n\t\t\tthis.handler(calendar)\n\t\t\t\t.catch(console.error.bind(this))\n\t\t\t\t.then(() => {\n\t\t\t\t\tcalendar.loading = false\n\t\t\t\t})\n\t\t},\n\t},\n\n\titineraryDateTime(dt) {\n\t\tif (typeof dt === 'string') {\n\t\t\treturn dt\n\t\t}\n\t\treturn dt['@value']\n\t},\n\n\taddIcalTimeProperty(icalEvent, itineraryDt, icalPropertyName) {\n\t\tconst t = moment(this.itineraryDateTime(itineraryDt)).format()\n\t\tconst prop = icalEvent.updatePropertyWithValue(icalPropertyName, ical.Time.fromDateTimeString(t))\n\t\tif (typeof itineraryDt !== 'string') {\n\t\t\tprop.setParameter('TZID', itineraryDt.timezone)\n\t\t}\n\t},\n}\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarImport.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarImport.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CalendarImport.vue?vue&type=template&id=d2c71462&scoped=true\"\nimport script from \"./CalendarImport.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarImport.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2c71462\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.calendars.length)?_c('Actions',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2388353250)},[_vm._v(\" \"),_vm._l((_vm.cals),function(calendar,idx){return _c('ActionButton',{key:idx,on:{\"click\":function($event){return _vm.onImport(calendar)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(calendar.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Import into {calendar}', {calendar: calendar.displayname}))+\"\\n\\t\")])})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=script&lang=js\"","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div class=\"reservation\">\n\t\t<div class=\"event\">\n\t\t\t<div class=\"event-name\">\n\t\t\t\t{{ eventName }}\n\t\t\t</div>\n\t\t\t<div v-if=\"location\" class=\"venue\">\n\t\t\t\t{{ location }}\n\t\t\t</div>\n\t\t\t<div v-if=\"date\">\n\t\t\t\t{{ date }}\n\t\t\t</div>\n\t\t\t<div v-if=\"time\">\n\t\t\t\t{{ time }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CalendarImport v-if=\"canImport\" :calendars=\"calendars\" :handler=\"handleImport\" />\n\t</div>\n</template>\n\n<script>\nimport ical from 'ical.js'\nimport md5 from 'md5'\nimport moment from '@nextcloud/moment'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nimport CalendarImport from './CalendarImport.vue'\nimport { importCalendarEvent } from '../../service/DAVService.js'\nimport logger from '../../logger.js'\n\nexport default {\n\tname: 'EventReservation',\n\tcomponents: { CalendarImport },\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\teventName() {\n\t\t\treturn this.data.reservationFor.name\n\t\t},\n\t\ttime() {\n\t\t\tif (!('startDate' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('LT')\n\t\t},\n\t\tdate() {\n\t\t\tif (!('startDate' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format('L')\n\t\t},\n\t\tlocation() {\n\t\t\tif (!('location' in this.data.reservationFor) || !('name' in this.data.reservationFor.location)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn this.data.reservationFor.location.name\n\t\t},\n\t\tcanImport() {\n\t\t\treturn 'startDate' in this.data.reservationFor\n\t\t},\n\t},\n\tmethods: {\n\t\tgetEndDateTime(event) {\n\t\t\tif ('endDate' in this.data.reservationFor) {\n\t\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.endDate)).format()\n\t\t\t} else if ('startDate' in this.data.reservationFor) {\n\t\t\t\t// Assume it's 2h and user will adjust if necessary\n\t\t\t\t// TODO: handle 'duration' https://schema.org/Event\n\t\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).add(2, 'hours').format()\n\t\t\t}\n\t\t},\n\t\thandleImport(calendar) {\n\t\t\tconst event = new ical.Component('VEVENT')\n\t\t\tevent.updatePropertyWithValue('SUMMARY', this.eventName)\n\n\t\t\tconst start = moment(CalendarImport.itineraryDateTime(this.data.reservationFor.startDate)).format()\n\t\t\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(start))\n\t\t\tconst end = this.getEndDateTime(this.data.reservationFor)\n\t\t\tevent.updatePropertyWithValue('DTEND', ical.Time.fromDateTimeString(end))\n\n\t\t\tif ('location' in this.data.reservationFor) {\n\t\t\t\tevent.updatePropertyWithValue('LOCATION', this.data.reservationFor.location.name)\n\t\t\t\tif ('geo' in this.data.reservationFor.location) {\n\t\t\t\t\t// https://www.kanzaki.com/docs/ical/geo.html\n\t\t\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t\t\t'GEO',\n\t\t\t\t\t\t`${this.data.reservationFor.location.geo.latitude};${this.data.reservationFor.location.geo.longitude}`\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// TODO: read version from package.json\n\t\t\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\n\n\t\t\t// TODO: is this free of collisions? the bug reports will tell us!\n\t\t\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.eventName))\n\n\t\t\tconst cal = new ical.Component('VCALENDAR')\n\t\t\tcal.addSubcomponent(event)\n\t\t\tlogger.debug('generated calendar event from event reservation data', { ical: cal.toString() })\n\t\t\treturn importCalendarEvent(calendar.url)(cal.toString())\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug('event successfully imported')\n\t\t\t\t\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Could not import event', { error })\n\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.reservation {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n\n.event {\n\tflex-grow: 1;\n}\n\n.event-name {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=style&index=0&id=0f9c598a&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventReservation.vue?vue&type=style&index=0&id=0f9c598a&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EventReservation.vue?vue&type=template&id=0f9c598a&scoped=true\"\nimport script from \"./EventReservation.vue?vue&type=script&lang=js\"\nexport * from \"./EventReservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./EventReservation.vue?vue&type=style&index=0&id=0f9c598a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f9c598a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('div',{staticClass:\"event\"},[_c('div',{staticClass:\"event-name\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.eventName)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.location)?_c('div',{staticClass:\"venue\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.location)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.date)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.date)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.time)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.time)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),(_vm.canImport)?_c('CalendarImport',{attrs:{\"calendars\":_vm.calendars,\"handler\":_vm.handleImport}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('div',{staticClass:\"departure\"},[_c('div',{staticClass:\"iata\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.departureAirport.iataCode)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"airport\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.departureAirport.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.departureDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.departureTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"connection\"},[_c('div',[_c('AirplaneIcon',{attrs:{\"title\":_vm.t('mail', 'Airplane')}})],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.flightNumber))]),_vm._v(\" \"),(_vm.reservation)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reservation {id}', {id: _vm.reservation}))+\"\\n\\t\\t\")]):_c('div',[_c('ArrowIcon',{attrs:{\"decorative\":\"\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"arrival\"},[_c('div',{staticClass:\"iata\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.arrivalAirport.iataCode)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"airport\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.arrivalAirport.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.arrivalDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.arrivalTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('CalendarImport',{attrs:{\"calendars\":_vm.calendars,\"handler\":_vm.handleImport}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"reservation\">\n\t\t<div class=\"departure\">\n\t\t\t<div class=\"iata\">\n\t\t\t\t{{ data.reservationFor.departureAirport.iataCode }}\n\t\t\t</div>\n\t\t\t<div class=\"airport\">\n\t\t\t\t{{ data.reservationFor.departureAirport.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureDate\">\n\t\t\t\t{{ departureDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureTime\">\n\t\t\t\t{{ departureTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"connection\">\n\t\t\t<div><AirplaneIcon :title=\"t('mail', 'Airplane')\" /></div>\n\t\t\t<div>{{ flightNumber }}</div>\n\t\t\t<div v-if=\"reservation\">\n\t\t\t\t{{ t('mail', 'Reservation {id}', {id: reservation}) }}\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<ArrowIcon decorative />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"arrival\">\n\t\t\t<div class=\"iata\">\n\t\t\t\t{{ data.reservationFor.arrivalAirport.iataCode }}\n\t\t\t</div>\n\t\t\t<div class=\"airport\">\n\t\t\t\t{{ data.reservationFor.arrivalAirport.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalDate\">\n\t\t\t\t{{ arrivalDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalTime\">\n\t\t\t\t{{ arrivalTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CalendarImport :calendars=\"calendars\" :handler=\"handleImport\" />\n\t</div>\n</template>\n\n<script>\nimport AirplaneIcon from 'vue-material-design-icons/Airplane'\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight'\nimport ical from 'ical.js'\nimport md5 from 'md5'\nimport moment from '@nextcloud/moment'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nimport CalendarImport from './CalendarImport.vue'\nimport { importCalendarEvent } from '../../service/DAVService.js'\nimport logger from '../../logger.js'\n\nexport default {\n\tname: 'FlightReservation',\n\tcomponents: {\n\t\tAirplaneIcon,\n\t\tArrowIcon,\n\t\tCalendarImport,\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tdepartureTime() {\n\t\t\tif (!('departureTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\n\t\t},\n\t\tdepartureDate() {\n\t\t\tif (!('departureTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\n\t\t},\n\t\tarrivalTime() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\n\t\t},\n\t\tarrivalDate() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\n\t\t},\n\t\tflightNumber() {\n\t\t\treturn this.data.reservationFor.airline.iataCode + this.data.reservationFor.flightNumber\n\t\t},\n\t\treservation() {\n\t\t\tif (!('reservationNumber' in this.data)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn this.data.reservationNumber\n\t\t},\n\t\tcanImport() {\n\t\t\treturn 'departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor\n\t\t},\n\t},\n\tmethods: {\n\t\thandleImport(calendar) {\n\t\t\tconst event = new ical.Component('VEVENT')\n\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t'SUMMARY',\n\t\t\t\tt('mail', 'Flight {flightNr} from {depAirport} to {arrAirport}', {\n\t\t\t\t\tflightNr: this.flightNumber,\n\t\t\t\t\tdepAirport: this.data.reservationFor.departureAirport.iataCode,\n\t\t\t\t\tarrAirport: this.data.reservationFor.arrivalAirport.iataCode,\n\t\t\t\t})\n\t\t\t)\n\n\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\n\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\n\n\t\t\t// TODO: read version from package.json\n\t\t\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\n\n\t\t\t// TODO: is this free of collisions? the bug reports will tell us!\n\t\t\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.flightNumber))\n\n\t\t\tconst cal = new ical.Component('VCALENDAR')\n\t\t\tcal.addSubcomponent(event)\n\t\t\tlogger.debug('generated calendar event from flight reservation data', { ical: cal.toString() })\n\n\t\t\treturn importCalendarEvent(calendar.url)(cal.toString())\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug('event successfully imported')\n\t\t\t\t\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Could not import event', { error })\n\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.reservation {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n\n.departure,\n.arrival {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n\n.departure,\n.arrival,\n.connection {\n\tjustify-content: center;\n}\n\n.iata {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n\n.airport {\n\tfont-size: large;\n}\n\n.departure {\n\ttext-align: right;\n}\n\n.connection {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=style&index=0&id=5466bd04&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlightReservation.vue?vue&type=style&index=0&id=5466bd04&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FlightReservation.vue?vue&type=template&id=5466bd04&scoped=true\"\nimport script from \"./FlightReservation.vue?vue&type=script&lang=js\"\nexport * from \"./FlightReservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./FlightReservation.vue?vue&type=style&index=0&id=5466bd04&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5466bd04\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('div',{staticClass:\"departure\"},[_c('div',{staticClass:\"station\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.departureStation.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.departureDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.departureTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.departureTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"connection\"},[_c('div',[_c('TrainIcon',{attrs:{\"title\":_vm.t('mail', 'Train')}})],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.trainNumber))]),_vm._v(\" \"),_c('div',[_c('ArrowIcon',{attrs:{\"decorative\":\"\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"arrival\"},[_c('div',{staticClass:\"station\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.data.reservationFor.arrivalStation.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.arrivalDate)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalDate)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.arrivalTime)?_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.arrivalTime)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),(_vm.canImport)?_c('CalendarImport',{attrs:{\"calendars\":_vm.calendars,\"handler\":_vm.handleImport}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"reservation\">\n\t\t<div class=\"departure\">\n\t\t\t<div class=\"station\">\n\t\t\t\t{{ data.reservationFor.departureStation.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureDate\">\n\t\t\t\t{{ departureDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"departureTime\">\n\t\t\t\t{{ departureTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"connection\">\n\t\t\t<div><TrainIcon :title=\"t('mail', 'Train')\" /></div>\n\t\t\t<div>{{ trainNumber }}</div>\n\t\t\t<div><ArrowIcon decorative /></div>\n\t\t</div>\n\t\t<div class=\"arrival\">\n\t\t\t<div class=\"station\">\n\t\t\t\t{{ data.reservationFor.arrivalStation.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalDate\">\n\t\t\t\t{{ arrivalDate }}\n\t\t\t</div>\n\t\t\t<div v-if=\"arrivalTime\">\n\t\t\t\t{{ arrivalTime }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CalendarImport v-if=\"canImport\" :calendars=\"calendars\" :handler=\"handleImport\" />\n\t</div>\n</template>\n\n<script>\nimport ArrowIcon from 'vue-material-design-icons/ArrowRight'\nimport ical from 'ical.js'\nimport md5 from 'md5'\nimport moment from '@nextcloud/moment'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport TrainIcon from 'vue-material-design-icons/Train'\n\nimport CalendarImport from './CalendarImport.vue'\nimport { importCalendarEvent } from '../../service/DAVService.js'\nimport logger from '../../logger.js'\n\nexport default {\n\tname: 'TrainReservation',\n\tcomponents: {\n\t\tArrowIcon,\n\t\tCalendarImport,\n\t\tTrainIcon,\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcalendars: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tdepartureTime() {\n\t\t\tif (!('departureTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('LT')\n\t\t},\n\t\tdepartureDate() {\n\t\t\tif ('departureTime' in this.data.reservationFor) {\n\t\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.departureTime)).format('L')\n\t\t\t}\n\t\t\tif ('departureDay' in this.data.reservationFor) {\n\t\t\t\treturn moment(this.data.reservationFor.departureDay).format('L')\n\t\t\t}\n\t\t\treturn undefined\n\t\t},\n\t\tarrivalTime() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('LT')\n\t\t},\n\t\tarrivalDate() {\n\t\t\tif (!('arrivalTime' in this.data.reservationFor)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn moment(CalendarImport.itineraryDateTime(this.data.reservationFor.arrivalTime)).format('L')\n\t\t},\n\t\ttrainNumber() {\n\t\t\treturn this.data.reservationFor.trainNumber\n\t\t},\n\t\tcanImport() {\n\t\t\treturn (\n\t\t\t\t('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor)\n\t\t\t\t|| 'departureDay' in this.data.reservationFor\n\t\t\t)\n\t\t},\n\t},\n\tmethods: {\n\t\thandleImport(calendar) {\n\t\t\tconst event = new ical.Component('VEVENT')\n\t\t\tif ('trainNumber' in this.data.reservationFor) {\n\t\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t\t'SUMMARY',\n\t\t\t\t\tt('mail', '{trainNr} from {depStation} to {arrStation}', {\n\t\t\t\t\t\ttrainNr: this.data.reservationFor.trainNumber,\n\t\t\t\t\t\tdepStation: this.data.reservationFor.departureStation.name,\n\t\t\t\t\t\tarrStation: this.data.reservationFor.arrivalStation.name,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tevent.updatePropertyWithValue(\n\t\t\t\t\t'SUMMARY',\n\t\t\t\t\tt('mail', 'Train from {depStation} to {arrStation}', {\n\t\t\t\t\t\tdepStation: this.data.reservationFor.departureStation.name,\n\t\t\t\t\t\tarrStation: this.data.reservationFor.arrivalStation.name,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif ('departureTime' in this.data.reservationFor && 'arrivalTime' in this.data.reservationFor) {\n\t\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.departureTime, 'DTSTART')\n\t\t\t\tCalendarImport.addIcalTimeProperty(event, this.data.reservationFor.arrivalTime, 'DTEND')\n\t\t\t} else if ('departureDay' in this.data.reservationFor) {\n\t\t\t\tconst date = moment(this.data.reservationFor.departureDay).format()\n\t\t\t\tevent.updatePropertyWithValue('DTSTART', ical.Time.fromDateTimeString(date))\n\t\t\t}\n\n\t\t\t// TODO: read version from package.json\n\t\t\tevent.updatePropertyWithValue('PRODID', 'Nextcloud Mail')\n\n\t\t\t// TODO: is this free of collisions? the bug reports will tell us!\n\t\t\tevent.updatePropertyWithValue('UID', md5(this.messageId + this.departureTime))\n\n\t\t\tconst cal = new ical.Component('VCALENDAR')\n\t\t\tcal.addSubcomponent(event)\n\t\t\tlogger.debug('generated calendar event from train reservation data', { ical: cal.toString() })\n\n\t\t\treturn importCalendarEvent(calendar.url)(cal.toString())\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.debug('event successfully imported')\n\t\t\t\t\tshowSuccess(t('mail', 'Event imported into {calendar}', { calendar: calendar.displayname }))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Could not import event', { error })\n\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.reservation {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 30px 38px;\n\tborder: 1px solid var(--color-border);\n\tborder-radius: var(--border-radius);\n\tpadding: 20px;\n\talign-items: center;\n}\n\n.departure,\n.arrival {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n\n.departure,\n.arrival,\n.connection {\n\tjustify-content: center;\n}\n\n.station {\n\tfont-size: larger;\n\tfont-weight: bold;\n}\n\n.departure {\n\ttext-align: right;\n}\n\n.connection {\n\ttext-align: center;\n\tpadding: 0 40px;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=style&index=0&id=7774c905&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainReservation.vue?vue&type=style&index=0&id=7774c905&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TrainReservation.vue?vue&type=template&id=7774c905&scoped=true\"\nimport script from \"./TrainReservation.vue?vue&type=script&lang=js\"\nexport * from \"./TrainReservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./TrainReservation.vue?vue&type=style&index=0&id=7774c905&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7774c905\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<template v-for=\"(entry, idx) in entries\">\n\t\t\t<EventReservation\n\t\t\t\tv-if=\"entry['@type'] === 'EventReservation'\"\n\t\t\t\t:key=\"idx\"\n\t\t\t\t:data=\"entry\"\n\t\t\t\t:calendars=\"calendars\"\n\t\t\t\t:message-id=\"messageId\" />\n\t\t\t<FlightReservation\n\t\t\t\tv-else-if=\"entry['@type'] === 'FlightReservation'\"\n\t\t\t\t:key=\"idx\"\n\t\t\t\t:data=\"entry\"\n\t\t\t\t:calendars=\"calendars\"\n\t\t\t\t:message-id=\"messageId\" />\n\t\t\t<TrainReservation\n\t\t\t\tv-else-if=\"entry['@type'] === 'TrainReservation'\"\n\t\t\t\t:key=\"idx\"\n\t\t\t\t:data=\"entry\"\n\t\t\t\t:calendars=\"calendars\"\n\t\t\t\t:message-id=\"messageId\" />\n\t\t\t<span v-else :key=\"idx\">{{\n\t\t\t\tt('mail', 'Itinerary for {type} is not supported yet', {type: entry['@type']})\n\t\t\t}}</span>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport once from 'lodash/fp/once'\n\nimport { getUserCalendars } from '../service/DAVService.js'\nimport logger from '../logger.js'\nimport EventReservation from './itinerary/EventReservation.vue'\nimport FlightReservation from './itinerary/FlightReservation.vue'\nimport TrainReservation from './itinerary/TrainReservation.vue'\n\nconst getUserCalendarsOnce = once(getUserCalendars)\n\nexport default {\n\tname: 'Itinerary',\n\tcomponents: {\n\t\tEventReservation,\n\t\tFlightReservation,\n\t\tTrainReservation,\n\t},\n\tprops: {\n\t\tentries: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcalendars: [],\n\t\t}\n\t},\n\tmounted() {\n\t\tgetUserCalendarsOnce()\n\t\t\t.then((calendars) => (this.calendars = calendars))\n\t\t\t.catch((error) => logger.error('Could not load calendars', { error }))\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Itinerary.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Itinerary.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Itinerary.vue?vue&type=template&id=17bccea1\"\nimport script from \"./Itinerary.vue?vue&type=script&lang=js\"\nexport * from \"./Itinerary.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.entries),function(entry,idx){return [(entry['@type'] === 'EventReservation')?_c('EventReservation',{key:idx,attrs:{\"data\":entry,\"calendars\":_vm.calendars,\"message-id\":_vm.messageId}}):(entry['@type'] === 'FlightReservation')?_c('FlightReservation',{key:idx,attrs:{\"data\":entry,\"calendars\":_vm.calendars,\"message-id\":_vm.messageId}}):(entry['@type'] === 'TrainReservation')?_c('TrainReservation',{key:idx,attrs:{\"data\":entry,\"calendars\":_vm.calendars,\"message-id\":_vm.messageId}}):_c('span',{key:idx},[_vm._v(_vm._s(_vm.t('mail', 'Itinerary for {type} is not supported yet', {type: entry['@type']})))])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.attachments.length > 0)?_c('div',{staticClass:\"mail-message-attachments\",class:_vm.hasNextLine ? 'has-next-line' : ''},[_c('div',{staticClass:\"mail-message-attachments--wrapper\",class:(_vm.hasNextLine === true && _vm.isToggled === true) ? 'hide' : ''},[_c('div',{staticClass:\"attachments\"},_vm._l((_vm.attachments),function(attachment,idx){return _c('MessageAttachment',{key:attachment.id,ref:\"attachments\",refInFor:true,attrs:{\"id\":attachment.id,\"file-name\":attachment.fileName,\"size\":attachment.size,\"url\":attachment.downloadUrl,\"is-image\":attachment.isImage,\"is-calendar-event\":attachment.isCalendarEvent,\"mime\":attachment.mime,\"mime-url\":attachment.mimeUrl,\"can-preview\":_vm.canPreview(_vm.fileInfos[idx])},on:{\"open\":function($event){return _vm.showViewer(_vm.fileInfos[idx])}}})}),1)]),_vm._v(\" \"),(_vm.hasNextLine)?_c('div',{staticClass:\"show-more-attachments\",on:{\"click\":function($event){_vm.isToggled = !_vm.isToggled}}},[(_vm.isToggled)?_c('ChevronDown',{attrs:{\"size\":24}}):_vm._e(),_vm._v(\" \"),(!_vm.isToggled)?_c('ChevronUp',{attrs:{\"size\":24}}):_vm._e(),_vm._v(\" \"),(_vm.isToggled)?_c('span',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.n('mail', 'View {count} more attachment', 'View {count} more attachments', (_vm.attachments.length - _vm.visible), { count: _vm.attachments.length - _vm.visible }))+\"\\n\\t\\t\")]):_c('span',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'View fewer attachments'))+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.moreThanOne)?_c('p',{staticClass:\"attachments-button-wrapper\"},[_c('span',{staticClass:\"attachment-link\",attrs:{\"disabled\":_vm.savingToCloud},on:{\"click\":_vm.saveAll}},[(!_vm.savingToCloud)?_c('CloudDownload',{attrs:{\"size\":18}}):_c('IconLoading',{staticClass:\"spin\",attrs:{\"size\":18}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Save all to Files'))+\"\\n\\t\\t\")],1),_vm._v(\" \"),_c('span',{staticClass:\"attachment-link\",on:{\"click\":_vm.downloadZip}},[_c('Download',{attrs:{\"size\":18}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download Zip'))+\"\\n\\t\\t\")],1)]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div class=\"attachment\" :class=\"{'message-attachment--can-preview': canPreview }\">\n\t\t<div class=\"mail-attachment-img--wrapper\" @click=\"$emit('open', $event)\">\n\t\t\t<img v-if=\"isImage\"\n\t\t\t\tclass=\"mail-attached-image\"\n\t\t\t\t:src=\"url\">\n\t\t\t<img v-else class=\"attachment-icon\" :src=\"mimeUrl\">\n\t\t</div>\n\t\t<div class=\"mail-attached--content\" @click=\"$emit('open', $event)\">\n\t\t\t<span class=\"attachment-name\"\n\t\t\t\t:title=\"label\">{{ name }}\n\t\t\t</span>\n\t\t\t<span class=\"attachment-size\">{{ humanReadable(size) }}</span>\n\t\t</div>\n\t\t<Actions :boundaries-element=\"boundariesElement\">\n\t\t\t<template v-if=\"!showCalendarPopover\">\n\t\t\t\t<ActionButton\n\t\t\t\t\tv-if=\"isCalendarEvent\"\n\t\t\t\t\tclass=\"attachment-import calendar\"\n\t\t\t\t\t:disabled=\"loadingCalendars\"\n\t\t\t\t\t@click.stop=\"loadCalendars\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconAdd v-if=\"!loadingCalendars\" :size=\"20\" />\n\t\t\t\t\t\t<IconLoading v-else-if=\"loadingCalendars\" :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Import into calendar') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton\n\t\t\t\t\tclass=\"attachment-download\"\n\t\t\t\t\t@click=\"download\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconDownload :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Download attachment') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton\n\t\t\t\t\tclass=\"attachment-save-to-cloud\"\n\t\t\t\t\t:disabled=\"savingToCloud\"\n\t\t\t\t\t@click.stop=\"saveToCloud\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconSave v-if=\"!savingToCloud\" :size=\"20\" />\n\t\t\t\t\t\t<IconLoading v-else-if=\"savingToCloud\" :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Save to Files') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<ActionButton\n\t\t\t\t\t@click=\"closeCalendarPopover\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconArrow :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Go back') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-for=\"entry in calendarMenuEntries\"\n\t\t\t\t\t:key=\"entry.text\"\n\t\t\t\t\t@click=\"entry.action\">\n\t\t\t\t\t{{ entry.text }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t</Actions>\n\t</div>\n</template>\n\n<script>\n\nimport { formatFileSize } from '@nextcloud/files'\nimport { translate as t } from '@nextcloud/l10n'\nimport { getFilePickerBuilder, showError, showSuccess } from '@nextcloud/dialogs'\nimport { mixin as onClickOutside } from 'vue-on-click-outside'\n\nimport { NcActions as Actions, NcActionButton as ActionButton, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\n\nimport IconAdd from 'vue-material-design-icons/Plus'\nimport IconArrow from 'vue-material-design-icons/ArrowLeft'\nimport IconSave from 'vue-material-design-icons/Folder'\nimport IconDownload from 'vue-material-design-icons/Download'\nimport Logger from '../logger.js'\n\nimport { downloadAttachment, saveAttachmentToFiles } from '../service/AttachmentService.js'\nimport { getUserCalendars, importCalendarEvent } from '../service/DAVService.js'\n\nexport default {\n\tname: 'MessageAttachment',\n\tcomponents: {\n\t\tActions,\n\t\tActionButton,\n\t\tIconAdd,\n\t\tIconArrow,\n\t\tIconLoading,\n\t\tIconSave,\n\t\tIconDownload,\n\t},\n\tmixins: [onClickOutside],\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tfileName: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Unnamed'),\n\t\t\trequired: false,\n\t\t},\n\t\turl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tmime: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmimeUrl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tisImage: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisCalendarEvent: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcanPreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsavingToCloud: false,\n\t\t\tloadingCalendars: false,\n\t\t\tcalendars: [],\n\t\t\tshowCalendarPopover: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tname() {\n\t\t\tif (this.mime === 'message/rfc822') {\n\t\t\t\treturn t('mail', 'Embedded message')\n\t\t\t}\n\t\t\treturn this.fileName\n\t\t},\n\t\tlabel() {\n\t\t\tif (this.mime === 'message/rfc822') {\n\t\t\t\treturn t('mail', 'Embedded message') + ' (' + formatFileSize(this.size) + ')'\n\t\t\t}\n\t\t\treturn this.fileName + ' (' + formatFileSize(this.size) + ')'\n\t\t},\n\t\tcalendarMenuEntries() {\n\t\t\treturn this.calendars.map((cal) => {\n\t\t\t\treturn {\n\t\t\t\t\ttext: cal.displayname,\n\t\t\t\t\taction: this.importCalendar(cal.url),\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tboundariesElement() {\n\t\t\treturn document.querySelector('#content-vue')\n\t\t},\n\t},\n\tmethods: {\n\t\thumanReadable(size) {\n\t\t\treturn formatFileSize(size)\n\t\t},\n\t\tsaveToCloud() {\n\t\t\tconst saveAttachment = (id, attachmentId) => (directory) => {\n\t\t\t\treturn saveAttachmentToFiles(id, attachmentId, directory)\n\t\t\t}\n\t\t\tconst id = this.$route.params.threadId\n\t\t\tconst picker = getFilePickerBuilder(t('mail', 'Choose a folder to store the attachment in'))\n\t\t\t\t.setMultiSelect(false)\n\t\t\t\t.addMimeTypeFilter('httpd/unix-directory')\n\t\t\t\t.setModal(true)\n\t\t\t\t.setType(1)\n\t\t\t\t.allowDirectories(true)\n\t\t\t\t.build()\n\n\t\t\treturn picker\n\t\t\t\t.pick()\n\t\t\t\t.then((dest) => {\n\t\t\t\t\tthis.savingToCloud = true\n\t\t\t\t\treturn dest\n\t\t\t\t})\n\t\t\t\t.then(saveAttachment(id, this.id))\n\t\t\t\t.then(() => Logger.info('saved'))\n\t\t\t\t.catch((e) => Logger.error('not saved', { error: e }))\n\t\t\t\t.then(() => (this.savingToCloud = false))\n\t\t},\n\t\tdownload() {\n\t\t\twindow.location = this.url\n\t\t},\n\t\tloadCalendars() {\n\t\t\tthis.loadingCalendars = true\n\t\t\tgetUserCalendars().then((calendars) => {\n\t\t\t\tthis.calendars = calendars\n\t\t\t\tthis.showCalendarPopover = true\n\t\t\t\tthis.loadingCalendars = false\n\t\t\t})\n\t\t},\n\t\tcloseCalendarPopover() {\n\t\t\tthis.showCalendarPopover = false\n\t\t},\n\t\timportCalendar(url) {\n\t\t\treturn () => {\n\t\t\t\tdownloadAttachment(this.url)\n\t\t\t\t\t.then(importCalendarEvent(url))\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tshowSuccess(t('mail', 'calendar imported'))\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tLogger.error('Could not import event', { error })\n\t\t\t\t\t\tshowError(t('mail', 'Could not create event'))\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => (this.showCalendarPopover = false))\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n@media screen and (max-width: 1024px) {\n\t.attachment{\n\t\twidth: 100% !important;\n\t}\n}\n\n@media screen and (min-width: 1025px) and (max-width: 1500px) {\n\t.attachment{\n\t\twidth: calc(50% - 4px)!important;\n\t}\n}\n\n.attachment {\n\theight: auto;\n    display: inline-flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\twidth: calc(33.3334% - 4px);\n    margin: 2px;\n\tpadding: 5px;\n    position: relative;\n    align-items: center;\n\tflex-grow: 1;\n\n\t&:hover {\n\t\tborder-radius: 6px;\n\t}\n}\n\n.attachment:hover,\n.attachment span:hover {\n\tbackground-color: var(--color-background-hover);\n\n\t&.message-attachment--can-preview * {\n\t\tcursor: pointer;\n\t}\n}\n\n.mail-attachment-img--wrapper {\n\theight: 44px;\n\twidth: 44px;\n\toverflow: hidden;\n\tdisplay:flex;\n\tjustify-content: center;\n\tposition: relative;\n\tborder-radius: 6px;\n\n\timg {\n\t\ttransition: 0.3s;\n\t\topacity: 1;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t}\n\n\t.mail-attached-image {\n\t\twidth: 100px;\n\t}\n}\n\n.mail-attached--content {\n\twidth: calc(100% - 100px);\n\tdisplay: flex;\n    flex-direction: column;\n}\n\n.mail-attached-image {\n\tdisplay: block;\n\tmax-width: 100%;\n\tborder-radius: var(--border-radius);\n}\n.attachment-import-popover {\n\tright: 32px;\n\ttop: 42px;\n}\n.mail-attached-image:hover {\n\topacity: 0.8;\n}\n.attachment-name {\n\tdisplay: inline-block;\n\twidth: 100%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tvertical-align: middle;\n}\n\n/* show attachment size less prominent */\n.attachment-size {\n\t-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)';\n\topacity: 0.5;\n\tfont-size: 12px;\n\tline-height: 14px;\n}\n\n.attachment-icon {\n\tvertical-align: middle;\n\ttext-align: left;\n\tmargin-bottom: 20px;\n}\n.action-item {\n\ttransition: 0.4s;\n}\n.mail-message-attachments {\n\toverflow-x: auto;\n\toverflow-y: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=style&index=0&id=6efcdf3a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachment.vue?vue&type=style&index=0&id=6efcdf3a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageAttachment.vue?vue&type=template&id=6efcdf3a&scoped=true\"\nimport script from \"./MessageAttachment.vue?vue&type=script&lang=js\"\nexport * from \"./MessageAttachment.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageAttachment.vue?vue&type=style&index=0&id=6efcdf3a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6efcdf3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"attachment\",class:{'message-attachment--can-preview': _vm.canPreview }},[_c('div',{staticClass:\"mail-attachment-img--wrapper\",on:{\"click\":function($event){return _vm.$emit('open', $event)}}},[(_vm.isImage)?_c('img',{staticClass:\"mail-attached-image\",attrs:{\"src\":_vm.url}}):_c('img',{staticClass:\"attachment-icon\",attrs:{\"src\":_vm.mimeUrl}})]),_vm._v(\" \"),_c('div',{staticClass:\"mail-attached--content\",on:{\"click\":function($event){return _vm.$emit('open', $event)}}},[_c('span',{staticClass:\"attachment-name\",attrs:{\"title\":_vm.label}},[_vm._v(_vm._s(_vm.name)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"attachment-size\"},[_vm._v(_vm._s(_vm.humanReadable(_vm.size)))])]),_vm._v(\" \"),_c('Actions',{attrs:{\"boundaries-element\":_vm.boundariesElement}},[(!_vm.showCalendarPopover)?[(_vm.isCalendarEvent)?_c('ActionButton',{staticClass:\"attachment-import calendar\",attrs:{\"disabled\":_vm.loadingCalendars},on:{\"click\":function($event){$event.stopPropagation();return _vm.loadCalendars.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.loadingCalendars)?_c('IconAdd',{attrs:{\"size\":20}}):(_vm.loadingCalendars)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}],null,false,3426611203)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Import into calendar'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{staticClass:\"attachment-download\",on:{\"click\":_vm.download},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDownload',{attrs:{\"size\":20}})]},proxy:true}],null,false,2487097783)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download attachment'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{staticClass:\"attachment-save-to-cloud\",attrs:{\"disabled\":_vm.savingToCloud},on:{\"click\":function($event){$event.stopPropagation();return _vm.saveToCloud.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.savingToCloud)?_c('IconSave',{attrs:{\"size\":20}}):(_vm.savingToCloud)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}],null,false,3734485603)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Save to Files'))+\"\\n\\t\\t\\t\")])]:[_c('ActionButton',{on:{\"click\":_vm.closeCalendarPopover},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconArrow',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Go back'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.calendarMenuEntries),function(entry){return _c('ActionButton',{key:entry.text,on:{\"click\":entry.action}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(entry.text)+\"\\n\\t\\t\\t\")])})]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div v-if=\"attachments.length > 0\" class=\"mail-message-attachments\" :class=\"hasNextLine ? 'has-next-line' : ''\">\n\t\t<div class=\"mail-message-attachments--wrapper\" :class=\"(hasNextLine === true && isToggled === true) ? 'hide' : ''\">\n\t\t\t<div class=\"attachments\">\n\t\t\t\t<MessageAttachment\n\t\t\t\t\tv-for=\"(attachment, idx) in attachments\"\n\t\t\t\t\t:id=\"attachment.id\"\n\t\t\t\t\tref=\"attachments\"\n\t\t\t\t\t:key=\"attachment.id\"\n\t\t\t\t\t:file-name=\"attachment.fileName\"\n\t\t\t\t\t:size=\"attachment.size\"\n\t\t\t\t\t:url=\"attachment.downloadUrl\"\n\t\t\t\t\t:is-image=\"attachment.isImage\"\n\t\t\t\t\t:is-calendar-event=\"attachment.isCalendarEvent\"\n\t\t\t\t\t:mime=\"attachment.mime\"\n\t\t\t\t\t:mime-url=\"attachment.mimeUrl\"\n\t\t\t\t\t:can-preview=\"canPreview(fileInfos[idx])\"\n\t\t\t\t\t@open=\"showViewer(fileInfos[idx])\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"hasNextLine\"\n\t\t\tclass=\"show-more-attachments\"\n\t\t\t@click=\"isToggled = !isToggled\">\n\t\t\t<ChevronDown v-if=\"isToggled\" :size=\"24\" />\n\t\t\t<ChevronUp v-if=\"!isToggled\" :size=\"24\" />\n\t\t\t<span v-if=\"isToggled\">\n\t\t\t\t{{ n('mail', 'View {count} more attachment', 'View {count} more attachments', (attachments.length - visible), { count: attachments.length - visible }) }}\n\t\t\t</span>\n\t\t\t<span v-else>\n\t\t\t\t{{ t('mail', 'View fewer attachments') }}\n\t\t\t</span>\n\t\t</div>\n\t\t<p v-if=\"moreThanOne\" class=\"attachments-button-wrapper\">\n\t\t\t<span class=\"attachment-link\"\n\t\t\t\t:disabled=\"savingToCloud\"\n\t\t\t\t@click=\"saveAll\">\n\t\t\t\t<CloudDownload v-if=\"!savingToCloud\" :size=\"18\" />\n\t\t\t\t<IconLoading v-else class=\"spin\" :size=\"18\" />\n\t\t\t\t{{ t('mail', 'Save all to Files') }}\n\t\t\t</span>\n\t\t\t<span class=\"attachment-link\"\n\t\t\t\t@click=\"downloadZip\">\n\t\t\t\t<Download :size=\"18\" />\n\t\t\t\t{{ t('mail', 'Download Zip') }}\n\t\t\t</span>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { basename } from '@nextcloud/paths'\nimport { NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { generateUrl } from '@nextcloud/router'\nimport { getFilePickerBuilder } from '@nextcloud/dialogs'\nimport { saveAttachmentsToFiles } from '../service/AttachmentService.js'\n\nimport MessageAttachment from './MessageAttachment.vue'\nimport Logger from '../logger.js'\n\nimport Download from 'vue-material-design-icons/Download'\nimport CloudDownload from 'vue-material-design-icons/CloudDownload'\nimport ChevronDown from 'vue-material-design-icons/ChevronDown'\nimport ChevronUp from 'vue-material-design-icons/ChevronUp'\n\nexport default {\n\tname: 'MessageAttachments',\n\tcomponents: {\n\t\tMessageAttachment,\n\t\tIconLoading,\n\t\tDownload,\n\t\tCloudDownload,\n\t\tChevronDown,\n\t\tChevronUp,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tattachments: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvisible: 0,\n\t\t\tsavingToCloud: false,\n\t\t\tshowPreview: false,\n\t\t\tattachmentImageURL: '',\n\t\t\thasNextLine: false,\n\t\t\tisToggled: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tfileInfos() {\n\t\t\treturn this.attachments.map(attachment => ({\n\t\t\t\tfilename: attachment.downloadUrl,\n\t\t\t\tsource: attachment.downloadUrl,\n\t\t\t\tbasename: basename(attachment.downloadUrl),\n\t\t\t\tmime: attachment.mime,\n\t\t\t\tetag: 'fixme',\n\t\t\t\thasPreview: false,\n\t\t\t\tfileid: parseInt(attachment.id, 10),\n\t\t\t}))\n\t\t},\n\t\tpreviewableFileInfos() {\n\t\t\treturn this.fileInfos.filter(fileInfo => (fileInfo.mime.startsWith('image/')\n\t\t\t\t\t|| fileInfo.mime.startsWith('video/')\n\t\t\t\t\t|| fileInfo.mime.startsWith('audio/')\n\t\t\t\t\t|| fileInfo.mime === 'application/pdf')\n\t\t\t\t&& OCA.Viewer.mimetypes.includes(fileInfo.mime))\n\t\t},\n\t\tmoreThanOne() {\n\t\t\treturn this.attachments.length > 1\n\t\t},\n\t\tzipUrl() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/attachments', {\n\t\t\t\tid: this.envelope.databaseId,\n\t\t\t})\n\t\t},\n\t},\n\tmounted() {\n\t\tlet prevTop = null\n\t\tthis.visible = 0\n\t\tthis.$nextTick(function() {\n\t\t\tif (this.$refs.attachments) {\n\t\t\t\tthis.$refs.attachments.some((attachment, i) => {\n\t\t\t\t\tconst top = attachment.$el.getBoundingClientRect().top\n\t\t\t\t\tif (prevTop !== null && prevTop !== top) {\n\t\t\t\t\t\tthis.isToggled = true\n\t\t\t\t\t\tthis.hasNextLine = true\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprevTop = top\n\t\t\t\t\t\tthis.visible++\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t},\n\tmethods: {\n\t\tcanPreview(fileInfo) {\n\t\t\treturn this.previewableFileInfos.includes(fileInfo)\n\t\t},\n\t\tsaveAll() {\n\t\t\tconst picker = getFilePickerBuilder(t('mail', 'Choose a folder to store the attachments in'))\n\t\t\t\t.setMultiSelect(false)\n\t\t\t\t.addMimeTypeFilter('httpd/unix-directory')\n\t\t\t\t.setModal(true)\n\t\t\t\t.setType(1)\n\t\t\t\t.allowDirectories(true)\n\t\t\t\t.build()\n\n\t\t\tconst saveAttachments = (id) => (directory) => {\n\t\t\t\treturn saveAttachmentsToFiles(id, directory)\n\t\t\t}\n\t\t\tconst id = this.$route.params.threadId\n\n\t\t\treturn picker\n\t\t\t\t.pick()\n\t\t\t\t.then((dest) => {\n\t\t\t\t\tthis.savingToCloud = true\n\t\t\t\t\treturn dest\n\t\t\t\t})\n\t\t\t\t.then(saveAttachments(id))\n\t\t\t\t.then(() => Logger.info('saved'))\n\t\t\t\t.catch((error) => Logger.error('not saved', { error }))\n\t\t\t\t.then(() => (this.savingToCloud = false))\n\t\t},\n\t\tdownloadZip() {\n\t\t\twindow.location = this.zipUrl\n\t\t},\n\t\tshowViewer(fileInfo) {\n\t\t\tif (!this.canPreview(fileInfo)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (this.previewableFileInfos.includes(fileInfo)) {\n\t\t\t\tOCA.Viewer.open({\n\t\t\t\t\tfileInfo,\n\t\t\t\t\tlist: this.previewableFileInfos,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.attachments {\n\twidth: 100%;\n    box-sizing: border-box;\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    margin: 10px 0;\n}\n\n/* show icon + text for Download all button\n\t\tas well as when there is only one attachment */\n.attachments-button-wrapper {\n\ttext-align: center;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.show-more-attachments {\n\tdisplay: flex;\n    align-items: center;\n\tcursor: pointer;\n\tpadding: 2px 0;\n\tcolor: var(--color-text-lighter);\n\n\tspan {\n\t\tcursor: pointer;\n\t}\n\n\t&:hover {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.spin {\n  animation: spin 1s linear infinite;\n}\n\n.attachment-link {\n\tcursor: pointer;\n\tdisplay:flex;\n\talign-items: center;\n\tcolor: var(--color-text-lighter);\n\n\t&:hover {\n\t\tcolor: var(--color-main-text);\n\t}\n\n\tspan {\n\t\tmargin: 0 4px 0 16px;\n\t}\n}\n\n.oc-dialog {\n\tz-index: 10000000;\n}\n.mail-message-attachments {\n\tdisplay:flex;\n\tflex-wrap: wrap;\n\tpadding: 10px 6px 10px 46px;\n\tmargin-top: 4px;\n\tmargin-bottom: 0;\n\tposition:sticky;\n\tbottom:0;\n\tbackground: linear-gradient(0deg, var(--color-main-background), var(--color-main-background) 90%, rgba(255, 255, 255, 0));\n}\n.mail-message-attachments--wrapper {\n\tdisplay:flex;\n\twidth:100%;\n\theight:auto;\n\toverflow: hidden;\n\tmax-height: none;\n}\n\n.mail-message-attachments--wrapper.hide {\n\tdisplay:flex;\n\tmax-height: 70px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=style&index=0&id=010d4df3&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAttachments.vue?vue&type=style&index=0&id=010d4df3&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageAttachments.vue?vue&type=template&id=010d4df3\"\nimport script from \"./MessageAttachments.vue?vue&type=script&lang=js\"\nexport * from \"./MessageAttachments.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageAttachments.vue?vue&type=style&index=0&id=010d4df3&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.mailvelope)?_c('div',{attrs:{\"id\":\"mail-content\"}},[_c('MdnRequest',{attrs:{\"message\":_vm.message}})],1):_c('span',[_vm._v(_vm._s(_vm.t('mail', 'This message is encrypted with PGP. Install Mailvelope to decrypt it.')))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"hasMdnRequest && !mdnSent\" class=\"mail-message-has-mdn-request\">\n\t\t{{\n\t\t\tt('mail', 'The sender of this message has asked to be notified when you read this message.')\n\t\t}}\n\t\t<button :disabled=\"loading\" @click=\"sendMdn\">\n\t\t\t{{ t('mail', 'Notify the sender') }}\n\t\t</button>\n\t</div>\n\t<div v-else-if=\"mdnSent\" class=\"mail-message-has-mdn-request\">\n\t\t{{\n\t\t\tt('mail', 'You sent a read confirmation to the sender of this message.')\n\t\t}}\n\t</div>\n</template>\n\n<script>\nimport logger from '../logger.js'\nimport { sendMdn } from '../service/MessageService.js'\nimport { showError } from '@nextcloud/dialogs'\n\nexport default {\n\tname: 'MdnRequest',\n\tprops: {\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasMdnRequest: this.message.dispositionNotificationTo && this.message.dispositionNotificationTo.length > 0,\n\t\t\tloading: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmdnSent() {\n\t\t\treturn this.message.flags.mdnsent\n\t\t},\n\t},\n\tmethods: {\n\t\tasync sendMdn() {\n\t\t\tthis.loading = true\n\t\t\tlogger.debug('send return receipt')\n\n\t\t\ttry {\n\t\t\t\tawait sendMdn(this.message.databaseId)\n\t\t\t\tthis.$store.commit('flagEnvelope', { envelope: this.message, flag: 'mdnsent', value: true })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not send mdn', error)\n\t\t\t\tshowError(t('mail', 'Could not send mdn'))\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mail-message-has-mdn-request {\n\twhite-space: normal;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=style&index=0&id=26bdaf82&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MdnRequest.vue?vue&type=style&index=0&id=26bdaf82&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MdnRequest.vue?vue&type=template&id=26bdaf82&scoped=true\"\nimport script from \"./MdnRequest.vue?vue&type=script&lang=js\"\nexport * from \"./MdnRequest.vue?vue&type=script&lang=js\"\nimport style0 from \"./MdnRequest.vue?vue&type=style&index=0&id=26bdaf82&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26bdaf82\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.hasMdnRequest && !_vm.mdnSent)?_c('div',{staticClass:\"mail-message-has-mdn-request\"},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail', 'The sender of this message has asked to be notified when you read this message.'))+\"\\n\\t\"),_c('button',{attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.sendMdn}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Notify the sender'))+\"\\n\\t\")])]):(_vm.mdnSent)?_c('div',{staticClass:\"mail-message-has-mdn-request\"},[_vm._v(\"\\n\\t\"+_vm._s(_vm.t('mail', 'You sent a read confirmation to the sender of this message.'))+\"\\n\")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=script&lang=js\"","<template>\n\t<div>\n\t\t<div v-if=\"mailvelope\" id=\"mail-content\">\n\t\t\t<MdnRequest :message=\"message\" />\n\t\t</div>\n\t\t<span v-else>{{ t('mail', 'This message is encrypted with PGP. Install Mailvelope to decrypt it.') }}</span>\n\t</div>\n</template>\n\n<script>\nimport { getMailvelope } from '../crypto/mailvelope.js'\nimport MdnRequest from './MdnRequest.vue'\n\nexport default {\n\tname: 'MessageEncryptedBody',\n\tcomponents: { MdnRequest },\n\tprops: {\n\t\tbody: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tfrom: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmailvelope: false,\n\t\t}\n\t},\n\tasync mounted() {\n\t\tthis.mailvelope = await getMailvelope()\n\t\tthis.mailvelope.createDisplayContainer('#mail-content', this.body, undefined, {\n\t\t\tsenderAddress: this.from,\n\t\t})\n\t},\n}\n</script>\n\n<style scoped>\n#mail-content {\n\theight: 450px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=style&index=0&id=010883ce&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageEncryptedBody.vue?vue&type=style&index=0&id=010883ce&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageEncryptedBody.vue?vue&type=template&id=010883ce&scoped=true\"\nimport script from \"./MessageEncryptedBody.vue?vue&type=script&lang=js\"\nexport * from \"./MessageEncryptedBody.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageEncryptedBody.vue?vue&type=style&index=0&id=010883ce&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"010883ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"html-message-body\"},[_c('MdnRequest',{attrs:{\"message\":_vm.message}}),_vm._v(\" \"),(_vm.hasBlockedContent)?_c('div',{staticStyle:{\"color\":\"#000000\"},attrs:{\"id\":\"mail-message-has-blocked-content\"}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'The images have been blocked to protect your privacy.'))+\"\\n\\t\\t\"),_c('Actions',{attrs:{\"type\":\"tertiary\",\"menu-title\":_vm.t('mail', 'Show images')}},[_c('ActionButton',{on:{\"click\":_vm.displayIframe},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconImage',{attrs:{\"size\":20}})]},proxy:true}],null,false,1558549604)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show images temporarily'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.sender)?_c('ActionButton',{on:{\"click\":_vm.onShowBlockedContent},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail',{attrs:{\"size\":20}})]},proxy:true}],null,false,212336778)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Always show images from {sender}', { sender: _vm.sender }))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.domain)?_c('ActionButton',{on:{\"click\":_vm.onShowBlockedContentForDomain},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDomain',{attrs:{\"size\":20}})]},proxy:true}],null,false,1878072675)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Always show images from {domain}', { domain: _vm.domain }))+\"\\n\\t\\t\\t\")]):_vm._e()],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{class:{scroll: !_vm.fullHeight},attrs:{\"id\":\"message-container\"}},[_c('iframe',{ref:\"iframe\",staticClass:\"message-frame\",attrs:{\"title\":_vm.t('mail', 'Message frame'),\"src\":_vm.url,\"seamless\":\"\"},on:{\"load\":_vm.onMessageFrameLoad}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"html-message-body\">\n\t\t<MdnRequest :message=\"message\" />\n\t\t<div v-if=\"hasBlockedContent\" id=\"mail-message-has-blocked-content\" style=\"color: #000000\">\n\t\t\t{{ t('mail', 'The images have been blocked to protect your privacy.') }}\n\t\t\t<Actions type=\"tertiary\" :menu-title=\"t('mail', 'Show images')\">\n\t\t\t\t<ActionButton\n\t\t\t\t\t@click=\"displayIframe\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconImage :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Show images temporarily') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"sender\"\n\t\t\t\t\t@click=\"onShowBlockedContent\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconMail :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Always show images from {sender}', { sender }) }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"domain\"\n\t\t\t\t\t@click=\"onShowBlockedContentForDomain\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconDomain :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Always show images from {domain}', { domain }) }}\n\t\t\t\t</ActionButton>\n\t\t\t</Actions>\n\t\t</div>\n\t\t<div id=\"message-container\" :class=\"{scroll: !fullHeight}\">\n\t\t\t<iframe ref=\"iframe\"\n\t\t\t\tclass=\"message-frame\"\n\t\t\t\t:title=\"t('mail', 'Message frame')\"\n\t\t\t\t:src=\"url\"\n\t\t\t\tseamless\n\t\t\t\t@load=\"onMessageFrameLoad\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { iframeResizer } from 'iframe-resizer'\nimport PrintScout from 'printscout'\nimport { trustSender } from '../service/TrustedSenderService.js'\nimport { NcActionButton as ActionButton, NcActions as Actions } from '@nextcloud/vue'\nimport IconImage from 'vue-material-design-icons/ImageSizeSelectActual'\nimport IconMail from 'vue-material-design-icons/Email'\nimport IconDomain from 'vue-material-design-icons/Domain'\n\nimport logger from '../logger.js'\nimport MdnRequest from './MdnRequest.vue'\nconst scout = new PrintScout()\n\nexport default {\n\tname: 'MessageHTMLBody',\n\tcomponents: {\n\t\tMdnRequest,\n\t\tActions,\n\t\tActionButton,\n\t\tIconImage,\n\t\tIconMail,\n\t\tIconDomain,\n\t},\n\tprops: {\n\t\turl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tfullHeight: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasBlockedContent: false,\n\t\t\tisSenderTrusted: this.message.isSenderTrusted,\n\t\t}\n\t},\n\tcomputed: {\n\t\tsender() {\n\t\t\treturn this.message.from[0]?.email\n\t\t},\n\t\tdomain() {\n\t\t\treturn this.sender?.split('@').pop()\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tscout.on('beforeprint', this.onBeforePrint)\n\t},\n\tmounted() {\n\t\tiframeResizer({ log: false, heightCalculationMethod: 'taggedElement' }, this.$refs.iframe)\n\t},\n\tbeforeDestroy() {\n\t\tscout.off('beforeprint', this.onBeforePrint)\n\t\tthis.$refs.iframe.iFrameResizer.close()\n\t},\n\tmethods: {\n\t\tgetIframeDoc() {\n\t\t\tconst iframe = this.$refs.iframe\n\t\t\treturn iframe.contentDocument || iframe.contentWindow.document\n\t\t},\n\t\tonMessageFrameLoad() {\n\t\t\tconst iframeDoc = this.getIframeDoc()\n\t\t\tthis.hasBlockedContent\n\t\t\t\t= iframeDoc.querySelectorAll('[data-original-src]').length > 0\n\t\t\t\t|| iframeDoc.querySelectorAll('[data-original-style]').length > 0\n\t\t\t\t|| iframeDoc.querySelectorAll('style[data-original-content]').length > 0\n\n\t\t\tthis.$emit('load')\n\t\t\tif (this.isSenderTrusted) {\n\t\t\t\tthis.displayIframe()\n\t\t\t}\n\t\t},\n\t\tonBeforePrint() {\n\t\t\tthis.$refs.iframe.style.setProperty('height', `${this.getIframeDoc().body.scrollHeight}px`, 'important')\n\t\t},\n\t\tdisplayIframe() {\n\t\t\tconst iframeDoc = this.getIframeDoc()\n\t\t\tlogger.debug('showing external images')\n\t\t\tiframeDoc.querySelectorAll('[data-original-src]').forEach((node) => {\n\t\t\t\tnode.style.display = null\n\t\t\t\tnode.setAttribute('src', node.getAttribute('data-original-src'))\n\t\t\t})\n\t\t\tiframeDoc\n\t\t\t\t.querySelectorAll('[data-original-style]')\n\t\t\t\t.forEach((node) => node.setAttribute('style', node.getAttribute('data-original-style')))\n\t\t\tiframeDoc\n\t\t\t\t.querySelectorAll('style[data-original-content]')\n\t\t\t\t.forEach((node) => {\n\t\t\t\t\tnode.innerHTML = node.getAttribute('data-original-content')\n\t\t\t\t})\n\t\t\tthis.hasBlockedContent = false\n\t\t},\n\t\tasync onShowBlockedContent() {\n\t\t\tthis.displayIframe()\n\t\t\tawait trustSender(this.message.from[0].email, 'individual', true)\n\t\t},\n\t\tasync onShowBlockedContentForDomain() {\n\t\t\tthis.displayIframe()\n\t\t\t// TODO: there might be more than one @ in an email address\n\t\t\tawait trustSender(this.domain, 'domain', true)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// account for 8px margin on iframe body\n.html-message-body {\n\tmargin-left: 50px;\n\tmargin-top: 2px;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tbackground-color: #FFFFFF;\n}\n#mail-message-has-blocked-content {\n\tmargin-left: 10px;\n\tcolor: var(--color-text-maxcontrast) !important;\n}\n\n#message-container {\n\tflex: 1;\n\tdisplay: flex;\n\tbackground-color: #FFFFFF;\n\n\t// TODO: collapse quoted text and remove inner scrollbar\n\t&.scroll {\n\t\tmax-height: 50vh;\n\t\toverflow-y: auto;\n\t}\n}\n:deep(.button-vue__text) {\n\tborder: none !important;\n\tfont-weight: normal !important;\n\tpadding-left: 14px !important;\n\tpadding-right: 10px !important;\n\ttext-decoration: underline !important;\n}\n.message-frame {\n\twidth: 100%;\n}\n:deep(.button-vue__icon) {\n\tdisplay: none !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=style&index=0&id=7e5cec56&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageHTMLBody.vue?vue&type=style&index=0&id=7e5cec56&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessageHTMLBody.vue?vue&type=template&id=7e5cec56&scoped=true\"\nimport script from \"./MessageHTMLBody.vue?vue&type=script&lang=js\"\nexport * from \"./MessageHTMLBody.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageHTMLBody.vue?vue&type=style&index=0&id=7e5cec56&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e5cec56\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"mail-content\">\n\t\t<MdnRequest :message=\"message\" />\n\t\t<div id=\"message-container\" v-html=\"nl2br(enhancedBody)\" />\n\t\t<details v-if=\"signature\" class=\"mail-signature\">\n\t\t\t<summary v-html=\"nl2br(signatureSummaryAndBody.summary)\" />\n\t\t\t<span v-html=\"nl2br(signatureSummaryAndBody.body)\" />\n\t\t</details>\n\t</div>\n</template>\n\n<script>\nimport MdnRequest from './MdnRequest.vue'\nconst regFirstParagraph = /(.+\\n\\r?)+(\\n\\r?)+/\n\nexport default {\n\tname: 'MessagePlainTextBody',\n\tcomponents: { MdnRequest },\n\tprops: {\n\t\tbody: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsignature: {\n\t\t\ttype: String,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tcomputed: {\n\t\tenhancedBody() {\n\t\t\treturn this.body.replace(/(^&gt;.*\\n)+/gm, (match) => {\n\t\t\t\treturn `<details class=\"quoted-text\"><summary>${t('mail', 'Quoted text')}</summary>${match}</details>`\n\t\t\t})\n\t\t},\n\t\tsignatureSummaryAndBody() {\n\t\t\tconst matches = this.signature.trim().match(regFirstParagraph)\n\n\t\t\tif (matches && matches[0]) {\n\t\t\t\treturn {\n\t\t\t\t\tsummary: matches[0],\n\t\t\t\t\tbody: this.signature.substring(matches[0].length),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst lines = this.signature.trim().split(/\\r?\\n/)\n\t\t\treturn {\n\t\t\t\tsummary: lines[0],\n\t\t\t\tbody: lines.slice(1).join('\\n'),\n\t\t\t}\n\t\t},\n\t\tsignatureSummary() {\n\t\t\tconsole.info(this.signature.match(regFirstParagraph))\n\n\t\t\treturn this.signatureSummaryAndBody.summary\n\t\t},\n\t},\n\tmethods: {\n\t\tnl2br(str) {\n\t\t\treturn str.replace(/(\\r\\n|\\n\\r|\\n|\\r)/g, '<br />')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.quoted-text {\n\tcolor: var(--color-text-maxcontrast)\n\n\tsummary {\n\t\tcursor: pointer\n\t}\n}\n</style>\n<style lang=\"scss\" scoped>\n.message-container,\n.mail-signature {\n\twhite-space: pre-wrap;\n}\n.mail-signature, .quoted {\n\tcolor: var(--color-text-maxcontrast)\n\n\tsummary {\n\t\tcursor: pointer\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=0&id=7c29da55&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=0&id=7c29da55&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=1&id=7c29da55&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePlainTextBody.vue?vue&type=style&index=1&id=7c29da55&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MessagePlainTextBody.vue?vue&type=template&id=7c29da55&scoped=true\"\nimport script from \"./MessagePlainTextBody.vue?vue&type=script&lang=js\"\nexport * from \"./MessagePlainTextBody.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessagePlainTextBody.vue?vue&type=style&index=0&id=7c29da55&prod&lang=scss\"\nimport style1 from \"./MessagePlainTextBody.vue?vue&type=style&index=1&id=7c29da55&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c29da55\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"mail-content\"}},[_c('MdnRequest',{attrs:{\"message\":_vm.message}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"message-container\"},domProps:{\"innerHTML\":_vm._s(_vm.nl2br(_vm.enhancedBody))}}),_vm._v(\" \"),(_vm.signature)?_c('details',{staticClass:\"mail-signature\"},[_c('summary',{domProps:{\"innerHTML\":_vm._s(_vm.nl2br(_vm.signatureSummaryAndBody.summary))}}),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.nl2br(_vm.signatureSummaryAndBody.body))}})]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"imip\"},[(_vm.isRequest)?_c('div',{staticClass:\"imip__type\"},[(_vm.existingEventFetched)?[(_vm.wasProcessed && _vm.existingParticipationStatus === _vm.ACCEPTED)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You accepted this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.wasProcessed && _vm.existingParticipationStatus === _vm.TENTATIVE)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You tentatively accepted this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.wasProcessed && _vm.existingParticipationStatus === _vm.DECLINED)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You declined this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.wasProcessed && _vm.existingParticipationStatus !== _vm.NEEDS_ACTION)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You already reacted to this invitation'))+\"\\n\\t\\t\\t\")]):(_vm.userIsAttendee)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'You have been invited to an event'))+\"\\n\\t\\t\\t\")]):_vm._e()]:_vm._e()],2):(_vm.isReply)?_c('div',{staticClass:\"imip__type\"},[_c('CalendarIcon',{attrs:{\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.replyStatusMessage))])],1):(_vm.isCancel)?_c('div',{staticClass:\"imip__type\"},[_c('CloseIcon',{attrs:{\"size\":20,\"fill-color\":\"red\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.t('mail', 'This event was cancelled')))])],1):_vm._e(),_vm._v(\" \"),_c('EventData',{attrs:{\"event\":_vm.attachedVEvent}}),_vm._v(\" \"),(_vm.showMoreOptions)?_c('div',{staticClass:\"imip__more-options\"},[(!_vm.isExistingEvent)?_c('div',{staticClass:\"imip__more-options__row imip__more-options__row--calendar\"},[_c('label',{attrs:{\"for\":\"targetCalendarPickerId\"}},[_vm._v(_vm._s(_vm.t('mail', 'Save to')))]),_vm._v(\" \"),_c('div',{staticClass:\"imip__more-options__row--calendar__multiselect\"},[(_vm.calendarsForPicker.length > 1)?_c('Multiselect',{attrs:{\"id\":_vm.targetCalendarPickerId,\"label\":\"displayname\",\"track-by\":\"url\",\"allow-empty\":false,\"options\":_vm.calendarsForPicker},scopedSlots:_vm._u([{key:\"option\",fn:function({option}){return [_c('CalendarPickerOption',_vm._b({},'CalendarPickerOption',option,false))]}},{key:\"singleLabel\",fn:function({option}){return [_c('CalendarPickerOption',_vm._b({attrs:{\"display-icon\":true}},'CalendarPickerOption',option,false))]}}],null,false,2046873210),model:{value:(_vm.targetCalendar),callback:function ($$v) {_vm.targetCalendar=$$v},expression:\"targetCalendar\"}}):_vm._e()],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"imip__more-options__row imip__more-options__row--comment\"},[_c('label',{attrs:{\"for\":\"commentFieldId\"}},[_vm._v(_vm._s(_vm.t('mail', 'Comment')))]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],attrs:{\"id\":_vm.commentFieldId,\"rows\":\"3\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing)return;_vm.comment=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),(_vm.isRequest && _vm.userIsAttendee)?[(!_vm.wasProcessed && _vm.eventIsInFuture && _vm.existingEventFetched)?_c('div',{staticClass:\"imip__actions imip__actions--buttons\"},[_c('Button',{attrs:{\"type\":\"secondary\",\"loading\":_vm.loading,\"aria-label\":_vm.t('mail', 'Accept')},on:{\"click\":_vm.accept}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Accept'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"tertiary\",\"loading\":_vm.loading,\"aria-label\":_vm.t('mail', 'Decline')},on:{\"click\":_vm.decline}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Decline'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"tertiary\",\"loading\":_vm.loading,\"aria-label\":_vm.t('mail', 'Tentatively accept')},on:{\"click\":_vm.acceptTentatively}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Tentatively accept'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.showMoreOptions)?_c('Button',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mail', 'More options')},on:{\"click\":function($event){_vm.showMoreOptions = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More options'))+\"\\n\\t\\t\\t\")]):_vm._e()],1):(!_vm.eventIsInFuture)?_c('p',{staticClass:\"imip__actions imip__actions--hint\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'This event is in the past.'))+\"\\n\\t\\t\")]):_vm._e()]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @author Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/*\n * Remove the mailto prefix from a URI and return it\n *\n * @param {string} uri URI to remove the prefix from\n * @return {string} URI without a mailto prefix\n */\nexport function removeMailtoPrefix(uri) {\n\tif (uri.startsWith('mailto:')) {\n\t\treturn uri.substr(7)\n\t}\n\n\treturn uri\n}\n","<!--\n  - @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"event-data\">\n\t\t<h2 class=\"event-data__heading\">\n\t\t\t{{ title }}\n\t\t</h2>\n\n\t\t<div class=\"event-data__row event-data__row--date\">\n\t\t\t<CalendarIcon class=\"event-data__row__icon\" :size=\"20\" />\n\t\t\t<div>\n\t\t\t\t{{ startDate }}\n\t\t\t\t<span v-if=\"startTimezone && startTimezone !== endTimezone\" class=\"muted\">\n\t\t\t\t\t{{ startTimezone }}\n\t\t\t\t</span>\n\t\t\t\t<template v-if=\"endDate\">\n\t\t\t\t\t<span> - </span>\n\t\t\t\t\t{{ endDate }}\n\t\t\t\t\t<span v-if=\"endTimezone\" class=\"muted\">{{ endTimezone }}</span>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-if=\"location\"\n\t\t\tclass=\"event-data__row event-data__row--location\">\n\t\t\t<MapMarkerIcon class=\"event-data__row__icon\" :size=\"20\" />\n\t\t\t<span>{{ location }}</span>\n\t\t</div>\n\n\t\t<div class=\"event-data__row event-data__row--participants\">\n\t\t\t<AccountMultipleIcon class=\"event-data__row__icon\" :size=\"20\" />\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"{ name, isOrganizer, key } in attendees\" :key=\"key\">\n\t\t\t\t\t{{ name }}\n\t\t\t\t\t<span v-if=\"isOrganizer\" class=\"muted\">{{ t('mail', '(organizer)') }}</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport AccountMultipleIcon from 'vue-material-design-icons/AccountMultiple'\nimport CalendarIcon from 'vue-material-design-icons/Calendar'\nimport MapMarkerIcon from 'vue-material-design-icons/MapMarker'\nimport { getReadableTimezoneName } from '@nextcloud/calendar-js'\nimport moment from '@nextcloud/moment'\nimport { removeMailtoPrefix } from '../../util/eventAttendee.js'\n\n/**\n * Check whether two dates are on the exact same day, month and year.\n *\n * @param {Date} a Date a\n * @param {Date} b Date b\n * @return {boolean} True if both dates a and b are on the same day, month and year.\n */\nfunction isSameDay(a, b) {\n\treturn a.getFullYear() === b.getFullYear()\n\t\t&& a.getMonth() === b.getMonth()\n\t\t&& a.getDate() === b.getDate()\n}\n\n/**\n * Get a human readable timezone name from a DateTimeValue.\n * If timezone is floating, undefined will be returned.\n *\n * @param {DateTimeValue} date Date\n * @return {string|undefined} Human readable timezone name or undefined\n */\nfunction getTimezoneFromDate(date) {\n\tconst timezoneId = date.timezoneId\n\tif (!timezoneId || timezoneId === 'floating') {\n\t\treturn undefined\n\t}\n\n\treturn getReadableTimezoneName(timezoneId)\n}\n\nexport default {\n\tname: 'EventData',\n\tcomponents: {\n\t\tAccountMultipleIcon,\n\t\tCalendarIcon,\n\t\tMapMarkerIcon,\n\t},\n\tprops: {\n\t\tevent: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\t/**\n\t\t * @return {string}\n\t\t */\n\t\ttitle() {\n\t\t\t// Use || here to handle empty strings as well\n\t\t\treturn this.event.title || this.t('mail', 'Untitled event')\n\t\t},\n\n\t\t/**\n\t\t * @return {string}\n\t\t */\n\t\tstartDate() {\n\t\t\tif (this.event.isAllDay()) {\n\t\t\t\treturn moment(this.event.startDate.jsDate).format('ll')\n\t\t\t}\n\n\t\t\treturn moment(this.event.startDate.jsDate).format('ll LT')\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tendDate() {\n\t\t\tconst start = this.event.startDate.jsDate\n\t\t\tconst end = this.event.endDate.jsDate\n\n\t\t\tlet date\n\t\t\tif (this.event.isAllDay()) {\n\t\t\t\t// All day events end a day later, so we need to subtract a day\n\t\t\t\tend.setDate(end.getDate() - 1)\n\t\t\t\tif (isSameDay(start, end)) {\n\t\t\t\t\treturn undefined\n\t\t\t\t}\n\t\t\t\tdate = moment(end).format('ll')\n\t\t\t} else {\n\t\t\t\tif (isSameDay(start, end)) {\n\t\t\t\t\tdate = moment(end).format('LT')\n\t\t\t\t} else {\n\t\t\t\t\tdate = moment(end).format('ll LT')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn date\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tstartTimezone() {\n\t\t\treturn getTimezoneFromDate(this.event.startDate)\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined}\n\t\t */\n\t\tendTimezone() {\n\t\t\treturn getTimezoneFromDate(this.event.endDate)\n\t\t},\n\n\t\t/**\n\t\t * @return {string|undefined|null}\n\t\t */\n\t\tlocation() {\n\t\t\treturn this.event.location\n\t\t},\n\n\t\t/**\n\t\t * @return {{name: string, isOrganizer: boolean, key: string}[]}\n\t\t */\n\t\tattendees() {\n\t\t\tconst attendees = []\n\t\t\tfor (const attendee of [\n\t\t\t\t...this.event.getPropertyIterator('ORGANIZER'),\n\t\t\t\t...this.event.getAttendeeIterator(),\n\t\t\t]) {\n\t\t\t\tconst name = attendee.commonName ?? removeMailtoPrefix(attendee.email)\n\t\t\t\tconst isOrganizer = attendee.isOrganizer()\n\t\t\t\tconst key = (isOrganizer ? 'organizer_' : 'attendee_') + name\n\n\t\t\t\tattendees.push({ name, isOrganizer, key })\n\t\t\t}\n\t\t\treturn attendees\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.event-data {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 5px;\n\n\t&__heading {\n\t\tmargin-left: 36px;\n\t}\n\n\t&__row {\n\t\tdisplay: flex;\n\n\t\t&__icon {\n\t\t\talign-self: start;\n\t\t\tmargin: 0 8px;\n\n\t\t\t// Fix slight misalignment caused by align-self: start\n\t\t\tpadding-top: 2px;\n\t\t}\n\t}\n}\n\n.muted {\n\tcolor: var(--color-text-lighter);\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=style&index=0&id=a34caaa6&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventData.vue?vue&type=style&index=0&id=a34caaa6&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EventData.vue?vue&type=template&id=a34caaa6&scoped=true\"\nimport script from \"./EventData.vue?vue&type=script&lang=js\"\nexport * from \"./EventData.vue?vue&type=script&lang=js\"\nimport style0 from \"./EventData.vue?vue&type=style&index=0&id=a34caaa6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a34caaa6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"event-data\"},[_c('h2',{staticClass:\"event-data__heading\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.title)+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"event-data__row event-data__row--date\"},[_c('CalendarIcon',{staticClass:\"event-data__row__icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('div',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.startDate)+\"\\n\\t\\t\\t\"),(_vm.startTimezone && _vm.startTimezone !== _vm.endTimezone)?_c('span',{staticClass:\"muted\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.startTimezone)+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.endDate)?[_c('span',[_vm._v(\" - \")]),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.endDate)+\"\\n\\t\\t\\t\\t\"),(_vm.endTimezone)?_c('span',{staticClass:\"muted\"},[_vm._v(_vm._s(_vm.endTimezone))]):_vm._e()]:_vm._e()],2)],1),_vm._v(\" \"),(_vm.location)?_c('div',{staticClass:\"event-data__row event-data__row--location\"},[_c('MapMarkerIcon',{staticClass:\"event-data__row__icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.location))])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"event-data__row event-data__row--participants\"},[_c('AccountMultipleIcon',{staticClass:\"event-data__row__icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('ul',_vm._l((_vm.attendees),function({ name, isOrganizer, key }){return _c('li',{key:key},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(name)+\"\\n\\t\\t\\t\\t\"),(isOrganizer)?_c('span',{staticClass:\"muted\"},[_vm._v(_vm._s(_vm.t('mail', '(organizer)')))]):_vm._e()])}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @author Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/**\n * Generate a random hex id to use with vue components.\n *\n * WARNING: This method does not use a secure random generator and isn't suited for\n * cryptographic purposes.\n *\n * @return {string} A random hex id\n */\nexport function randomId() {\n\treturn Math.random().toString(16).slice(2)\n}\n","<!--\n  - @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"imip\">\n\t\t<div\n\t\t\tv-if=\"isRequest\"\n\t\t\tclass=\"imip__type\">\n\t\t\t<template v-if=\"existingEventFetched\">\n\t\t\t\t<span v-if=\"wasProcessed && existingParticipationStatus === ACCEPTED\">\n\t\t\t\t\t{{ t('mail', 'You accepted this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"wasProcessed && existingParticipationStatus === TENTATIVE\">\n\t\t\t\t\t{{ t('mail', 'You tentatively accepted this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"wasProcessed && existingParticipationStatus === DECLINED\">\n\t\t\t\t\t{{ t('mail', 'You declined this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"wasProcessed && existingParticipationStatus !== NEEDS_ACTION\">\n\t\t\t\t\t{{ t('mail', 'You already reacted to this invitation') }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"userIsAttendee\">\n\t\t\t\t\t{{ t('mail', 'You have been invited to an event') }}\n\t\t\t\t</span>\n\t\t\t</template>\n\t\t</div>\n\t\t<div\n\t\t\tv-else-if=\"isReply\"\n\t\t\tclass=\"imip__type\">\n\t\t\t<CalendarIcon :size=\"20\" />\n\t\t\t<span>{{ replyStatusMessage }}</span>\n\t\t</div>\n\t\t<div\n\t\t\tv-else-if=\"isCancel\"\n\t\t\tclass=\"imip__type\">\n\t\t\t<CloseIcon :size=\"20\" fill-color=\"red\" />\n\t\t\t<span>{{ t('mail', 'This event was cancelled') }}</span>\n\t\t</div>\n\n\t\t<EventData :event=\"attachedVEvent\" />\n\n\t\t<div v-if=\"showMoreOptions\" class=\"imip__more-options\">\n\t\t\t<!-- Hide calendar picker if editing an existing event (e.g. an internal event is\n\t\t\t shared by default and thus existing even if the attendee didn't react yet). -->\n\t\t\t<div\n\t\t\t\tv-if=\"!isExistingEvent\"\n\t\t\t\tclass=\"imip__more-options__row imip__more-options__row--calendar\">\n\t\t\t\t<label for=\"targetCalendarPickerId\">{{ t('mail', 'Save to') }}</label>\n\t\t\t\t<div class=\"imip__more-options__row--calendar__multiselect\">\n\t\t\t\t\t<Multiselect\n\t\t\t\t\t\tv-if=\"calendarsForPicker.length > 1\"\n\t\t\t\t\t\t:id=\"targetCalendarPickerId\"\n\t\t\t\t\t\tv-model=\"targetCalendar\"\n\t\t\t\t\t\tlabel=\"displayname\"\n\t\t\t\t\t\ttrack-by=\"url\"\n\t\t\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t\t\t:options=\"calendarsForPicker\">\n\t\t\t\t\t\t<template #option=\"{option}\">\n\t\t\t\t\t\t\t<CalendarPickerOption v-bind=\"option\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #singleLabel=\"{option}\">\n\t\t\t\t\t\t\t<CalendarPickerOption :display-icon=\"true\" v-bind=\"option\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Multiselect>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"imip__more-options__row imip__more-options__row--comment\">\n\t\t\t\t<label for=\"commentFieldId\">{{ t('mail', 'Comment') }}</label>\n\t\t\t\t<textarea :id=\"commentFieldId\" v-model=\"comment\" rows=\"3\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<template v-if=\"isRequest && userIsAttendee\">\n\t\t\t<div\n\t\t\t\tv-if=\"!wasProcessed && eventIsInFuture && existingEventFetched\"\n\t\t\t\tclass=\"imip__actions imip__actions--buttons\">\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Accept')\"\n\t\t\t\t\t@click=\"accept\">\n\t\t\t\t\t{{ t('mail', 'Accept') }}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Decline')\"\n\t\t\t\t\t@click=\"decline\">\n\t\t\t\t\t{{ t('mail', 'Decline') }}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t:aria-label=\"t('mail', 'Tentatively accept')\"\n\t\t\t\t\t@click=\"acceptTentatively\">\n\t\t\t\t\t{{ t('mail', 'Tentatively accept') }}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"!showMoreOptions\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:aria-label=\"t('mail', 'More options')\"\n\t\t\t\t\t@click=\"showMoreOptions = true\">\n\t\t\t\t\t{{ t('mail', 'More options') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<p v-else-if=\"!eventIsInFuture\" class=\"imip__actions imip__actions--hint\">\n\t\t\t\t{{ t('mail', 'This event is in the past.') }}\n\t\t\t</p>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport EventData from './imip/EventData.vue'\nimport { NcButton as Button, NcMultiselect as Multiselect } from '@nextcloud/vue'\nimport CloseIcon from 'vue-material-design-icons/Close'\nimport CalendarIcon from 'vue-material-design-icons/Calendar'\nimport { getParserManager, Parameter, Property } from '@nextcloud/calendar-js'\nimport { mapGetters } from 'vuex'\nimport { removeMailtoPrefix } from '../util/eventAttendee.js'\nimport logger from '../logger.js'\nimport { namespaces as NS } from '@nextcloud/cdav-library'\nimport CalendarPickerOption from './CalendarPickerOption.vue'\nimport { uidToHexColor } from '../util/calendarColor.js'\nimport { randomId } from '../util/randomId.js'\nimport pLimit from 'p-limit'\nimport { flatten } from 'ramda'\nimport { showError } from '@nextcloud/dialogs'\n\n// iMIP methods\nconst REQUEST = 'REQUEST'\nconst REPLY = 'REPLY'\nconst CANCEL = 'CANCEL'\n\n// Participation status\nconst NEEDS_ACTION = 'NEEDS-ACTION'\nconst ACCEPTED = 'ACCEPTED'\nconst TENTATIVE = 'TENTATIVE'\nconst DECLINED = 'DECLINED'\n\n/**\n * Search a vEvent for an attendee by mail.\n *\n * @param {EventComponent|undefined|null} vEvent The event providing the attendee haystack.\n * @param {string} email The email address (with or without a mailto prefix) to use as the needle.\n * @return {AttendeeProperty|undefined} The attendee property or undefined if the given email is not matching an attendee.\n */\nfunction findAttendee(vEvent, email) {\n\tif (!vEvent) {\n\t\treturn undefined\n\t}\n\n\temail = removeMailtoPrefix(email)\n\tfor (const attendee of vEvent.getAttendeeIterator()) {\n\t\tif (removeMailtoPrefix(attendee.email) === email) {\n\t\t\treturn attendee\n\t\t}\n\t}\n\n\treturn undefined\n}\n\nexport default {\n\tname: 'Imip',\n\tcomponents: {\n\t\tEventData,\n\t\tButton,\n\t\tCloseIcon,\n\t\tCalendarIcon,\n\t\tCalendarPickerOption,\n\t\tMultiselect,\n\t},\n\tprops: {\n\t\tscheduling: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tNEEDS_ACTION,\n\t\t\tACCEPTED,\n\t\t\tTENTATIVE,\n\t\t\tDECLINED,\n\n\t\t\tcommentFieldId: randomId(),\n\t\t\ttargetCalendarPickerId: randomId(),\n\n\t\t\tshowMoreOptions: false,\n\t\t\tloading: false,\n\t\t\texistingEvent: undefined,\n\t\t\texistingEventFetched: false,\n\t\t\ttargetCalendar: undefined,\n\t\t\tcomment: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tcurrentUserPrincipalEmail: 'getCurrentUserPrincipalEmail',\n\t\t\tclonedCalendars: 'getClonedCalendars',\n\t\t}),\n\n\t\t/**\n\t\t * The method of the iMIP message.\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tmethod() {\n\t\t\treturn this.scheduling.method\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisRequest() {\n\t\t\treturn this.method === REQUEST\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisReply() {\n\t\t\treturn this.method === REPLY\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisCancel() {\n\t\t\treturn this.method === CANCEL\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisExistingEvent() {\n\t\t\treturn !!this.existingEvent\n\t\t},\n\n\t\t/**\n\t\t * Did the attendee already react to the invitation?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\twasProcessed() {\n\t\t\treturn !!this.existingParticipationStatus && this.existingParticipationStatus !== NEEDS_ACTION\n\t\t},\n\n\t\t/**\n\t\t * @return {CalendarComponent|undefined}\n\t\t */\n\t\tattachedVCalendar() {\n\t\t\tconst parserManager = getParserManager()\n\t\t\tconst parser = parserManager.getParserForFileType('text/calendar')\n\t\t\tparser.parse(this.scheduling.contents)\n\n\t\t\tconst vCalendar = parser.getItemIterator().next().value\n\t\t\treturn vCalendar ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {EventComponent|undefined}\n\t\t */\n\t\tattachedVEvent() {\n\t\t\treturn this.attachedVCalendar?.getFirstComponent('VEVENT') ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {CalendarComponent|undefined}\n\t\t */\n\t\texistingVCalendar() {\n\t\t\tif (!this.existingEvent) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tconst parserManager = getParserManager()\n\t\t\tconst parser = parserManager.getParserForFileType('text/calendar')\n\t\t\tparser.parse(this.existingEvent.data)\n\n\t\t\tconst vCalendar = parser.getItemIterator().next().value\n\t\t\treturn vCalendar ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {EventComponent|undefined}\n\t\t */\n\t\texistingVEvent() {\n\t\t\treturn this.existingVCalendar?.getFirstComponent('VEVENT') ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\teventIsInFuture() {\n\t\t\treturn this.attachedVEvent.startDate.jsDate.getTime() > new Date().getTime()\n\t\t},\n\n\t\t/**\n\t\t * Check if the user is an attendee of the attached event.\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tuserIsAttendee() {\n\t\t\treturn !!findAttendee(this.attachedVEvent, this.currentUserPrincipalEmail)\n\t\t},\n\n\t\t/**\n\t\t * The users participation status taken from the existing event.\n\t\t *\n\t\t * @return {string|undefined}\n\t\t */\n\t\texistingParticipationStatus() {\n\t\t\tconst attendee = findAttendee(this.existingVEvent, this.currentUserPrincipalEmail)\n\t\t\treturn attendee?.participationStatus ?? undefined\n\t\t},\n\n\t\t/**\n\t\t * The status message to show in case of REPLY messages.\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\treplyStatusMessage() {\n\t\t\tconst attendees = this.attachedVEvent?.getAttendeeList()\n\t\t\tif (!attendees || attendees.length !== 1) {\n\t\t\t\t// As per the RFCs there should only be one attendee, but you never know.\n\t\t\t\treturn this.t('mail', 'This event was updated')\n\t\t\t}\n\n\t\t\tconst attendee = attendees[0]\n\t\t\tconst partStat = attendee.participationStatus\n\t\t\tconst name = attendee.commonName ?? attendee.email\n\t\t\tif (partStat === ACCEPTED) {\n\t\t\t\treturn this.t('mail', '{attendeeName} accepted your invitation', {\n\t\t\t\t\tattendeeName: name,\n\t\t\t\t})\n\t\t\t} else if (partStat === TENTATIVE) {\n\t\t\t\treturn this.t('mail', '{attendeeName} tentatively accepted your invitation', {\n\t\t\t\t\tattendeeName: name,\n\t\t\t\t})\n\t\t\t} else if (partStat === DECLINED) {\n\t\t\t\treturn this.t('mail', '{attendeeName} declined your invitation', {\n\t\t\t\t\tattendeeName: name,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn this.t('mail', '{attendeeName} reacted to your invitation', {\n\t\t\t\tattendeeName: name,\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * List of calendar options for the target calendar picker.\n\t\t *\n\t\t * @return {object[]}\n\t\t */\n\t\tcalendarsForPicker() {\n\t\t\tconst getCalendarData = (calendar) => {\n\t\t\t\treturn {\n\t\t\t\t\tdisplayname: calendar.displayname,\n\t\t\t\t\tcolor: calendar.color ?? uidToHexColor(calendar.displayname ?? ''),\n\t\t\t\t\torder: calendar.order,\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tvevent: true, // check if VEVENT exists in props['supported-calendar-component-set'].comps\n\t\t\t\t\t},\n\t\t\t\t\twritable: calendar.currentUserPrivilegeSet.indexOf('{DAV:}write') !== -1,\n\t\t\t\t\turl: calendar.url,\n\t\t\t\t\tdav: calendar,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.clonedCalendars\n\t\t\t\t.map(getCalendarData)\n\t\t\t\t.filter(props => props.components.vevent && props.writable === true)\n\t\t},\n\t},\n\twatch: {\n\t\tattachedVEvent: {\n\t\t\timmediate: true,\n\t\t\tasync handler() {\n\t\t\t\tawait this.fetchExistingEvent(this.attachedVEvent.uid)\n\t\t\t},\n\t\t},\n\t\tclonedCalendars: {\n\t\t\timmediate: true,\n\t\t\tasync handler() {\n\t\t\t\tawait this.fetchExistingEvent(this.attachedVEvent.uid)\n\t\t\t},\n\t\t},\n\t\tcalendarsForPicker: {\n\t\t\timmediate: true,\n\t\t\thandler(calendarsForPicker) {\n\t\t\t\tif (calendarsForPicker.length > 0 && !this.targetCalendar) {\n\t\t\t\t\tthis.targetCalendar = calendarsForPicker[0]\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tasync accept() {\n\t\t\tawait this.saveEventWithParticipationStatus(ACCEPTED)\n\t\t},\n\t\tasync acceptTentatively() {\n\t\t\tawait this.saveEventWithParticipationStatus(TENTATIVE)\n\t\t},\n\t\tasync decline() {\n\t\t\tawait this.saveEventWithParticipationStatus(DECLINED)\n\t\t},\n\t\tasync saveEventWithParticipationStatus(status) {\n\t\t\tlet vCalendar\n\t\t\tif (this.isExistingEvent) {\n\t\t\t\tvCalendar = this.existingVCalendar\n\t\t\t} else {\n\t\t\t\tvCalendar = this.attachedVCalendar\n\t\t\t}\n\t\t\tconst vEvent = vCalendar.getFirstComponent('VEVENT')\n\t\t\tconst attendee = findAttendee(vEvent, this.currentUserPrincipalEmail)\n\t\t\tif (!attendee) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst calendar = this.targetCalendar?.dav\n\t\t\tif (!calendar) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tattendee.participationStatus = status\n\t\t\tif (this.comment) {\n\t\t\t\tattendee.setParameter(new Parameter('X-RESPONSE-COMMENT', this.comment))\n\t\t\t\tvEvent.addProperty(new Property('COMMENT', this.comment))\n\t\t\t}\n\t\t\t// TODO: implement an input for guests and save it to the attendee via X-NUM-GUESTS\n\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tif (this.isExistingEvent) {\n\t\t\t\t\t// TODO: don't show buttons if calendar is not writable\n\t\t\t\t\tthis.existingEvent.data = vCalendar.toICS()\n\t\t\t\t\tawait this.existingEvent.update()\n\t\t\t\t} else {\n\t\t\t\t\tawait calendar.createVObject(vCalendar.toICS())\n\t\t\t\t}\n\t\t\t\tthis.showMoreOptions = false\n\t\t\t} catch (error) {\n\t\t\t\tshowError(this.t('mail', 'Failed to save your participation status'))\n\t\t\t\tlogger.error('Failed to save event to calendar', {\n\t\t\t\t\terror,\n\t\t\t\t\tattendee,\n\t\t\t\t\tcalendar,\n\t\t\t\t\tvEvent,\n\t\t\t\t\tvCalendar,\n\t\t\t\t\texistingEvent: this.existingEvent,\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\n\t\t\t// Refetch the event to update the shown status message or reset the event in the case\n\t\t\t// of an error.\n\t\t\tthis.existingEventFetched = false\n\t\t\tawait this.fetchExistingEvent(vEvent.uid)\n\t\t},\n\t\tasync fetchExistingEvent(uid) {\n\t\t\tif (this.existingEventFetched) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// TODO: can this query be reduced to a single request?\n\t\t\tconst limit = pLimit(5)\n\t\t\tconst promises = this.clonedCalendars.map(async (calendar) => {\n\t\t\t\t// Query adapted from https://datatracker.ietf.org/doc/html/rfc4791#section-7.8.6\n\t\t\t\treturn limit(() => calendar.calendarQuery([{\n\t\t\t\t\tname: [NS.IETF_CALDAV, 'comp-filter'],\n\t\t\t\t\tattributes: [['name', 'VCALENDAR']],\n\t\t\t\t\tchildren: [{\n\t\t\t\t\t\tname: [NS.IETF_CALDAV, 'comp-filter'],\n\t\t\t\t\t\tattributes: [['name', 'VEVENT']],\n\t\t\t\t\t\tchildren: [{\n\t\t\t\t\t\t\tname: [NS.IETF_CALDAV, 'prop-filter'],\n\t\t\t\t\t\t\tattributes: [['name', 'UID']],\n\t\t\t\t\t\t\tchildren: [{\n\t\t\t\t\t\t\t\tname: [NS.IETF_CALDAV, 'text-match'],\n\t\t\t\t\t\t\t\tvalue: uid,\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t}],\n\t\t\t\t\t}],\n\t\t\t\t}]))\n\t\t\t})\n\t\t\tconst results = flatten(await Promise.all(promises))\n\n\t\t\tif (results.length > 1) {\n\t\t\t\tlogger.warn('Fetched more than one event for iMIP invitation', { results })\n\t\t\t}\n\n\t\t\tthis.existingEvent = results[0]\n\t\t\tthis.existingEventFetched = true\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.imip {\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: solid 2px var(--color-border);\n\tborder-radius: var(--border-radius-large);\n\tpadding: 10px;\n\n\t&__type {\n\t\tdisplay: flex;\n\t\tgap: 5px;\n\t\tmargin-left: 36px;\n\t}\n\n\t&__more-options {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-top: 15px;\n\t\tgap: 10px;\n\n\t\t&__row {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\t&--calendar {\n\t\t\t\tdisplay: flex;\n\t\t\t\twidth: 100%;\n\n\t\t\t\t&__multiselect {\n\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t:deep(.calendar-picker-option__label) {\n\t\t\t\t\t\tmax-width: unset !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&--comment {\n\t\t\t\ttextarea {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&__actions {\n\t\tmargin-top: 15px;\n\t\tmargin-left: 36px;\n\n\t\t&--buttons {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t&--hint {\n\t\t\tfont-style: italic;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=style&index=0&id=1c4a0623&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imip.vue?vue&type=style&index=0&id=1c4a0623&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Imip.vue?vue&type=template&id=1c4a0623&scoped=true\"\nimport script from \"./Imip.vue?vue&type=script&lang=js\"\nexport * from \"./Imip.vue?vue&type=script&lang=js\"\nimport style0 from \"./Imip.vue?vue&type=style&index=0&id=1c4a0623&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c4a0623\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2021 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div :class=\"[message.hasHtmlBody ? 'mail-message-body mail-message-body-html' : 'mail-message-body']\"\n\t\trole=\"region\"\n\t\t:aria-label=\"t('mail','Message body')\">\n\t\t<div v-if=\"message.smime.isSigned && !message.smime.signatureIsValid\"\n\t\t\tclass=\"invalid-signature-warning\">\n\t\t\t<LockOffIcon\n\t\t\t\t:size=\"20\"\n\t\t\t\tfill-color=\"red\"\n\t\t\t\tclass=\"invalid-signature-warning__icon\" />\n\t\t\t<p>\n\t\t\t\t{{ t('mail', 'Warning: The S/MIME signature of this message is  unverified. The sender might be impersonating someone!') }}\n\t\t\t</p>\n\t\t</div>\n\t\t<div v-if=\"itineraries.length > 0\" class=\"message-itinerary\">\n\t\t\t<Itinerary :entries=\"itineraries\" :message-id=\"message.messageId\" />\n\t\t</div>\n\t\t<div v-if=\"message.scheduling.length > 0\" class=\"message-imip\">\n\t\t\t<Imip\n\t\t\t\tv-for=\"scheduling in message.scheduling\"\n\t\t\t\t:key=\"scheduling.id\"\n\t\t\t\t:scheduling=\"scheduling\" />\n\t\t</div>\n\t\t<MessageHTMLBody v-if=\"message.hasHtmlBody\"\n\t\t\t:url=\"htmlUrl\"\n\t\t\t:message=\"message\"\n\t\t\t:full-height=\"fullHeight\"\n\t\t\t@load=\"$emit('load', $event)\" />\n\t\t<MessageEncryptedBody v-else-if=\"isEncrypted\"\n\t\t\t:body=\"message.body\"\n\t\t\t:from=\"from\"\n\t\t\t:message=\"message\" />\n\t\t<MessagePlainTextBody v-else\n\t\t\t:body=\"message.body\"\n\t\t\t:signature=\"message.signature\"\n\t\t\t:message=\"message\" />\n\t\t<MessageAttachments :attachments=\"message.attachments\" :envelope=\"envelope\" />\n\t\t<div id=\"reply-composer\" />\n\t</div>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\n\nimport { html, plain } from '../util/text.js'\nimport { isPgpgMessage } from '../crypto/pgp.js'\nimport Itinerary from './Itinerary.vue'\nimport MessageAttachments from './MessageAttachments.vue'\nimport MessageEncryptedBody from './MessageEncryptedBody.vue'\nimport MessageHTMLBody from './MessageHTMLBody.vue'\nimport MessagePlainTextBody from './MessagePlainTextBody.vue'\nimport Imip from './Imip.vue'\nimport LockOffIcon from 'vue-material-design-icons/LockOff'\n\nexport default {\n\tname: 'Message',\n\tcomponents: {\n\t\tItinerary,\n\t\tMessageAttachments,\n\t\tMessageEncryptedBody,\n\t\tMessageHTMLBody,\n\t\tMessagePlainTextBody,\n\t\tImip,\n\t\tLockOffIcon,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tmessage: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tfullHeight: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tfrom() {\n\t\t\treturn this.message.from.length === 0 ? '?' : this.message.from[0].label || this.message.from[0].email\n\t\t},\n\t\thtmlUrl() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/html', {\n\t\t\t\tid: this.envelope.databaseId,\n\t\t\t})\n\t\t},\n\t\tisEncrypted() {\n\t\t\treturn isPgpgMessage(this.message.hasHtmlBody ? html(this.message.body) : plain(this.message.body))\n\t\t},\n\t\titineraries() {\n\t\t\treturn this.message.itineraries ?? []\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.v-popover > .trigger > .action-item {\n\tborder-radius: 22px;\n\tbackground-color: var(--color-background-darker);\n}\n\n.message-imip {\n\tpadding: 5px 10px;\n}\n\n.invalid-signature-warning {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\tborder: solid 2px var(--color-border);\n\tborder-radius: var(--border-radius-large);\n\tborder-color: var(--color-warning);\n\n\tmargin: 5px 10px;\n\tpadding: 10px;\n\n\t&__icon {\n\t\t// Fix alignment with message\n\t\tmargin-top: -5px;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=f1197616&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=f1197616&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=f1197616&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=f1197616&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1197616\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.localMoreActionsOpen && !_vm.snoozeActionsOpen)?[(_vm.hasWriteAcl)?_c('ActionButton',{staticClass:\"action--primary\",attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleImportant.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImportantIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,4006335173)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.isImportant ? _vm.t('mail', 'Unimportant') : _vm.t('mail', 'Important'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.withReply)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onReply},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.hasMultipleRecipients)?_c('ReplyAllIcon',{attrs:{\"title\":_vm.t('mail', 'Reply all'),\"size\":20}}):_c('ReplyIcon',{attrs:{\"title\":_vm.t('mail', 'Reply'),\"size\":20}})]},proxy:true}],null,false,1812719128)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasMultipleRecipients)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.onReply(true)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ReplyIcon',{attrs:{\"title\":_vm.t('mail', 'Reply to sender only'),\"size\":20}})]},proxy:true}],null,false,1847095553)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Reply to sender only'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onForward},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ShareIcon',{attrs:{\"title\":_vm.t('mail', 'Forward'),\"size\":20}})]},proxy:true}],null,false,3681882419)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Forward'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleJunk.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlertOctagonIcon',{attrs:{\"title\":_vm.envelope.flags.$junk ? _vm.t('mail', 'Mark not spam') : _vm.t('mail', 'Mark as spam'),\"size\":20}})]},proxy:true}],null,false,3018406441)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.envelope.flags.$junk ? _vm.t('mail', 'Mark not spam') : _vm.t('mail', 'Mark as spam'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-tag-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TagIcon',{attrs:{\"title\":_vm.t('mail', 'Edit tags'),\"size\":20}})]},proxy:true}],null,false,1760434282)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit tags'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.withSelect)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSelected.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"title\":_vm.isSelected ? _vm.t('mail', 'Unselect') : _vm.t('mail', 'Select'),\"size\":20}})]},proxy:true}],null,false,3004720510)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.isSelected ? _vm.t('mail', 'Unselect') : _vm.t('mail', 'Select'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-move-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('OpenInNewIcon',{attrs:{\"title\":_vm.t('mail', 'Move message'),\"size\":20}})]},proxy:true}],null,false,3082800176)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move message'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && !_vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.snoozeActionsOpen = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Snooze'),\"size\":20}})]},proxy:true}],null,false,42024148)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Snooze'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isSnoozeDisabled && _vm.isSnoozedMailbox)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onUnSnooze},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AlarmIcon',{attrs:{\"title\":_vm.t('mail', 'Unsnooze'),\"size\":20}})]},proxy:true}],null,false,2733502479)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unsnooze'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.localMoreActionsOpen=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DotsHorizontalIcon',{attrs:{\"title\":_vm.t('mail', 'More actions'),\"size\":20}})]},proxy:true}],null,false,2458825807)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(_vm.localMoreActionsOpen)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.localMoreActionsOpen=false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"title\":_vm.t('mail', 'More actions'),\"size\":20}}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'More actions'))+\"\\n\\t\\t\\t\")]},proxy:true}],null,false,2840017423)}),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.forwardSelectedAsAttachment.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ShareIcon',{attrs:{\"title\":_vm.t('mail', 'Forward message as attachment'),\"size\":20}})]},proxy:true}],null,false,1446130195)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Forward message as attachment'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.onOpenEditAsNew},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusIcon',{attrs:{\"title\":_vm.t('mail', 'Edit as new message'),\"size\":20}})]},proxy:true}],null,false,2673016614)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit as new message'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-event-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CalendarBlankIcon',{attrs:{\"title\":_vm.t('mail', 'Create event'),\"size\":20}})]},proxy:true}],null,false,3283461621)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create event'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-task-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TaskIcon',{attrs:{\"title\":_vm.t('mail', 'Create task'),\"size\":20}})]},proxy:true}],null,false,844163649)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create task'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.withShowSource)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('show-source-modal')}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('InformationIcon',{attrs:{\"title\":_vm.t('mail', 'View source'),\"size\":20}})]},proxy:true}],null,false,3604652729)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'View source'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionLink',{attrs:{\"close-after-click\":true,\"href\":_vm.exportMessageLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DownloadIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2598526839)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download message'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.debug)?_c('ActionLink',{attrs:{\"download\":_vm.threadingFileName,\"href\":_vm.threadingFile,\"close-after-click\":true},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DownloadIcon',{attrs:{\"title\":_vm.t('mail', 'Download thread data for debugging'),\"size\":20}})]},proxy:true}],null,false,1608243158)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Download thread data for debugging'))+\"\\n\\t\\t\")]):_vm._e()]:_vm._e(),_vm._v(\" \"),(_vm.snoozeActionsOpen)?[_c('ActionButton',{attrs:{\"close-after-click\":false},on:{\"click\":function($event){_vm.snoozeActionsOpen = false}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ChevronLeft',{attrs:{\"size\":20}})]},proxy:true}],null,false,3117353720)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Back'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_vm._l((_vm.reminderOptions),function(option){return _c('ActionButton',{key:option.key,attrs:{\"aria-label\":option.ariaLabel,\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onSnooze(option.timestamp)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(option.label)+\"\\n\\t\\t\")])}),_vm._v(\" \"),_c('NcActionSeparator'),_vm._v(\" \"),_c('NcActionInput',{attrs:{\"type\":\"datetime-local\",\"is-native-picker\":\"\",\"value\":_vm.customSnoozeDateTime,\"min\":new Date()},on:{\"change\":_vm.setCustomSnoozeDateTime},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CalendarClock',{attrs:{\"size\":20}})]},proxy:true}],null,false,1325980530)}),_vm._v(\" \"),_c('NcActionButton',{attrs:{\"aria-label\":_vm.t('spreed', 'Set custom snooze'),\"close-after-click\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setCustomSnooze(_vm.customSnoozeDateTime)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('spreed', 'Set custom snooze'))+\"\\n\\t\\t\")])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Standard Actions menu for Envelopes -->\n<template>\n\t<div>\n\t\t<template v-if=\"!localMoreActionsOpen && !snoozeActionsOpen\">\n\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\tclass=\"action--primary\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onToggleImportant\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ImportantIcon\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tisImportant ? t('mail', 'Unimportant') : t('mail', 'Important')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"withReply\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"onReply\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ReplyAllIcon v-if=\"hasMultipleRecipients\"\n\t\t\t\t\t\t:title=\"t('mail', 'Reply all')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t<ReplyIcon v-else\n\t\t\t\t\t\t:title=\"t('mail', 'Reply')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Reply') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"hasMultipleRecipients\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"onReply(true)\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ReplyIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Reply to sender only')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Reply to sender only') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click=\"onForward\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ShareIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Forward')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Forward') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onToggleJunk\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AlertOctagonIcon\n\t\t\t\t\t\t:title=\"envelope.flags.$junk ? t('mail', 'Mark not spam') : t('mail', 'Mark as spam')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tenvelope.flags.$junk ? t('mail', 'Mark not spam') : t('mail', 'Mark as spam')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"hasWriteAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-tag-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<TagIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Edit tags')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Edit tags') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"withSelect\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"toggleSelected\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t:title=\"isSelected ? t('mail', 'Unselect') : t('mail', 'Select')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tisSelected ? t('mail', 'Unselect') : t('mail', 'Select')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton\n\t\t\t\tv-if=\"hasDeleteAcl\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-move-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<OpenInNewIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Move message')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Move message') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && !isSnoozedMailbox\"\n\t\t\t\t:close-after-click=\"false\"\n\t\t\t\t@click=\"snoozeActionsOpen = true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Snooze')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Snooze') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!isSnoozeDisabled && isSnoozedMailbox\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"onUnSnooze\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AlarmIcon :title=\"t('mail', 'Unsnooze')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Unsnooze') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t@click=\"localMoreActionsOpen=true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DotsHorizontalIcon\n\t\t\t\t\t\t:title=\"t('mail', 'More actions')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t\t<template v-if=\"localMoreActionsOpen\">\n\t\t\t<ActionButton :close-after-click=\"false\"\n\t\t\t\t@click=\"localMoreActionsOpen=false\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ChevronLeft\n\t\t\t\t\t\t:title=\"t('mail', 'More actions')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t{{ t('mail', 'More actions') }}\n\t\t\t\t</template>\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"forwardSelectedAsAttachment\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ShareIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Forward message as attachment')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Forward message as attachment') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click=\"onOpenEditAsNew\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<PlusIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Edit as new message')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Edit as new message') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-event-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CalendarBlankIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Create event')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Create event') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton :close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('open-task-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<TaskIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Create task')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Create task') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"withShowSource\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"$emit('show-source-modal')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<InformationIcon\n\t\t\t\t\t\t:title=\"t('mail', 'View source')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'View source') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionLink\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t:href=\"exportMessageLink\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DownloadIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Download message') }}\n\t\t\t</ActionLink>\n\t\t\t<ActionLink v-if=\"debug\"\n\t\t\t\t:download=\"threadingFileName\"\n\t\t\t\t:href=\"threadingFile\"\n\t\t\t\t:close-after-click=\"true\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DownloadIcon\n\t\t\t\t\t\t:title=\"t('mail', 'Download thread data for debugging')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Download thread data for debugging') }}\n\t\t\t</ActionLink>\n\t\t</template>\n\t\t<template v-if=\"snoozeActionsOpen\">\n\t\t\t<ActionButton\n\t\t\t\t:close-after-click=\"false\"\n\t\t\t\t@click=\"snoozeActionsOpen = false\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ChevronLeft\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{\n\t\t\t\t\tt('mail', 'Back')\n\t\t\t\t}}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionButton v-for=\"option in reminderOptions\"\n\t\t\t\t:key=\"option.key\"\n\t\t\t\t:aria-label=\"option.ariaLabel\"\n\t\t\t\tclose-after-click\n\t\t\t\t@click.stop=\"onSnooze(option.timestamp)\">\n\t\t\t\t{{ option.label }}\n\t\t\t</ActionButton>\n\n\t\t\t<NcActionSeparator />\n\n\t\t\t<NcActionInput type=\"datetime-local\"\n\t\t\t\tis-native-picker\n\t\t\t\t:value=\"customSnoozeDateTime\"\n\t\t\t\t:min=\"new Date()\"\n\t\t\t\t@change=\"setCustomSnoozeDateTime\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CalendarClock :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</NcActionInput>\n\n\t\t\t<NcActionButton :aria-label=\"t('spreed', 'Set custom snooze')\"\n\t\t\t\tclose-after-click\n\t\t\t\t@click.stop=\"setCustomSnooze(customSnoozeDateTime)\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<CheckIcon :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('spreed', 'Set custom snooze') }}\n\t\t\t</NcActionButton>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport {\n\tNcActionButton,\n\tNcActionButton as ActionButton,\n\tNcActionLink as ActionLink,\n} from '@nextcloud/vue'\nimport AlertOctagonIcon from 'vue-material-design-icons/AlertOctagon'\nimport { Base64 } from 'js-base64'\nimport { buildRecipients as buildReplyRecipients } from '../ReplyBuilder.js'\nimport CalendarBlankIcon from 'vue-material-design-icons/CalendarBlank'\nimport CheckIcon from 'vue-material-design-icons/Check'\nimport ChevronLeft from 'vue-material-design-icons/ChevronLeft'\nimport DotsHorizontalIcon from 'vue-material-design-icons/DotsHorizontal'\nimport DownloadIcon from 'vue-material-design-icons/Download'\nimport { mailboxHasRights } from '../util/acl.js'\nimport { generateUrl } from '@nextcloud/router'\nimport InformationIcon from 'vue-material-design-icons/Information'\nimport ImportantIcon from './icons/ImportantIcon.vue'\nimport OpenInNewIcon from 'vue-material-design-icons/OpenInNew'\nimport PlusIcon from 'vue-material-design-icons/Plus'\nimport ReplyIcon from 'vue-material-design-icons/Reply'\nimport ReplyAllIcon from 'vue-material-design-icons/ReplyAll'\nimport TaskIcon from 'vue-material-design-icons/CheckboxMarkedCirclePlusOutline'\nimport ShareIcon from 'vue-material-design-icons/Share'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\n\nimport TagIcon from 'vue-material-design-icons/Tag'\nimport CalendarClock from 'vue-material-design-icons/CalendarClock.vue'\nimport NcActionSeparator from '@nextcloud/vue/dist/Components/NcActionSeparator'\nimport NcActionInput from '@nextcloud/vue/dist/Components/NcActionInput'\nimport AlarmIcon from 'vue-material-design-icons/Alarm'\nimport logger from '../logger.js'\nimport moment from '@nextcloud/moment'\nimport { mapGetters } from 'vuex'\n\nexport default {\n\tname: 'MenuEnvelope',\n\tcomponents: {\n\t\tNcActionButton,\n\t\tNcActionInput,\n\t\tNcActionSeparator,\n\t\tCalendarClock,\n\t\tActionButton,\n\t\tActionLink,\n\t\tAlertOctagonIcon,\n\t\tCalendarBlankIcon,\n\t\tChevronLeft,\n\t\tCheckIcon,\n\t\tDotsHorizontalIcon,\n\t\tDownloadIcon,\n\t\tInformationIcon,\n\t\tOpenInNewIcon,\n\t\tPlusIcon,\n\t\tReplyIcon,\n\t\tReplyAllIcon,\n\t\tShareIcon,\n\t\tTagIcon,\n\t\tImportantIcon,\n\t\tTaskIcon,\n\t\tAlarmIcon,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\t// The envelope on which this menu will act\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\t// Required for checking ACLs\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmoreActionsOpen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t},\n\t\tisSelected: {\n\t\t\t// Indicates if the envelope is currently selected\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithReply: {\n\t\t\t// \"Reply\" action should only appear in envelopes from the envelope list\n\t\t\t// (Because in thread envelopes, this action is already set as primary button of this menu)\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSelect: {\n\t\t\t// \"Select\" action should only appear in envelopes from the envelope list\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithShowSource: {\n\t\t\t// \"Show source\" action should only appear in thread envelopes\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdebug: window?.OC?.debug || false,\n\t\t\tlocalMoreActionsOpen: false,\n\t\t\tsnoozeActionsOpen: false,\n\t\t\tforwardMessages: this.envelope.databaseId,\n\t\t\tcustomSnoozeDateTime: new Date(moment().add(2, 'hours').minute(0).second(0).valueOf()),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'isSnoozeDisabled',\n\t\t]),\n\t\taccount() {\n\t\t\tconst accountId = this.envelope.accountId ?? this.mailbox.accountId\n\t\t\treturn this.$store.getters.getAccount(accountId)\n\t\t},\n\t\thasMultipleRecipients() {\n\t\t\tif (!this.account) {\n\t\t\t\tconsole.error('account is undefined', {\n\t\t\t\t\taccountId: this.envelope.accountId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tconst recipients = buildReplyRecipients(this.envelope, {\n\t\t\t\tlabel: this.account.name,\n\t\t\t\temail: this.account.emailAddress,\n\t\t\t})\n\t\t\treturn recipients.to.concat(recipients.cc).length > 1\n\t\t},\n\t\tthreadingFile() {\n\t\t\treturn `data:text/plain;base64,${Base64.encode(JSON.stringify({\n\t\t\t\tsubject: this.envelope.subject,\n\t\t\t\tmessageId: this.envelope.messageId,\n\t\t\t\tinReplyTo: this.envelope.inReplyTo,\n\t\t\t\treferences: this.envelope.references,\n\t\t\t\tthreadRootId: this.envelope.threadRootId,\n\t\t\t}, null, 2))}`\n\t\t},\n\t\tthreadingFileName() {\n\t\t\treturn `${this.envelope.databaseId}.json`\n\t\t},\n\t\tshowFavoriteIconVariant() {\n\t\t\treturn this.envelope.flags.flagged\n\t\t},\n\t\tshowImportantIconVariant() {\n\t\t\treturn this.envelope.flags.seen\n\t\t},\n\t\tisImportant() {\n\t\t\treturn this.$store.getters\n\t\t\t\t.getEnvelopeTags(this.envelope.databaseId)\n\t\t\t\t.some((tag) => tag.imapLabel === '$label1')\n\t\t},\n\t\t/**\n\t\t * Link to download the whole message (.eml).\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\texportMessageLink() {\n\t\t\treturn generateUrl('/apps/mail/api/messages/{id}/export', {\n\t\t\t\tid: this.envelope.databaseId,\n\t\t\t})\n\t\t},\n\t\thasWriteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'w')\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\tisSnoozedMailbox() {\n\t\t\treturn this.mailbox.databaseId === this.account.snoozeMailboxId\n\t\t},\n\t\treminderOptions() {\n\t\t\tconst currentDateTime = moment()\n\n\t\t\t// Same day 18:00 PM (or hidden)\n\t\t\tconst laterTodayTime = (currentDateTime.hour() < 18)\n\t\t\t\t? moment().hour(18)\n\t\t\t\t: null\n\n\t\t\t// Tomorrow 08:00 AM\n\t\t\tconst tomorrowTime = moment().add(1, 'days').hour(8)\n\n\t\t\t// Saturday 08:00 AM (or hidden)\n\t\t\tconst thisWeekendTime = (currentDateTime.day() !== 6 && currentDateTime.day() !== 0)\n\t\t\t\t? moment().day(6).hour(8)\n\t\t\t\t: null\n\n\t\t\t// Next Monday 08:00 AM\n\t\t\tconst nextWeekTime = moment().add(1, 'weeks').day(1).hour(8)\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tkey: 'laterToday',\n\t\t\t\t\ttimestamp: this.getTimestamp(laterTodayTime),\n\t\t\t\t\tlabel: t('spreed', 'Later today  {timeLocale}', { timeLocale: laterTodayTime?.format('LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for later today'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'tomorrow',\n\t\t\t\t\ttimestamp: this.getTimestamp(tomorrowTime),\n\t\t\t\t\tlabel: t('spreed', 'Tomorrow  {timeLocale}', { timeLocale: tomorrowTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for tomorrow'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'thisWeekend',\n\t\t\t\t\ttimestamp: this.getTimestamp(thisWeekendTime),\n\t\t\t\t\tlabel: t('spreed', 'This weekend  {timeLocale}', { timeLocale: thisWeekendTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for this weekend'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'nextWeek',\n\t\t\t\t\ttimestamp: this.getTimestamp(nextWeekTime),\n\t\t\t\t\tlabel: t('spreed', 'Next week  {timeLocale}', { timeLocale: nextWeekTime?.format('ddd LT') }),\n\t\t\t\t\tariaLabel: t('spreed', 'Set reminder for next week'),\n\t\t\t\t},\n\t\t\t].filter(option => option.timestamp !== null)\n\t\t},\n\t},\n\twatch: {\n\t\tlocalMoreActionsOpen(value) {\n\t\t\tthis.$emit('update:moreActionsOpen', value)\n\t\t},\n\t},\n\tmethods: {\n\t\tonForward() {\n\t\t\tthis.$store.dispatch('startComposerSession', {\n\t\t\t\treply: {\n\t\t\t\t\tmode: 'forward',\n\t\t\t\t\tdata: this.envelope,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync onSnooze(timestamp) {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\tlogger.info(`snoozing message ${this.envelope.databaseId}`)\n\n\t\t\tif (!this.account.snoozeMailboxId) {\n\t\t\t\tawait this.$store.dispatch('createAndSetSnoozeMailbox', this.account)\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('snoozeMessage', {\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t\tunixTimestamp: timestamp / 1000,\n\t\t\t\t\tdestMailboxId: this.account.snoozeMailboxId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Message was snoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not snooze message', error)\n\t\t\t\tshowError(t('mail', 'Could not snooze message'))\n\t\t\t}\n\t\t},\n\t\tasync onUnSnooze() {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\tlogger.info(`unSnoozing message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('unSnoozeMessage', {\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Message was unsnoozed'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not unsnooze message', error)\n\t\t\t\tshowError(t('mail', 'Could not unsnooze message'))\n\t\t\t}\n\t\t},\n\t\tonToggleFlagged() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeFlagged', this.envelope)\n\t\t},\n\t\tonToggleImportant() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeImportant', this.envelope)\n\t\t},\n\t\tonToggleSeen() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeSeen', { envelope: this.envelope })\n\t\t},\n\t\tasync onToggleJunk() {\n\t\t\tconst removeEnvelope = await this.$store.dispatch('moveEnvelopeToJunk', this.envelope)\n\n\t\t\t/**\n\t\t\t * moveEnvelopeToJunk returns true if the envelope should be moved to a different mailbox.\n\t\t\t *\n\t\t\t * Our backend (MessageMapper.move) implemented move as copy and delete.\n\t\t\t * The message is copied to another mailbox and gets a new UID; the message in the current folder is deleted.\n\t\t\t *\n\t\t\t * Trigger the delete event here to open the next envelope and remove the current envelope from the list.\n\t\t\t * The delete event bubbles up to MailboxThread.deleteMessage and is forwarded to Mailbox.onDelete to the actual implementation.\n\t\t\t *\n\t\t\t * In Mailbox.onDelete, fetchNextEnvelopes requires the current envelope to find the next envelope.\n\t\t\t * Therefore, it must run before removing the envelope.\n\t\t\t */\n\n\t\t\tif (removeEnvelope) {\n\t\t\t\tawait this.$emit('delete', this.envelope.databaseId)\n\t\t\t}\n\n\t\t\tawait this.$store.dispatch('toggleEnvelopeJunk', {\n\t\t\t\tenvelope: this.envelope,\n\t\t\t\tremoveEnvelope,\n\t\t\t})\n\t\t},\n\t\ttoggleSelected() {\n\t\t\tthis.$emit('update:selected')\n\t\t},\n\t\tasync forwardSelectedAsAttachment() {\n\t\t\tawait this.$store.dispatch('startComposerSession', {\n\t\t\t\tforwardedMessages: [this.envelope.databaseId],\n\t\t\t})\n\t\t},\n\t\tonReply(onlySender = false) {\n\t\t\tthis.$store.dispatch('startComposerSession', {\n\t\t\t\treply: {\n\t\t\t\t\tmode: onlySender ? 'reply' : 'replyAll',\n\t\t\t\t\tdata: this.envelope,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync onOpenEditAsNew() {\n\t\t\tawait this.$store.dispatch('startComposerSession', {\n\t\t\t\ttemplateMessageId: this.envelope.databaseId,\n\t\t\t\tdata: this.envelope,\n\t\t\t})\n\t\t},\n\t\tgetTimestamp(momentObject) {\n\t\t\treturn momentObject?.minute(0).second(0).millisecond(0).valueOf() || null\n\t\t},\n\t\tsetCustomSnoozeDateTime(event) {\n\t\t\tthis.customSnoozeDateTime = new Date(event.target.value)\n\t\t},\n\t\tsetCustomSnooze() {\n\t\t\tthis.onSnooze(this.customSnoozeDateTime.valueOf())\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n\t.source-modal {\n\t\t:deep(.modal-container) {\n\t\t\theight: 800px;\n\t\t}\n\n\t\t.source-modal-content {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\toverflow-y: scroll !important;\n\t\t}\n\t}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=style&index=0&id=4531f01b&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuEnvelope.vue?vue&type=style&index=0&id=4531f01b&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MenuEnvelope.vue?vue&type=template&id=4531f01b&scoped=true\"\nimport script from \"./MenuEnvelope.vue?vue&type=script&lang=js\"\nexport * from \"./MenuEnvelope.vue?vue&type=script&lang=js\"\nimport style0 from \"./MenuEnvelope.vue?vue&type=style&index=0&id=4531f01b&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4531f01b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moment.vue?vue&type=script&lang=js\"","<template>\n\t<span :data-timestamp=\"timestamp * 1000\" :title=\"title\">{{ formatted }}</span>\n</template>\n\n<script>\nimport moment from '@nextcloud/moment'\nimport { shortRelativeDatetime } from '../util/shortRelativeDatetime.js'\n\nexport default {\n\tname: 'Moment',\n\tprops: {\n\t\ttimestamp: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tformat: {\n\t\t\ttype: String,\n\t\t\tdefault: 'LLL',\n\t\t},\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\treturn moment.unix(this.timestamp).format(this.format)\n\t\t},\n\t\tformatted() {\n\t\t\treturn shortRelativeDatetime(new Date(this.timestamp * 1000))\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./Moment.vue?vue&type=template&id=fdac5b12\"\nimport script from \"./Moment.vue?vue&type=script&lang=js\"\nexport * from \"./Moment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{attrs:{\"data-timestamp\":_vm.timestamp * 1000,\"title\":_vm.title}},[_vm._v(_vm._s(_vm.formatted))])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2021 Richard Steinmetz <richard@steinmetz.cloud>\n  - @author 2022 Jonas Sulzer <jonas@violoncello.ch>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div ref=\"envelope\"\n\t\tclass=\"envelope\"\n\t\t:class=\"{'envelope--expanded' : expanded }\">\n\t\t<div class=\"envelope__header\">\n\t\t\t<div class=\"envelope__header__avatar\">\n\t\t\t\t<Avatar v-if=\"envelope.from && envelope.from[0]\"\n\t\t\t\t\t:email=\"envelope.from[0].email\"\n\t\t\t\t\t:display-name=\"envelope.from[0].label\"\n\t\t\t\t\t:disable-tooltip=\"true\"\n\t\t\t\t\t:size=\"40\" />\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"isImportant\"\n\t\t\t\t\tclass=\"app-content-list-item-star icon-important\"\n\t\t\t\t\t:data-starred=\"isImportant ? 'true' : 'false'\"\n\t\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleImportant() : false\"\n\t\t\t\t\tv-html=\"importantSvg\" />\n\t\t\t\t<IconFavorite\n\t\t\t\t\tv-if=\"envelope.flags.flagged\"\n\t\t\t\t\tfill-color=\"#f9cf3d\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\tclass=\"app-content-list-item-star favorite-icon-style\"\n\t\t\t\t\t:data-starred=\"envelope.flags.flagged ? 'true' : 'false'\"\n\t\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleFlagged() : false\" />\n\t\t\t\t<JunkIcon\n\t\t\t\t\tv-if=\"envelope.flags.$junk\"\n\t\t\t\t\t:size=\"18\"\n\t\t\t\t\tclass=\"app-content-list-item-star junk-icon-style\"\n\t\t\t\t\t:data-starred=\"envelope.flags.$junk ? 'true' : 'false'\"\n\t\t\t\t\t@click.prevent=\"hasWriteAcl ? onToggleJunk() : false\" />\n\t\t\t</div>\n\n\t\t\t<router-link\n\t\t\t\t:to=\"route\"\n\t\t\t\tevent=\"\"\n\t\t\t\tclass=\"left\"\n\t\t\t\t:class=\"{seen: envelope.flags.seen}\"\n\t\t\t\t@click.native.prevent=\"$emit('toggle-expand', $event)\">\n\t\t\t\t<div class=\"envelope__header__left__sender-subject-tags\">\n\t\t\t\t\t<div class=\"sender\">\n\t\t\t\t\t\t{{ envelope.from && envelope.from[0] ? envelope.from[0].label : '' }}\n\t\t\t\t\t\t<p class=\"sender__email\">\n\t\t\t\t\t\t\t{{ envelope.from && envelope.from[0] ? envelope.from[0].email : '' }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"hasChangedSubject\" class=\"subline\">\n\t\t\t\t\t\t{{ cleanSubject }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"showSubline\" class=\"subline\">\n\t\t\t\t\t\t<span class=\"preview\">\n\t\t\t\t\t\t\t{{ isEncrypted ? t('mail', 'Encrypted message') : envelope.previewText }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-for=\"tag in tags\"\n\t\t\t\t\t\t:key=\"tag.id\"\n\t\t\t\t\t\tclass=\"tag-group\">\n\t\t\t\t\t\t<div class=\"tag-group__bg\"\n\t\t\t\t\t\t\t:style=\"{'background-color': tag.color}\" />\n\t\t\t\t\t\t<span class=\"tag-group__label\"\n\t\t\t\t\t\t\t:style=\"{color: tag.color}\">{{ tag.displayName }} </span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"envelope__header__left__unsubscribe\">\n\t\t\t\t\t<NcButton\n\t\t\t\t\t\tv-if=\"message && message.dkimValid && (message.unsubscribeUrl || message.unsubscribeMailto)\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\tclass=\"envelope__header__unsubscribe\"\n\t\t\t\t\t\t@click=\"showListUnsubscribeConfirmation = true\">\n\t\t\t\t\t\t{{ t('mail', 'Unsubscribe') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</router-link>\n\t\t\t<div class=\"right\">\n\t\t\t\t<Moment class=\"timestamp\" :timestamp=\"envelope.dateInt\" />\n\t\t\t\t<template v-if=\"expanded\">\n\t\t\t\t\t<NcActions v-if=\"smimeData.isSigned || smimeData.isEncrypted\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<LockPlusIcon v-if=\"smimeData.isEncrypted\"\n\t\t\t\t\t\t\t\t:size=\"20\"\n\t\t\t\t\t\t\t\tfill-color=\"#008000\" />\n\t\t\t\t\t\t\t<LockIcon v-else-if=\"smimeData.signatureIsValid\"\n\t\t\t\t\t\t\t\t:size=\"20\"\n\t\t\t\t\t\t\t\tfill-color=\"#008000\" />\n\t\t\t\t\t\t\t<LockOffIcon v-else\n\t\t\t\t\t\t\t\t:size=\"20\"\n\t\t\t\t\t\t\t\tfill-color=\"red\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<NcActionText class=\"smime-text\" :title=\"smimeHeading\">\n\t\t\t\t\t\t\t{{ smimeMessage }}\n\t\t\t\t\t\t</NcActionText>\n\t\t\t\t\t\t<!-- TODO: display information about signer and/or CA certificate -->\n\t\t\t\t\t</NcActions>\n\t\t\t\t\t<NcActions :inline=\"inlineMenuSize\">\n\t\t\t\t\t\t<NcActionButton v-if=\"inlineMenuSize >= 1 || !moreActionsOpen\"\n\t\t\t\t\t\t\t:class=\"{ primary: expanded}\"\n\t\t\t\t\t\t\t:aria-label=\"hasMultipleRecipients ? t('mail', 'Reply all') : t('mail', 'Reply')\"\n\t\t\t\t\t\t\t:title=\"hasMultipleRecipients ? t('mail', 'Reply all') : t('mail', 'Reply')\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\t@click=\"onReply\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<ReplyAllIcon v-if=\"hasMultipleRecipients\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t<ReplyIcon v-else\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasWriteAcl && (inlineMenuSize >= 2 || !moreActionsOpen)\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t\t\t:aria-label=\"envelope.flags.flagged ? t('mail', 'Mark as unfavorite') : t('mail', 'Mark as favorite')\"\n\t\t\t\t\t\t\t:title=\"envelope.flags.flagged ? t('mail', 'Mark as unfavorite') : t('mail', 'Mark as favorite')\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t@click.prevent=\"onToggleFlagged\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<StarOutline v-if=\"showFavoriteIconVariant\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t<IconFavorite v-else\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasSeenAcl && (inlineMenuSize >= 3 || !moreActionsOpen)\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\tclass=\"action--primary\"\n\t\t\t\t\t\t\t:aria-label=\"envelope.flags.seen ? t('mail', 'Mark as unread') : t('mail', 'Mark as read')\"\n\t\t\t\t\t\t\t:title=\"envelope.flags.seen ? t('mail', 'Mark as unread') : t('mail', 'Mark as read')\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t@click.prevent=\"onToggleSeen\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<EmailRead v-if=\"showImportantIconVariant\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t\t<EmailUnread v-else\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"showArchiveButton && hasArchiveAcl && (inlineMenuSize >= 4 || !moreActionsOpen)\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t:title=\"t('mail', 'Archive message')\"\n\t\t\t\t\t\t\t:disabled=\"disableArchiveButton\"\n\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Archive message')\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\t@click.prevent=\"onArchive\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<ArchiveIcon\n\t\t\t\t\t\t\t\t\t:title=\"t('mail', 'Archive message')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<NcActionButton v-if=\"hasDeleteAcl && (inlineMenuSize >= 5 || !moreActionsOpen)\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t:title=\"t('mail', 'Delete message')\"\n\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Delete message')\"\n\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\t@click.prevent=\"onDelete\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<DeleteIcon\n\t\t\t\t\t\t\t\t\t:title=\"t('mail', 'Delete message')\"\n\t\t\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t<MenuEnvelope class=\"app-content-list-item-menu\"\n\t\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t\t\t\t:with-reply=\"false\"\n\t\t\t\t\t\t\t:with-select=\"false\"\n\t\t\t\t\t\t\t:with-show-source=\"true\"\n\t\t\t\t\t\t\t:more-actions-open.sync=\"moreActionsOpen\"\n\t\t\t\t\t\t\t@delete=\"$emit('delete',envelope.databaseId)\"\n\t\t\t\t\t\t\t@show-source-modal=\"onShowSourceModal\"\n\t\t\t\t\t\t\t@open-tag-modal=\"onOpenTagModal\"\n\t\t\t\t\t\t\t@open-move-modal=\"onOpenMoveModal\"\n\t\t\t\t\t\t\t@open-event-modal=\"onOpenEventModal\"\n\t\t\t\t\t\t\t@open-task-modal=\"onOpenTaskModal\" />\n\t\t\t\t\t</NcActions>\n\t\t\t\t\t<NcModal v-if=\"showSourceModal\" class=\"source-modal\" @close=\"onCloseSourceModal\">\n\t\t\t\t\t\t<div class=\"source-modal-content\">\n\t\t\t\t\t\t\t<div class=\"section\">\n\t\t\t\t\t\t\t\t<h2>{{ t('mail', 'Message source') }}</h2>\n\t\t\t\t\t\t\t\t<pre class=\"message-source\">{{ rawMessage }}</pre>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NcModal>\n\t\t\t\t\t<MoveModal v-if=\"showMoveModal\"\n\t\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t\t:envelopes=\"[envelope]\"\n\t\t\t\t\t\t@move=\"onMove\"\n\t\t\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t\t\t\t<EventModal v-if=\"showEventModal\"\n\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t@close=\"onCloseEventModal\" />\n\t\t\t\t\t<TaskModal v-if=\"showTaskModal\"\n\t\t\t\t\t\t:envelope=\"envelope\"\n\t\t\t\t\t\t@close=\"onCloseTaskModal\" />\n\t\t\t\t\t<TagModal\n\t\t\t\t\t\tv-if=\"showTagModal\"\n\t\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t\t:envelopes=\"[envelope]\"\n\t\t\t\t\t\t@close=\"onCloseTagModal\" />\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<MessageLoadingSkeleton v-if=\"loading !== LOADING_DONE\" />\n\t\t<Message v-if=\"message && loading !== LOADING_MESSAGE\"\n\t\t\tv-show=\"loading === LOADING_DONE\"\n\t\t\t:envelope=\"envelope\"\n\t\t\t:message=\"message\"\n\t\t\t:full-height=\"fullHeight\"\n\t\t\t@load=\"loading = LOADING_DONE\" />\n\t\t<Error v-else-if=\"error\"\n\t\t\t:error=\"error.message || t('mail', 'Not found')\"\n\t\t\tmessage=\"\"\n\t\t\t:data=\"error\"\n\t\t\t:auto-margin=\"true\"\n\t\t\trole=\"alert\" />\n\t\t<ConfirmModal v-if=\"message && message.unsubscribeUrl && message.isOneClickUnsubscribe && showListUnsubscribeConfirmation\"\n\t\t\t:confirm-text=\"t('mail', 'Unsubscribe')\"\n\t\t\t:title=\"t('mail', 'Unsubscribe via link')\"\n\t\t\t@cancel=\"showListUnsubscribeConfirmation = false\"\n\t\t\t@confirm=\"unsubscribeViaOneClick\">\n\t\t\t{{ t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: from }) }}\n\t\t</ConfirmModal>\n\t\t<ConfirmModal v-else-if=\"message && message.unsubscribeUrl && showListUnsubscribeConfirmation\"\n\t\t\t:confirm-text=\"t('mail', 'Unsubscribe')\"\n\t\t\t:confirm-url=\"message.unsubscribeUrl\"\n\t\t\t:title=\"t('mail', 'Unsubscribe via link')\"\n\t\t\t@cancel=\"showListUnsubscribeConfirmation = false\"\n\t\t\t@confirm=\"showListUnsubscribeConfirmation = false\">\n\t\t\t{{ t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: from }) }}\n\t\t</ConfirmModal>\n\t\t<ConfirmModal v-else-if=\"message && message.unsubscribeMailto && showListUnsubscribeConfirmation\"\n\t\t\t:confirm-text=\"t('mail', 'Send unsubscribe email')\"\n\t\t\t:title=\"t('mail', 'Unsubscribe via email')\"\n\t\t\t:disabled=\"unsubscribing\"\n\t\t\t@cancel=\"showListUnsubscribeConfirmation = false\"\n\t\t\t@confirm=\"unsubscribeViaMailto\">\n\t\t\t{{ t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: from }) }}\n\t\t</ConfirmModal>\n\t</div>\n</template>\n<script>\nimport Avatar from './Avatar.vue'\nimport { NcActionButton, NcButton, NcModal } from '@nextcloud/vue'\nimport ConfirmModal from './ConfirmationModal.vue'\nimport Error from './Error.vue'\nimport importantSvg from '../../img/important.svg'\nimport IconFavorite from 'vue-material-design-icons/Star'\nimport JunkIcon from './icons/JunkIcon.vue'\nimport MessageLoadingSkeleton from './MessageLoadingSkeleton.vue'\nimport logger from '../logger.js'\nimport Message from './Message.vue'\nimport MenuEnvelope from './MenuEnvelope.vue'\nimport Moment from './Moment.vue'\nimport { mailboxHasRights } from '../util/acl.js'\nimport ReplyIcon from 'vue-material-design-icons/Reply'\nimport ReplyAllIcon from 'vue-material-design-icons/ReplyAll'\nimport StarOutline from 'vue-material-design-icons/StarOutline'\nimport DeleteIcon from 'vue-material-design-icons/Delete'\nimport ArchiveIcon from 'vue-material-design-icons/PackageDown'\nimport EmailUnread from 'vue-material-design-icons/Email'\nimport EmailRead from 'vue-material-design-icons/EmailOpen'\nimport LockIcon from 'vue-material-design-icons/Lock'\nimport LockPlusIcon from 'vue-material-design-icons/LockPlus'\nimport LockOffIcon from 'vue-material-design-icons/LockOff'\nimport { buildRecipients as buildReplyRecipients } from '../ReplyBuilder.js'\nimport { hiddenTags } from './tags.js'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { matchError } from '../errors/match.js'\nimport NoTrashMailboxConfiguredError from '../errors/NoTrashMailboxConfiguredError.js'\nimport { isPgpText } from '../crypto/pgp.js'\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\nimport NcActionText from '@nextcloud/vue/dist/Components/NcActionText'\nimport { unsubscribe } from '../service/ListService.js'\nimport TagModal from './TagModal.vue'\nimport MoveModal from './MoveModal.vue'\nimport TaskModal from './TaskModal.vue'\nimport EventModal from './EventModal.vue'\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\n// Ternary loading state\nconst LOADING_DONE = 0\nconst LOADING_MESSAGE = 1\nconst LOADING_BODY = 2\n\nexport default {\n\tname: 'ThreadEnvelope',\n\tcomponents: {\n\t\tNcModal,\n\t\tEventModal,\n\t\tTaskModal,\n\t\tMoveModal,\n\t\tTagModal,\n\t\tConfirmModal,\n\t\tAvatar,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tError,\n\t\tIconFavorite,\n\t\tJunkIcon,\n\t\tMessageLoadingSkeleton,\n\t\tMenuEnvelope,\n\t\tMoment,\n\t\tMessage,\n\t\tReplyIcon,\n\t\tReplyAllIcon,\n\t\tStarOutline,\n\t\tEmailRead,\n\t\tEmailUnread,\n\t\tDeleteIcon,\n\t\tArchiveIcon,\n\t\tLockIcon,\n\t\tLockOffIcon,\n\t\tLockPlusIcon,\n\t\tNcActions,\n\t\tNcActionText,\n\t},\n\tprops: {\n\t\tenvelope: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tmailboxId: {\n\t\t\trequired: false,\n\t\t\ttype: [\n\t\t\t\tString,\n\t\t\t\tNumber,\n\t\t\t],\n\t\t\tdefault: undefined,\n\t\t},\n\t\texpanded: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tfullHeight: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithSelect: {\n\t\t\t// \"Select\" action should only appear in envelopes from the envelope list\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tthreadSubject: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: LOADING_DONE,\n\t\t\tshowListUnsubscribeConfirmation: false,\n\t\t\terror: undefined,\n\t\t\tmessage: undefined,\n\t\t\timportantSvg,\n\t\t\tunsubscribing: false,\n\t\t\tseenTimer: undefined,\n\t\t\tLOADING_BODY,\n\t\t\tLOADING_DONE,\n\t\t\tLOADING_MESSAGE,\n\t\t\trecomputeMenuSize: 0,\n\t\t\tmoreActionsOpen: false,\n\t\t\tshowSourceModal: false,\n\t\t\tshowMoveModal: false,\n\t\t\tshowEventModal: false,\n\t\t\tshowTaskModal: false,\n\t\t\tshowTagModal: false,\n\t\t\trawMessage: '', // Will hold the raw source of the message when requested\n\t\t}\n\t},\n\tcomputed: {\n\t\tinlineMenuSize() {\n\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\tconst { envelope } = this.$refs\n\t\t\tconst envelopeWidth = (envelope && envelope.clientWidth) || 250\n\t\t\tconst spaceToFill = envelopeWidth - 500 + this.recomputeMenuSize\n\t\t\treturn Math.floor(spaceToFill / 44)\n\t\t},\n\t\taccount() {\n\t\t\treturn this.$store.getters.getAccount(this.envelope.accountId)\n\t\t},\n\t\tfrom() {\n\t\t\tif (!this.message || !this.message.from.length) {\n\t\t\t\treturn '?'\n\t\t\t}\n\t\t\tif (this.message.from[0].label) {\n\t\t\t\treturn this.message.from[0].label\n\t\t\t}\n\t\t\treturn this.message.from[0].email\n\t\t},\n\t\thasMultipleRecipients() {\n\t\t\tif (!this.account) {\n\t\t\t\tconsole.error('account is undefined', {\n\t\t\t\t\taccountId: this.envelope.accountId,\n\t\t\t\t})\n\t\t\t}\n\t\t\tconst recipients = buildReplyRecipients(this.envelope, {\n\t\t\t\tlabel: this.account.name,\n\t\t\t\temail: this.account.emailAddress,\n\t\t\t})\n\t\t\treturn recipients.to.concat(recipients.cc).length > 1\n\t\t},\n\t\troute() {\n\t\t\treturn {\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.mailboxId || this.envelope.mailboxId,\n\t\t\t\t\tthreadId: this.envelope.databaseId,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tisEncrypted() {\n\t\t\treturn this.envelope.previewText\n\t\t\t\t&& isPgpText(this.envelope.previewText)\n\t\t},\n\t\tisImportant() {\n\t\t\treturn this.$store.getters\n\t\t\t\t.getEnvelopeTags(this.envelope.databaseId)\n\t\t\t\t.find((tag) => tag.imapLabel === '$label1')\n\t\t},\n\t\ttags() {\n\t\t\treturn this.$store.getters.getEnvelopeTags(this.envelope.databaseId).filter(\n\t\t\t\t(tag) => tag.imapLabel !== '$label1' && !(tag.displayName.toLowerCase() in hiddenTags)\n\t\t\t)\n\t\t},\n\t\thasChangedSubject() {\n\t\t\treturn this.cleanSubject !== this.cleanThreadSubject\n\t\t},\n\t\tcleanSubject() {\n\t\t\treturn this.filterSubject(this.envelope.subject)\n\t\t},\n\t\tcleanThreadSubject() {\n\t\t\treturn this.filterSubject(this.threadSubject)\n\t\t},\n\t\tshowSubline() {\n\t\t\treturn !this.expanded && !!this.envelope.previewText\n\t\t},\n\t\tshowArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t},\n\t\tdisableArchiveButton() {\n\t\t\treturn this.account.archiveMailboxId !== null\n\t\t\t\t&& this.account.archiveMailboxId === this.mailbox.databaseId\n\t\t},\n\t\tjunkFavoritePosition() {\n\t\t\treturn this.showSubline && this.tags.length > 0\n\t\t},\n\t\tshowFavoriteIconVariant() {\n\t\t\treturn this.envelope.flags.flagged\n\t\t},\n\t\tshowImportantIconVariant() {\n\t\t\treturn this.envelope.flags.seen\n\t\t},\n\t\thasSeenAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 's')\n\t\t},\n\t\thasArchiveAcl() {\n\t\t\tconst hasDeleteSourceAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t\t}\n\n\t\t\tconst hasCreateDestinationAcl = () => {\n\t\t\t\treturn mailboxHasRights(this.archiveMailbox, 'i')\n\t\t\t}\n\n\t\t\treturn hasDeleteSourceAcl() && hasCreateDestinationAcl()\n\t\t},\n\t\thasDeleteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'te')\n\t\t},\n\t\thasWriteAcl() {\n\t\t\treturn mailboxHasRights(this.mailbox, 'w')\n\t\t},\n\t\tmailbox() {\n\t\t\treturn this.$store.getters.getMailbox(this.mailboxId)\n\t\t},\n\t\tarchiveMailbox() {\n\t\t\treturn this.$store.getters.getMailbox(this.account.archiveMailboxId)\n\t\t},\n\t\t/**\n\t\t * @return {{isSigned: (boolean|undefined), signatureIsValid: (boolean|undefined)}}\n\t\t */\n\t\tsmimeData() {\n\t\t\treturn this.message?.smime ?? {}\n\t\t},\n\t\tsmimeHeading() {\n\t\t\tif (this.smimeData.isEncrypted) {\n\t\t\t\treturn t('mail', 'Encrypted & verified ')\n\t\t\t}\n\n\t\t\tif (this.smimeData.signatureIsValid) {\n\t\t\t\treturn t('mail', 'Signature verified')\n\t\t\t}\n\n\t\t\treturn t('mail', 'Signature unverified ')\n\t\t},\n\t\tsmimeMessage() {\n\t\t\tif (this.smimeData.isEncrypted) {\n\t\t\t\treturn t('mail', 'This message was encrypted by the sender before it was sent.')\n\t\t\t}\n\n\t\t\tif (this.smimeData.signatureIsValid) {\n\t\t\t\treturn t('mail', 'This message contains a verified digital S/MIME signature. The message wasn\\'t changed since it was sent.')\n\t\t\t}\n\n\t\t\treturn t('mail', 'This message contains an unverified digital S/MIME signature. The message might have been changed since it was sent or the certificate of the signer is untrusted.')\n\t\t},\n\t},\n\twatch: {\n\t\texpanded(expanded) {\n\t\t\tif (expanded) {\n\t\t\t\tthis.fetchMessage()\n\t\t\t} else {\n\t\t\t\tthis.message = undefined\n\t\t\t\tthis.loading = LOADING_DONE\n\t\t\t}\n\t\t},\n\t},\n\tasync mounted() {\n\t\twindow.addEventListener('resize', this.redrawMenuBar)\n\t\tif (this.expanded) {\n\t\t\tawait this.fetchMessage()\n\n\t\t\t// Only one envelope is expanded at the time of mounting so we can\n\t\t\t// assume that this is the relevant envelope to be scrolled to.\n\t\t\tthis.$nextTick(() => this.scrollToCurrentEnvelope())\n\t\t}\n\t\tthis.$checkInterval = setInterval(() => {\n\t\t\tconst { envelope } = this.$refs\n\t\t\tconst isWidthAvailable = (envelope && envelope.clientWidth > 0)\n\t\t\tif (isWidthAvailable) {\n\t\t\t\tthis.redrawMenuBar()\n\t\t\t\tclearInterval(this.$checkInterval)\n\t\t\t}\n\t\t}, 100)\n\t},\n\tbeforeDestroy() {\n\t\tif (this.seenTimer !== undefined) {\n\t\t\tlogger.info('Navigating away before seenTimer delay, will not mark message as seen/read')\n\t\t\tclearTimeout(this.seenTimer)\n\t\t}\n\t\twindow.removeEventListener('resize', this.redrawMenuBar)\n\t},\n\tmethods: {\n\t\tredrawMenuBar() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.recomputeMenuSize++\n\t\t\t})\n\t\t},\n\t\tfilterSubject(value) {\n\t\t\treturn value.replace(/((?:[\\t ]*(?:R|RE|F|FW|FWD):[\\t ]*)*)/i, '')\n\t\t},\n\t\tasync fetchMessage() {\n\t\t\tthis.loading = LOADING_MESSAGE\n\t\t\tthis.error = undefined\n\n\t\t\tlogger.debug(`fetching thread message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tthis.message = await this.$store.dispatch('fetchMessage', this.envelope.databaseId)\n\t\t\t\tlogger.debug(`message ${this.envelope.databaseId} fetched`, { message: this.message })\n\n\t\t\t\tif (!this.envelope.flags.seen && this.hasSeenAcl) {\n\t\t\t\t\tlogger.info('Starting timer to mark message as seen/read')\n\t\t\t\t\tthis.seenTimer = setTimeout(() => {\n\t\t\t\t\t\tthis.$store.dispatch('toggleEnvelopeSeen', { envelope: this.envelope })\n\t\t\t\t\t\tthis.seenTimer = undefined\n\t\t\t\t\t}, 2000)\n\t\t\t\t}\n\n\t\t\t\tif (this.message.hasHtmlBody) {\n\t\t\t\t\tthis.loading = LOADING_BODY\n\t\t\t\t} else {\n\t\t\t\t\tthis.loading = LOADING_DONE\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.error = error\n\t\t\t\tthis.loading = LOADING_DONE\n\t\t\t\tlogger.error('Could not fetch message', { error })\n\t\t\t}\n\n\t\t\t// Fetch itineraries if they haven't been included in the message data\n\t\t\tif (this.message && !this.message.itineraries) {\n\t\t\t\tthis.fetchItineraries()\n\t\t\t}\n\t\t\t// Fetch dkim\n\t\t\tif (this.message && this.message.dkimValid === undefined) {\n\t\t\t\tthis.fetchDkim()\n\t\t\t}\n\t\t},\n\t\tasync fetchItineraries() {\n\t\t\t// Sanity check before actually making the request\n\t\t\tif (!this.message.hasHtmlBody && this.message.attachments.length === 0) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlogger.debug(`Fetching itineraries for message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tconst itineraries = await this.$store.dispatch('fetchItineraries', this.envelope.databaseId)\n\t\t\t\tlogger.debug(`Itineraries of message ${this.envelope.databaseId} fetched`, { itineraries })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not fetch itineraries of message ${this.envelope.databaseId}`, { error })\n\t\t\t}\n\t\t},\n\t\tasync fetchDkim() {\n\t\t\tif (this.message.hasDkimSignature === false) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlogger.debug(`Fetching DKIM for message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tconst dkim = await this.$store.dispatch('fetchDkim', this.envelope.databaseId)\n\t\t\t\tlogger.debug(`DKIM of message ${this.envelope.databaseId} fetched`, { dkim })\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not fetch DKIM of message ${this.envelope.databaseId}`, { error })\n\t\t\t}\n\t\t},\n\t\tscrollToCurrentEnvelope() {\n\t\t\t// Account for global navigation bar and thread header\n\t\t\tconst globalHeader = document.querySelector('#header').clientHeight\n\t\t\tconst threadHeader = document.querySelector('#mail-thread-header').clientHeight\n\t\t\tconst top = this.$el.getBoundingClientRect().top - globalHeader - threadHeader\n\t\t\twindow.scrollTo({ top })\n\t\t},\n\t\tonReply() {\n\t\t\tthis.$store.dispatch('startComposerSession', {\n\t\t\t\treply: {\n\t\t\t\t\tmode: this.hasMultipleRecipients ? 'replyAll' : 'reply',\n\t\t\t\t\tdata: this.envelope,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tonToggleImportant() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeImportant', this.envelope)\n\t\t},\n\t\tonToggleFlagged() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeFlagged', this.envelope)\n\t\t},\n\t\tonToggleJunk() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeJunk', this.envelope)\n\t\t},\n\t\tonToggleSeen() {\n\t\t\tthis.$store.dispatch('toggleEnvelopeSeen', { envelope: this.envelope })\n\t\t},\n\t\tasync onDelete() {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\t// Delete\n\t\t\tthis.$emit('delete', this.envelope.databaseId)\n\n\t\t\tlogger.info(`deleting message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('deleteMessage', {\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\t[NoTrashMailboxConfiguredError.getName()]() {\n\t\t\t\t\t\treturn t('mail', 'No trash mailbox configured')\n\t\t\t\t\t},\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tasync onArchive() {\n\t\t\t// Remove from selection first\n\t\t\tif (this.withSelect) {\n\t\t\t\tthis.$emit('unselect')\n\t\t\t}\n\n\t\t\t// Archive\n\t\t\tthis.$emit('archive', this.envelope.databaseId)\n\n\t\t\tlogger.info(`archiving message ${this.envelope.databaseId}`)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('moveMessage', {\n\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t\tdestMailboxId: this.account.archiveMailboxId,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not archive message', error)\n\t\t\t\treturn t('mail', 'Could not archive message')\n\t\t\t}\n\t\t},\n\t\tasync unsubscribeViaOneClick() {\n\t\t\ttry {\n\t\t\t\tthis.unsubscribing = true\n\n\t\t\t\tawait unsubscribe(this.envelope.databaseId)\n\t\t\t\tshowSuccess(t('mail', 'Unsubscribe request sent'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not one-click unsubscribe', { error })\n\t\t\t\tshowError(t('mail', 'Could not unsubscribe from mailing list'))\n\t\t\t} finally {\n\t\t\t\tthis.unsubscribing = false\n\t\t\t\tthis.showListUnsubscribeConfirmation = false\n\t\t\t}\n\t\t},\n\t\tasync unsubscribeViaMailto() {\n\t\t\tconst mailto = this.message.unsubscribeMailto\n\t\t\tconst [email, paramString] = mailto.replace(/^mailto:/, '').split('?')\n\t\t\tlet params = {}\n\t\t\tconst now = new Date().getTime() / 1000\n\t\t\tif (paramString) {\n\t\t\t\tparams = paramString.split('&').map(encoded => ({\n\t\t\t\t\tkey: encoded.split('=')[0].toLowerCase(),\n\t\t\t\t\tvalue: decodeURIComponent(encoded.split('=')[1]),\n\t\t\t\t}))\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.unsubscribing = true\n\t\t\t\tconst message = await this.$store.dispatch('outbox/enqueueMessage', {\n\t\t\t\t\tmessage: {\n\t\t\t\t\t\taccountId: this.message.accountId,\n\t\t\t\t\t\tsubject: params.subject || 'Unsubscribe',\n\t\t\t\t\t\tbody: params.body || '',\n\t\t\t\t\t\teditorBody: params.body || '',\n\t\t\t\t\t\tisHtml: false,\n\t\t\t\t\t\tto: [{\n\t\t\t\t\t\t\tlabel: email,\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tcc: [],\n\t\t\t\t\t\tbcc: [],\n\t\t\t\t\t\tattachments: [],\n\t\t\t\t\t\taliasId: null,\n\t\t\t\t\t\tinReplyToMessageId: null,\n\t\t\t\t\t\tsendAt: now,\n\t\t\t\t\t\tdraftId: null,\n\t\t\t\t\t\tsmimeEncrypt: false,\n\t\t\t\t\t\tsmimeSign: false,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tlogger.debug('Unsubscribe email to ' + email + ' enqueued')\n\t\t\t\tawait this.$store.dispatch('outbox/sendMessage', { id: message.id })\n\t\t\t\tlogger.debug('Unsubscribe email sent to ' + email)\n\t\t\t\tshowSuccess(t('mail', 'Unsubscribe request sent'))\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('Could not enqueue or send unsubscribe email', { error })\n\t\t\t\tshowError(t('mail', 'Could not unsubscribe from mailing list'))\n\t\t\t} finally {\n\t\t\t\tthis.unsubscribing = false\n\t\t\t\tthis.showListUnsubscribeConfirmation = false\n\t\t\t}\n\t\t},\n\t\tonMove() {\n\t\t\tthis.$emit('move')\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonOpenEventModal() {\n\t\t\tthis.showEventModal = true\n\t\t},\n\t\tonCloseEventModal() {\n\t\t\tthis.showEventModal = false\n\t\t},\n\t\tonOpenTaskModal() {\n\t\t\tthis.showTaskModal = true\n\t\t},\n\t\tonCloseTaskModal() {\n\t\t\tthis.showTaskModal = false\n\t\t},\n\t\tonOpenTagModal() {\n\t\t\tthis.showTagModal = true\n\t\t},\n\t\tonCloseTagModal() {\n\t\t\tthis.showTagModal = false\n\t\t},\n\t\tasync onShowSourceModal() {\n\t\t\tif (this.rawMessage.length === 0) {\n\t\t\t\tconst resp = await axios.get(\n\t\t\t\t\tgenerateUrl('/apps/mail/api/messages/{id}/source', {\n\t\t\t\t\t\tid: this.envelope.databaseId,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\tthis.rawMessage = resp.data.source\n\t\t\t}\n\t\t\tthis.showSourceModal = true\n\t\t},\n\t\tonCloseSourceModal() {\n\t\t\tthis.showSourceModal = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.sender {\n\t\tmargin-left: 8px;\n\n\t\t&__email{\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\n\t.right {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tmargin-left: 10px;\n\t\theight: 44px;\n\n\t\t.app-content-list-item-menu {\n\t\t\tmargin-left: 4px;\n\t\t}\n\n\t\t.timestamp {\n\t\t\tmargin-right: 10px;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\twhite-space: nowrap;\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t}\n\t.button {\n\t\tcolor: var(--color-main-background);\n\t\t&:not(.active):not(.primary) {\n\t\t\tdisplay: none;\n\n\t\t\t&.primary {\n\t\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t\topacity: 1;\n\t\t\t\tmargin-bottom: 0;\n\n\t\t\t}\n\t\t}\n\t}\n\n\t.envelope {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tborder: 2px solid var(--color-border);\n\t\tborder-radius: 16px;\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t\tbackground-color: var(--color-main-background);\n\t\tpadding-bottom: 28px;\n\t\tanimation: show 200ms 90ms cubic-bezier(.17, .67, .83, .67) forwards;\n\t\topacity: 0.5;\n\t\ttransform-origin: top center;\n\t\t@keyframes show {\n\t\t\t100% {\n\t\t\t\topacity: 1;\n\t\t\t\ttransform: none;\n\t\t\t}\n\t\t}\n\n\t\t& + .envelope {\n\t\t\tmargin-top: -28px;\n\t\t}\n\n\t\t&:last-of-type {\n\t\t\tmargin-bottom: 10px;\n\t\t\tpadding-bottom: 0;\n\t\t}\n\n\t\t&__header {\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\tmin-height: 68px; /* prevents jumping between open/collapsed */\n\n\t\t\t&__avatar {\n\t\t\t\tposition: relative;\n\n\t\t\t\t.app-content-list-item-star {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\t&.icon-important {\n\t\t\t\t\t\tbackground-image: none;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\twidth: 16px;\n\t\t\t\t\t\theight: 16px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\ttop: 0px;\n\t\t\t\t\t\tleft: 0px;\n\n\t\t\t\t\t\t&:hover,\n\t\t\t\t\t\t&:focus {\n\t\t\t\t\t\t\topacity: 0.5;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t:deep(path) {\n\t\t\t\t\t\t\tfill: #ffcc00;\n\t\t\t\t\t\t\tstroke: var(--color-main-background);\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t&.favorite-icon-style {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\tright: -2px;\n\n\t\t\t\t\t\tstroke: var(--color-main-background);\n\t\t\t\t\t\tstroke-width: 2;\n\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\topacity: .5;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t&.junk-icon-style {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\tbottom: -2px;\n\t\t\t\t\t\tright: -2px;\n\t\t\t\t\t\topacity: .2;\n\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\topacity: .1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&__unsubscribe {\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t}\n\t\t\t&__left__sender-subject-tags {\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\toverflow: hidden;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\n\t\t.subline {\n\t\t\tmargin-left: 8px;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tcursor: default;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t&--expanded {\n\t\t\tmin-height: 350px;\n\t\t}\n\t}\n\t.left {\n\t\tflex-grow: 1;\n\t\tmin-width: 0; /* https://css-tricks.com/flexbox-truncated-text/ */\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tz-index: 1;\n\t\tpadding: 2em;\n\t\tmargin: -2em;\n\t\tmargin-right: 0;\n\t\talign-items: center;\n\t}\n\t.left:not(.seen) {\n\t\tfont-weight: bold;\n\t}\n\t.tag-group__label {\n\t\tmargin: 0 7px;\n\t\tz-index: 2;\n\t\tfont-size: calc(var(--default-font-size) * 0.8);\n\t\tfont-weight: bold;\n\t\tpadding-left: 2px;\n\t\tpadding-right: 2px;\n\t}\n\t.tag-group__bg {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\topacity: 15%;\n\t}\n\t.tag-group {\n\t\tdisplay: inline-block;\n\t\tborder: 1px solid transparent;\n\t\tborder-radius: var(--border-radius-pill);\n\t\tposition: relative;\n\t\tmargin: 0 1px;\n\t\toverflow: hidden;\n\t\tleft: 4px;\n\t}\n\t.smime-text {\n\t\t// same as padding-right on action-text styling\n\t\tpadding-left: 14px;\n\t}\n\t:deep(.action-button__title) {\n\t\tfont-weight: normal;\n\t\tdisplay: inline;\n\t\talign-items: center;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=script&lang=js\"","/**\n * @copyright 2023 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2023 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport async function unsubscribe(id) {\n\tconst url = generateUrl('/apps/mail/api/list/unsubscribe/{id}', {\n\t\tid,\n\t})\n\n\taxios.post(url)\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=style&index=0&id=747433a3&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadEnvelope.vue?vue&type=style&index=0&id=747433a3&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ThreadEnvelope.vue?vue&type=template&id=747433a3&scoped=true\"\nimport script from \"./ThreadEnvelope.vue?vue&type=script&lang=js\"\nexport * from \"./ThreadEnvelope.vue?vue&type=script&lang=js\"\nimport style0 from \"./ThreadEnvelope.vue?vue&type=style&index=0&id=747433a3&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"747433a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"envelope\",staticClass:\"envelope\",class:{'envelope--expanded' : _vm.expanded }},[_c('div',{staticClass:\"envelope__header\"},[_c('div',{staticClass:\"envelope__header__avatar\"},[(_vm.envelope.from && _vm.envelope.from[0])?_c('Avatar',{attrs:{\"email\":_vm.envelope.from[0].email,\"display-name\":_vm.envelope.from[0].label,\"disable-tooltip\":true,\"size\":40}}):_vm._e(),_vm._v(\" \"),(_vm.isImportant)?_c('div',{staticClass:\"app-content-list-item-star icon-important\",attrs:{\"data-starred\":_vm.isImportant ? 'true' : 'false'},domProps:{\"innerHTML\":_vm._s(_vm.importantSvg)},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleImportant() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.envelope.flags.flagged)?_c('IconFavorite',{staticClass:\"app-content-list-item-star favorite-icon-style\",attrs:{\"fill-color\":\"#f9cf3d\",\"size\":18,\"data-starred\":_vm.envelope.flags.flagged ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleFlagged() : false}}}):_vm._e(),_vm._v(\" \"),(_vm.envelope.flags.$junk)?_c('JunkIcon',{staticClass:\"app-content-list-item-star junk-icon-style\",attrs:{\"size\":18,\"data-starred\":_vm.envelope.flags.$junk ? 'true' : 'false'},on:{\"click\":function($event){$event.preventDefault();_vm.hasWriteAcl ? _vm.onToggleJunk() : false}}}):_vm._e()],1),_vm._v(\" \"),_c('router-link',{staticClass:\"left\",class:{seen: _vm.envelope.flags.seen},attrs:{\"to\":_vm.route,\"event\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggle-expand', $event)}}},[_c('div',{staticClass:\"envelope__header__left__sender-subject-tags\"},[_c('div',{staticClass:\"sender\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.envelope.from && _vm.envelope.from[0] ? _vm.envelope.from[0].label : '')+\"\\n\\t\\t\\t\\t\\t\"),_c('p',{staticClass:\"sender__email\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.envelope.from && _vm.envelope.from[0] ? _vm.envelope.from[0].email : '')+\"\\n\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),(_vm.hasChangedSubject)?_c('div',{staticClass:\"subline\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.cleanSubject)+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showSubline)?_c('div',{staticClass:\"subline\"},[_c('span',{staticClass:\"preview\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.isEncrypted ? _vm.t('mail', 'Encrypted message') : _vm.envelope.previewText)+\"\\n\\t\\t\\t\\t\\t\")])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.tags),function(tag){return _c('div',{key:tag.id,staticClass:\"tag-group\"},[_c('div',{staticClass:\"tag-group__bg\",style:({'background-color': tag.color})}),_vm._v(\" \"),_c('span',{staticClass:\"tag-group__label\",style:({color: tag.color})},[_vm._v(_vm._s(tag.displayName)+\" \")])])})],2),_vm._v(\" \"),_c('div',{staticClass:\"envelope__header__left__unsubscribe\"},[(_vm.message && _vm.message.dkimValid && (_vm.message.unsubscribeUrl || _vm.message.unsubscribeMailto))?_c('NcButton',{staticClass:\"envelope__header__unsubscribe\",attrs:{\"type\":\"tertiary\"},on:{\"click\":function($event){_vm.showListUnsubscribeConfirmation = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribe'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('Moment',{staticClass:\"timestamp\",attrs:{\"timestamp\":_vm.envelope.dateInt}}),_vm._v(\" \"),(_vm.expanded)?[(_vm.smimeData.isSigned || _vm.smimeData.isEncrypted)?_c('NcActions',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.smimeData.isEncrypted)?_c('LockPlusIcon',{attrs:{\"size\":20,\"fill-color\":\"#008000\"}}):(_vm.smimeData.signatureIsValid)?_c('LockIcon',{attrs:{\"size\":20,\"fill-color\":\"#008000\"}}):_c('LockOffIcon',{attrs:{\"size\":20,\"fill-color\":\"red\"}})]},proxy:true}],null,false,3711721427)},[_vm._v(\" \"),_c('NcActionText',{staticClass:\"smime-text\",attrs:{\"title\":_vm.smimeHeading}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.smimeMessage)+\"\\n\\t\\t\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),_c('NcActions',{attrs:{\"inline\":_vm.inlineMenuSize}},[(_vm.inlineMenuSize >= 1 || !_vm.moreActionsOpen)?_c('NcActionButton',{class:{ primary: _vm.expanded},attrs:{\"aria-label\":_vm.hasMultipleRecipients ? _vm.t('mail', 'Reply all') : _vm.t('mail', 'Reply'),\"title\":_vm.hasMultipleRecipients ? _vm.t('mail', 'Reply all') : _vm.t('mail', 'Reply'),\"type\":\"tertiary-no-background\"},on:{\"click\":_vm.onReply},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.hasMultipleRecipients)?_c('ReplyAllIcon',{attrs:{\"size\":20}}):_c('ReplyIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1928057497)}):_vm._e(),_vm._v(\" \"),(_vm.hasWriteAcl && (_vm.inlineMenuSize >= 2 || !_vm.moreActionsOpen))?_c('NcActionButton',{staticClass:\"action--primary\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.envelope.flags.flagged ? _vm.t('mail', 'Mark as unfavorite') : _vm.t('mail', 'Mark as favorite'),\"title\":_vm.envelope.flags.flagged ? _vm.t('mail', 'Mark as unfavorite') : _vm.t('mail', 'Mark as favorite'),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleFlagged.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showFavoriteIconVariant)?_c('StarOutline',{attrs:{\"size\":20}}):_c('IconFavorite',{attrs:{\"size\":20}})]},proxy:true}],null,false,1876880570)}):_vm._e(),_vm._v(\" \"),(_vm.hasSeenAcl && (_vm.inlineMenuSize >= 3 || !_vm.moreActionsOpen))?_c('NcActionButton',{staticClass:\"action--primary\",attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.envelope.flags.seen ? _vm.t('mail', 'Mark as unread') : _vm.t('mail', 'Mark as read'),\"title\":_vm.envelope.flags.seen ? _vm.t('mail', 'Mark as unread') : _vm.t('mail', 'Mark as read'),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onToggleSeen.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.showImportantIconVariant)?_c('EmailRead',{attrs:{\"size\":20}}):_c('EmailUnread',{attrs:{\"size\":20}})]},proxy:true}],null,false,939729496)}):_vm._e(),_vm._v(\" \"),(_vm.showArchiveButton && _vm.hasArchiveAcl && (_vm.inlineMenuSize >= 4 || !_vm.moreActionsOpen))?_c('NcActionButton',{attrs:{\"close-after-click\":true,\"title\":_vm.t('mail', 'Archive message'),\"disabled\":_vm.disableArchiveButton,\"aria-label\":_vm.t('mail', 'Archive message'),\"type\":\"tertiary-no-background\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onArchive.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"title\":_vm.t('mail', 'Archive message'),\"size\":20}})]},proxy:true}],null,false,3586051918)}):_vm._e(),_vm._v(\" \"),(_vm.hasDeleteAcl && (_vm.inlineMenuSize >= 5 || !_vm.moreActionsOpen))?_c('NcActionButton',{attrs:{\"close-after-click\":true,\"title\":_vm.t('mail', 'Delete message'),\"aria-label\":_vm.t('mail', 'Delete message'),\"type\":\"tertiary-no-background\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeleteIcon',{attrs:{\"title\":_vm.t('mail', 'Delete message'),\"size\":20}})]},proxy:true}],null,false,698101614)}):_vm._e(),_vm._v(\" \"),_c('MenuEnvelope',{staticClass:\"app-content-list-item-menu\",attrs:{\"envelope\":_vm.envelope,\"mailbox\":_vm.mailbox,\"with-reply\":false,\"with-select\":false,\"with-show-source\":true,\"more-actions-open\":_vm.moreActionsOpen},on:{\"update:moreActionsOpen\":function($event){_vm.moreActionsOpen=$event},\"update:more-actions-open\":function($event){_vm.moreActionsOpen=$event},\"delete\":function($event){return _vm.$emit('delete',_vm.envelope.databaseId)},\"show-source-modal\":_vm.onShowSourceModal,\"open-tag-modal\":_vm.onOpenTagModal,\"open-move-modal\":_vm.onOpenMoveModal,\"open-event-modal\":_vm.onOpenEventModal,\"open-task-modal\":_vm.onOpenTaskModal}})],1),_vm._v(\" \"),(_vm.showSourceModal)?_c('NcModal',{staticClass:\"source-modal\",on:{\"close\":_vm.onCloseSourceModal}},[_c('div',{staticClass:\"source-modal-content\"},[_c('div',{staticClass:\"section\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Message source')))]),_vm._v(\" \"),_c('pre',{staticClass:\"message-source\"},[_vm._v(_vm._s(_vm.rawMessage))])])])]):_vm._e(),_vm._v(\" \"),(_vm.showMoveModal)?_c('MoveModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.envelope]},on:{\"move\":_vm.onMove,\"close\":_vm.onCloseMoveModal}}):_vm._e(),_vm._v(\" \"),(_vm.showEventModal)?_c('EventModal',{attrs:{\"envelope\":_vm.envelope},on:{\"close\":_vm.onCloseEventModal}}):_vm._e(),_vm._v(\" \"),(_vm.showTaskModal)?_c('TaskModal',{attrs:{\"envelope\":_vm.envelope},on:{\"close\":_vm.onCloseTaskModal}}):_vm._e(),_vm._v(\" \"),(_vm.showTagModal)?_c('TagModal',{attrs:{\"account\":_vm.account,\"envelopes\":[_vm.envelope]},on:{\"close\":_vm.onCloseTagModal}}):_vm._e()]:_vm._e()],2)],1),_vm._v(\" \"),(_vm.loading !== _vm.LOADING_DONE)?_c('MessageLoadingSkeleton'):_vm._e(),_vm._v(\" \"),(_vm.message && _vm.loading !== _vm.LOADING_MESSAGE)?_c('Message',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === _vm.LOADING_DONE),expression:\"loading === LOADING_DONE\"}],attrs:{\"envelope\":_vm.envelope,\"message\":_vm.message,\"full-height\":_vm.fullHeight},on:{\"load\":function($event){_vm.loading = _vm.LOADING_DONE}}}):(_vm.error)?_c('Error',{attrs:{\"error\":_vm.error.message || _vm.t('mail', 'Not found'),\"message\":\"\",\"data\":_vm.error,\"auto-margin\":true,\"role\":\"alert\"}}):_vm._e(),_vm._v(\" \"),(_vm.message && _vm.message.unsubscribeUrl && _vm.message.isOneClickUnsubscribe && _vm.showListUnsubscribeConfirmation)?_c('ConfirmModal',{attrs:{\"confirm-text\":_vm.t('mail', 'Unsubscribe'),\"title\":_vm.t('mail', 'Unsubscribe via link')},on:{\"cancel\":function($event){_vm.showListUnsubscribeConfirmation = false},\"confirm\":_vm.unsubscribeViaOneClick}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: _vm.from }))+\"\\n\\t\")]):(_vm.message && _vm.message.unsubscribeUrl && _vm.showListUnsubscribeConfirmation)?_c('ConfirmModal',{attrs:{\"confirm-text\":_vm.t('mail', 'Unsubscribe'),\"confirm-url\":_vm.message.unsubscribeUrl,\"title\":_vm.t('mail', 'Unsubscribe via link')},on:{\"cancel\":function($event){_vm.showListUnsubscribeConfirmation = false},\"confirm\":function($event){_vm.showListUnsubscribeConfirmation = false}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: _vm.from }))+\"\\n\\t\")]):(_vm.message && _vm.message.unsubscribeMailto && _vm.showListUnsubscribeConfirmation)?_c('ConfirmModal',{attrs:{\"confirm-text\":_vm.t('mail', 'Send unsubscribe email'),\"title\":_vm.t('mail', 'Unsubscribe via email'),\"disabled\":_vm.unsubscribing},on:{\"cancel\":function($event){_vm.showListUnsubscribeConfirmation = false},\"confirm\":_vm.unsubscribeViaMailto}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Unsubscribing will stop all messages from the mailing list {sender}', { sender: _vm.from }))+\"\\n\\t\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"summary__header\"},[_c('div',{staticClass:\"summary__header__actions\"},[_c('span',{staticClass:\"summary__header__actions__brand\"},[_c('CreationIcon',{staticClass:\"summary__header__actions__brand__icon\"}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.brand))])],1),_vm._v(\" \"),_c('NcActions'),_vm._v(\" \"),_c('NcButton',{attrs:{\"aria-label\":_vm.t('mail', 'Go to latest message'),\"type\":\"secondary\"},on:{\"click\":_vm.onScroll},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArrowDownIcon',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Go to newest message'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"summary__header__title\"},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Thread Summary')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"summary__body\"},[(_vm.loading)?_c('LoadingSkeleton',{attrs:{\"number-of-lines\":1,\"with-avatar\":false}}):_c('p',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.summary)+\"\\n\\t\\t\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"summary\">\n\t\t<div class=\"summary__header\">\n\t\t\t<div class=\"summary__header__actions\">\n\t\t\t\t<span class=\"summary__header__actions__brand\">\n\t\t\t\t\t<CreationIcon class=\"summary__header__actions__brand__icon\" />\n\t\t\t\t\t<p>{{ brand }}</p>\n\t\t\t\t</span>\n\t\t\t\t<NcActions />\n\t\t\t\t<NcButton\n\t\t\t\t\t:aria-label=\" t('mail', 'Go to latest message')\"\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t@click=\"onScroll\">\n\t\t\t\t\t{{ t('mail', 'Go to newest message') }}\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArrowDownIcon\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t\t<div class=\"summary__header__title\">\n\t\t\t\t<h2>{{ t('mail', 'Thread Summary') }}</h2>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"summary__body\">\n\t\t\t<LoadingSkeleton v-if=\"loading\" :number-of-lines=\"1\" :with-avatar=\"false\" />\n\t\t\t<p v-else>\n\t\t\t\t{{ summary }}\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\nimport CreationIcon from 'vue-material-design-icons/Creation'\nimport ArrowDownIcon from 'vue-material-design-icons/ArrowDown'\nimport LoadingSkeleton from './LoadingSkeleton.vue'\n\nexport default {\n\tname: 'ThreadSummary',\n\tcomponents: {\n\t\tLoadingSkeleton,\n\t\tNcButton,\n\t\tNcActions,\n\t\tCreationIcon,\n\t\tArrowDownIcon,\n\t},\n\tprops: {\n\t\tsummary: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tbrand() {\n\t\t\tif (OCA.Theming) {\n\t\t\t\treturn t('mail', '{name} Assistant', { name: OCA.Theming.name })\n\t\t\t}\n\t\t\treturn t('mail', '{name} Assistant', { name: 'Nextcloud' })\n\t\t},\n\t},\n\tmethods: {\n\t\tonScroll() {\n\t\t\tlet container = document.querySelector('.splitpanes__pane-details')\n\t\t\tif (!container) {\n\t\t\t\tcontainer = document.querySelector('.app-content-wrapper--mobile')\n\t\t\t}\n\t\t\tcontainer.scrollTo({ top: container.scrollHeight, left: 0, behavior: 'smooth' })\n\t\t},\n\t},\n\n}\n</script>\n<style lang=\"scss\" scoped>\n.summary{\n    border: 2px solid var(--color-primary-element);\n    border-radius:var( --border-radius-large) ;\n    margin: 0 10px 20px 10px;\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n\n    &__header{\n        display: flex;\n        flex-direction: column;\n        &__actions{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tmargin-bottom: 10px;\n            &__brand{\n                display: flex;\n                align-items: center;\n                background-color: var(--color-primary-light);\n                border-radius: var(--border-radius-pill);\n                width: fit-content;\n                padding-right: 10px;\n\t\t\t\tpadding-left: 4px;\n\t\t\t\tmargin: 8px 0 8px 0;\n\n                &__icon{\n                    color:var(--color-primary-element);\n                    margin-right: 5px;\n\t\t\t\t\tmargin-left:5px\n                }\n            }\n        }\n\n    }\n\t@media only screen and (max-width: 600px) {\n\t\t.summary{\n\t\t\t&__header{\n\t\t\t\tflex-direction: column;\n\t\t\t\t&__actions{\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t&__brand{\n\t\t\t\t\t\tflex-wrap: nowrap;\n\t\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=style&index=0&id=af0d430e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreadSummary.vue?vue&type=style&index=0&id=af0d430e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ThreadSummary.vue?vue&type=template&id=af0d430e&scoped=true\"\nimport script from \"./ThreadSummary.vue?vue&type=script&lang=js\"\nexport * from \"./ThreadSummary.vue?vue&type=script&lang=js\"\nimport style0 from \"./ThreadSummary.vue?vue&type=style&index=0&id=af0d430e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af0d430e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=script&lang=js\"","<template>\n\t<AppContentDetails id=\"mail-message\">\n\t\t<!-- Show outer loading screen only if we have no data about the thread -->\n\t\t<Loading v-if=\"loading && thread.length === 0\" :hint=\"t('mail', 'Loading thread')\" />\n\t\t<Error\n\t\t\tv-else-if=\"error\"\n\t\t\t:error=\"error && error.message ? error.message : t('mail', 'Not found')\"\n\t\t\t:message=\"errorMessage\" />\n\t\t<template v-else>\n\t\t\t<div id=\"mail-thread-header\">\n\t\t\t\t<div id=\"mail-thread-header-fields\">\n\t\t\t\t\t<h2 :title=\"threadSubject\">\n\t\t\t\t\t\t{{ threadSubject }}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div v-if=\"thread.length\" ref=\"avatarHeader\" class=\"avatar-header\">\n\t\t\t\t\t\t<!-- Participants that can fit in the parent div -->\n\t\t\t\t\t\t<RecipientBubble v-for=\"participant in threadParticipants.slice(0, participantsToDisplay)\"\n\t\t\t\t\t\t\t:key=\"participant.email\"\n\t\t\t\t\t\t\t:email=\"participant.email\"\n\t\t\t\t\t\t\t:label=\"participant.label\" />\n\t\t\t\t\t\t<!-- Indicator to show that there are more participants than displayed -->\n\t\t\t\t\t\t<Popover v-if=\"threadParticipants.length > participantsToDisplay\"\n\t\t\t\t\t\t\tclass=\"avatar-more\">\n\t\t\t\t\t\t\t<span slot=\"trigger\" class=\"avatar-more\">\n\t\t\t\t\t\t\t\t{{ moreParticipantsString }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<RecipientBubble v-for=\"participant in threadParticipants.slice(participantsToDisplay)\"\n\t\t\t\t\t\t\t\t:key=\"participant.email\"\n\t\t\t\t\t\t\t\t:email=\"participant.email\"\n\t\t\t\t\t\t\t\t:label=\"participant.label\" />\n\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t<!-- Remaining participants, if any (Needed to have avatarHeader reactive) -->\n\t\t\t\t\t\t<RecipientBubble v-for=\"participant in threadParticipants.slice(participantsToDisplay)\"\n\t\t\t\t\t\t\t:key=\"participant.email\"\n\t\t\t\t\t\t\tclass=\"avatar-hidden\"\n\t\t\t\t\t\t\t:email=\"participant.email\"\n\t\t\t\t\t\t\t:label=\"participant.label\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ThreadSummary v-if=\"showSummaryBox\" :loading=\"summaryLoading\" :summary=\"summaryText\" />\n\t\t\t<ThreadEnvelope v-for=\"env in thread\"\n\t\t\t\t:key=\"env.databaseId\"\n\t\t\t\t:envelope=\"env\"\n\t\t\t\t:mailbox-id=\"$route.params.mailboxId\"\n\t\t\t\t:thread-subject=\"threadSubject\"\n\t\t\t\t:expanded=\"expandedThreads.includes(env.databaseId)\"\n\t\t\t\t:full-height=\"thread.length === 1\"\n\t\t\t\t@delete=\"$emit('delete', env.databaseId)\"\n\t\t\t\t@move=\"onMove(env.databaseId)\"\n\t\t\t\t@toggle-expand=\"toggleExpand(env.databaseId)\" />\n\t\t</template>\n\t</AppContentDetails>\n</template>\n\n<script>\nimport { NcAppContentDetails as AppContentDetails, NcPopover as Popover } from '@nextcloud/vue'\nimport { showError } from '@nextcloud/dialogs'\n\nimport { prop, uniqBy } from 'ramda'\nimport debounce from 'lodash/fp/debounce'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { summarizeThread } from '../service/AiIntergrationsService.js'\nimport { getRandomMessageErrorMessage } from '../util/ErrorMessageFactory.js'\nimport Loading from './Loading.vue'\nimport logger from '../logger.js'\nimport Error from './Error.vue'\nimport RecipientBubble from './RecipientBubble.vue'\nimport ThreadEnvelope from './ThreadEnvelope.vue'\nimport ThreadSummary from './ThreadSummary.vue'\n\nexport default {\n\tname: 'Thread',\n\tcomponents: {\n\t\tRecipientBubble,\n\t\tThreadSummary,\n\t\tAppContentDetails,\n\t\tError,\n\t\tLoading,\n\t\tThreadEnvelope,\n\t\tPopover,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsummaryLoading: false,\n\t\t\tloading: true,\n\t\t\tmessage: undefined,\n\t\t\terrorMessage: '',\n\t\t\terror: undefined,\n\t\t\texpandedThreads: [],\n\t\t\tparticipantsToDisplay: 999,\n\t\t\tresizeDebounced: debounce(500, this.updateParticipantsToDisplay),\n\t\t\tenabledThreadSummary: loadState('mail', 'enabled_thread_summary', false),\n\t\t\tsummaryText: '',\n\t\t\tsummaryError: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tmoreParticipantsString() {\n\t\t\t// Returns a number showing the number of thread participants that are not shown in the avatar-header\n\t\t\treturn `+${this.threadParticipants.length - this.participantsToDisplay}`\n\t\t},\n\t\tthreadId() {\n\t\t\treturn parseInt(this.$route.params.threadId, 10)\n\t\t},\n\t\tthread() {\n\t\t\tconst envelope = this.$store.getters.getEnvelope(this.threadId)\n\t\t\tif (envelope === undefined) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tconst envelopes = this.$store.getters.getEnvelopesByThreadRootId(envelope.accountId, envelope.threadRootId)\n\t\t\tif (envelopes.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tconst currentMailbox = this.$store.getters.getMailbox(envelope.mailboxId)\n\t\t\tconst trashMailbox = this.$store.getters.getMailboxes(envelope.accountId).find(mailbox => mailbox.specialRole === 'trash')\n\t\t\tconst junkMailbox = this.$store.getters.getMailboxes(envelope.accountId).find(mailbox => mailbox.specialRole === 'junk')\n\n\t\t\tlet limitEnvelopesToCurrentMailbox = false\n\t\t\tconst mailboxesToIgnore = []\n\n\t\t\tif (trashMailbox !== undefined) {\n\t\t\t\tif (currentMailbox.databaseId === trashMailbox.databaseId) {\n\t\t\t\t\tlimitEnvelopesToCurrentMailbox = true\n\t\t\t\t}\n\t\t\t\tmailboxesToIgnore.push(trashMailbox.databaseId)\n\t\t\t}\n\n\t\t\tif (junkMailbox !== undefined) {\n\t\t\t\tif (currentMailbox.databaseId === junkMailbox.databaseId) {\n\t\t\t\t\tlimitEnvelopesToCurrentMailbox = true\n\t\t\t\t}\n\t\t\t\tmailboxesToIgnore.push(junkMailbox.databaseId)\n\t\t\t}\n\n\t\t\tif (limitEnvelopesToCurrentMailbox) {\n\t\t\t\treturn envelopes.filter(envelope => envelope.mailboxId === currentMailbox.databaseId)\n\t\t\t} else {\n\t\t\t\treturn envelopes.filter(envelope => !mailboxesToIgnore.includes(envelope.mailboxId))\n\t\t\t}\n\t\t},\n\t\tthreadParticipants() {\n\t\t\tconst recipients = this.thread.flatMap(envelope => {\n\t\t\t\treturn envelope.from.concat(envelope.to).concat(envelope.cc)\n\t\t\t})\n\t\t\treturn uniqBy(prop('email'), recipients)\n\t\t},\n\t\tthreadSubject() {\n\t\t\tconst thread = this.thread\n\t\t\tif (thread.length === 0) {\n\t\t\t\tconsole.warn('thread is empty')\n\t\t\t\treturn ''\n\t\t\t}\n\t\t\treturn thread[0].subject || this.t('mail', 'No subject')\n\t\t},\n\t\tshowSummaryBox() {\n\t\t\treturn this.thread.length > 2 && this.enabledThreadSummary && !this.summaryError\n\t\t},\n\t},\n\twatch: {\n\t\t$route(to, from) {\n\t\t\tif (\n\t\t\t\tfrom.name === to.name\n\t\t\t\t&& from.params.mailboxId === to.params.mailboxId\n\t\t\t\t&& from.params.threadId === to.params.threadId\n\t\t\t\t&& from.params.filter === to.params.filter\n\t\t\t) {\n\t\t\t\tlogger.debug('navigated but the thread is still the same')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlogger.debug('navigated to another thread', { to, from })\n\t\t\tthis.resetThread()\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.resetThread()\n\t\twindow.addEventListener('resize', this.resizeDebounced)\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('resize', this.resizeDebounced)\n\t},\n\tmethods: {\n\t\tasync updateSummary() {\n\t\t\tif (this.thread.length <= 2 || !this.enabledThreadSummary) return\n\n\t\t\tthis.summaryLoading = true\n\t\t\ttry {\n\t\t\t\tthis.summaryText = await summarizeThread(this.thread[0].databaseId)\n\t\t\t} catch (error) {\n\t\t\t\tthis.summaryError = true\n\t\t\t\tshowError(t('mail', 'Summarizing thread failed.'))\n\t\t\t\tlogger.error('Summarizing thread failed', { error })\n\t\t\t} finally {\n\t\t\t\tthis.summaryLoading = false\n\t\t\t}\n\t\t},\n\t\tupdateParticipantsToDisplay() {\n\t\t\t// Wait until everything is in place\n\t\t\tif (!this.$refs.avatarHeader || !this.threadParticipants) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Compute the number of participants to display depending on the width available\n\t\t\tconst avatarHeader = this.$refs.avatarHeader\n\t\t\tconst maxWidth = (avatarHeader.clientWidth - 100) // Reserve 100px for the avatar-more span\n\t\t\tlet childrenWidth = 0\n\t\t\tlet fits = 0\n\t\t\tlet idx = 0\n\t\t\twhile (childrenWidth < maxWidth && fits < this.threadParticipants.length) {\n\t\t\t\t// Skipping the 'avatar-more' span\n\t\t\t\tif (avatarHeader.childNodes[idx].clientWidth === undefined) {\n\t\t\t\t\tidx += 3\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tchildrenWidth += avatarHeader.childNodes[idx].clientWidth\n\t\t\t\tfits++\n\t\t\t\tidx++\n\t\t\t}\n\n\t\t\tif (childrenWidth > maxWidth) {\n\t\t\t\t// There's not enough space to show all thread participants\n\t\t\t\tif (fits > 1) {\n\t\t\t\t\tthis.participantsToDisplay = fits - 1\n\t\t\t\t} else if (fits === 0) {\n\t\t\t\t\tthis.participantsToDisplay = 1\n\t\t\t\t} else {\n\t\t\t\t\tthis.participantsToDisplay = fits\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// There's enough space to show all thread participants\n\t\t\t\tthis.participantsToDisplay = this.threadParticipants.length\n\t\t\t}\n\t\t},\n\t\ttoggleExpand(threadId) {\n\t\t\tif (this.thread.length === 1) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!this.expandedThreads.includes(threadId)) {\n\t\t\t\tconsole.debug(`expand thread ${threadId}`)\n\t\t\t\tthis.expandedThreads.push(threadId)\n\t\t\t} else {\n\t\t\t\tconsole.debug(`collapse thread ${threadId}`)\n\t\t\t\tthis.expandedThreads = this.expandedThreads.filter(t => t !== threadId)\n\t\t\t}\n\t\t},\n\t\tonMove(threadId) {\n\t\t\tif (threadId === this.threadId) {\n\t\t\t\tthis.$router.replace({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.expandedThreads = this.expandedThreads.filter((id) => id !== threadId)\n\t\t\t\tthis.fetchThread()\n\t\t\t}\n\t\t},\n\t\tasync resetThread() {\n\t\t\tthis.expandedThreads = [this.threadId]\n\t\t\tthis.errorMessage = ''\n\t\t\tthis.error = undefined\n\t\t\tawait this.fetchThread()\n\t\t\tthis.updateParticipantsToDisplay()\n\t\t\tthis.updateSummary()\n\n\t\t},\n\t\tasync fetchThread() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = ''\n\t\t\tthis.error = undefined\n\t\t\tconst threadId = this.threadId\n\n\t\t\ttry {\n\t\t\t\tconst thread = await this.$store.dispatch('fetchThread', threadId)\n\t\t\t\tlogger.debug(`thread for envelope ${threadId} fetched`, { thread })\n\t\t\t\t// TODO: add timeout so that envelope isn't flagged when only viewed\n\t\t\t\t//       for a few seconds\n\t\t\t\tif (threadId !== parseInt(this.$route.params.threadId, 10)) {\n\t\t\t\t\tlogger.debug(\"User navigated away, loaded envelope won't be shown nor flagged as seen\", {\n\t\t\t\t\t\toldId: threadId,\n\t\t\t\t\t\tnewId: this.$route.params.threadId,\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (thread.length === 0) {\n\t\t\t\t\tlogger.info('thread could not be found and is empty', { threadId })\n\t\t\t\t\tthis.errorMessage = getRandomMessageErrorMessage()\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.loading = false\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not load envelope thread', { threadId, error })\n\t\t\t\tif (error?.response?.status === 403) {\n\t\t\t\t\tthis.error = t('mail', 'Could not load your message thread')\n\t\t\t\t\tthis.errorMessage = t('mail', 'The thread doesn\\'t exist or has been deleted')\n\t\t\t\t\tthis.loading = false\n\t\t\t\t} else {\n\t\t\t\t\tthis.errorMessage = t('mail', 'Could not load your message thread')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n#mail-message {\n\tmargin-bottom: 30vh;\n\n\t.icon-loading {\n\t\t&:only-child:after {\n\t\t\tmargin-top: 20px;\n\t\t}\n\t}\n}\n\n.mail-message-body {\n\tflex: 1;\n\tmargin-bottom: 30px;\n\tposition: relative;\n}\n\n#mail-thread-header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 30px 0;\n\t// somehow ios doesn't care about this !important rule\n\t// so we have to manually set left/right padding to chidren\n\t// for 100% to be used\n\tbox-sizing: content-box !important;\n\twidth: 100%;\n\n\tz-index: 100;\n\tposition: fixed; // ie fallback\n\tposition: -webkit-sticky; // ios/safari fallback\n\tposition: sticky;\n\ttop: 0;\n\tbackground: -webkit-linear-gradient(var(--color-main-background), var(--color-main-background) 80%, rgba(255,255,255,0));\n\tbackground: -o-linear-gradient(var(--color-main-background), var(--color-main-background)  80%, rgba(255,255,255,0));\n\tbackground: -moz-linear-gradient(var(--color-main-background), var(--color-main-background)  80%, rgba(255,255,255,0));\n\tbackground: linear-gradient(var(--color-main-background), var(--color-main-background)  80%, rgba(255,255,255,0));\n}\n\n#mail-thread-header-fields {\n\t// initial width\n\twidth: 0;\n\tpadding-left: 70px;\n\t// grow and try to fill 100%\n\tflex: 1 1 auto;\n\th2,\n\tp {\n\t\tpadding-bottom: 7px;\n\t\tmargin-bottom: 0;\n\t}\n\n\tp {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t.transparency {\n\t\topacity: 0.6;\n\t\ta {\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n}\n@media only screen and (max-width: 1024px) {\n\t#mail-thread-header-fields,\n\th2 {\n\t\tmargin-top: -20px;\n\t}\n}\n\n.attachment-popover {\n\tposition: sticky;\n\tbottom: 12px;\n\ttext-align: center;\n}\n\n.tooltip-inner {\n\ttext-align: left;\n}\n\n#mail-content {\n\tmargin: 10px 38px 0 59px;\n}\n\n#mail-content iframe {\n\twidth: 100%;\n}\n\n#show-images-text {\n\tdisplay: none;\n}\n\n#mail-content a,\n.mail-signature a {\n\tcolor: #07d;\n\tborder-bottom: 1px dotted #07d;\n\ttext-decoration: none;\n\tword-wrap: break-word;\n}\n\n/* Show action button label and move icon to the left\n   on screens larger than 600px */\n@media only screen and (max-width: 600px) {\n\t.action-label {\n\t\tdisplay: none;\n\t}\n}\n@media only screen and (min-width: 600px) {\n\t.icon-reply-white,\n\t.icon-reply-all-white {\n\t\tbackground-position: 12px center;\n\t}\n}\n\n@media print {\n\t#mail-thread-header-fields {\n\t\tposition: relative;\n\t}\n\t.app-content-details,\n\t.splitpanes__pane-details {\n\t\tmax-width: unset !important;\n\t\twidth: 100% !important;\n\t}\n\t#header,\n\t.app-navigation,\n\t#reply-composer,\n\t#forward-button,\n\t#mail-message-has-blocked-content,\n\t.app-content-list,\n\t.message-composer,\n\t.splitpanes__pane-list,\n\t.mail-message-attachments {\n\t\tdisplay: none !important;\n\t}\n\t.app-content {\n\t\tmargin-left: 0 !important;\n\t}\n\t.mail-message-body {\n\t\tmargin-bottom: 0 !important;\n\t}\n}\n\n.message-source {\n\tfont-family: monospace;\n\twhite-space: pre-wrap;\n\tuser-select: text;\n}\n\n.avatar-header {\n\tmax-height: 24px;\n\toverflow: hidden;\n}\n.avatar-more {\n\tdisplay: inline;\n\tbackground-color: var(--color-background-dark);\n\tpadding: 0px 0px 1px 1px;\n\tborder-radius: 10px;\n\tcursor: pointer;\n}\n.avatar-hidden {\n\tvisibility: hidden;\n}\n.popover__wrapper {\n\tmax-width: 500px;\n}\n\n.app-content-list-item-star.icon-starred {\n\tdisplay: none;\n}\n.user-bubble__wrapper {\n\tmargin-right: 4px;\n}\n.user-bubble__title {\n\tcursor: pointer;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=style&index=0&id=3434cbd7&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thread.vue?vue&type=style&index=0&id=3434cbd7&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Thread.vue?vue&type=template&id=3434cbd7\"\nimport script from \"./Thread.vue?vue&type=script&lang=js\"\nexport * from \"./Thread.vue?vue&type=script&lang=js\"\nimport style0 from \"./Thread.vue?vue&type=style&index=0&id=3434cbd7&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<AppContent pane-config-key=\"mail\" :show-details=\"isThreadShown\" @update:showDetails=\"hideMessage\">\n\t\t<div slot=\"list\"\n\t\t\t:class=\"{ header__button: !showThread || !isMobile }\">\n\t\t\t<SearchMessages v-if=\"!showThread || !isMobile\"\n\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t:account-id=\"account.accountId\"\n\t\t\t\t@search-changed=\"onUpdateSearchQuery\" />\n\t\t\t<AppContentList\n\t\t\t\tv-infinite-scroll=\"onScroll\"\n\t\t\t\tv-shortkey.once=\"shortkeys\"\n\t\t\t\tclass=\"envelope-list\"\n\t\t\t\tinfinite-scroll-immediate-check=\"false\"\n\t\t\t\t:show-details=\"showThread\"\n\t\t\t\t:infinite-scroll-disabled=\"false\"\n\t\t\t\t:infinite-scroll-distance=\"10\"\n\t\t\t\trole=\"heading\"\n\t\t\t\t:aria-level=\"2\"\n\t\t\t\t@shortkey.native=\"onShortcut\">\n\t\t\t\t<Mailbox\n\t\t\t\t\tv-if=\"!mailbox.isPriorityInbox\"\n\t\t\t\t\t:account=\"account\"\n\t\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t\t:search-query=\"query\"\n\t\t\t\t\t:bus=\"bus\"\n\t\t\t\t\t:open-first=\"mailbox.specialRole !== 'drafts'\" />\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div v-show=\"hasImportantEnvelopes\" class=\"app-content-list-item\">\n\t\t\t\t\t\t<SectionTitle class=\"important\" :name=\"t('mail', 'Important')\" />\n\t\t\t\t\t\t<Popover trigger=\"hover focus\">\n\t\t\t\t\t\t\t<ButtonVue slot=\"trigger\"\n\t\t\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t\t\t:aria-label=\"t('mail', 'Important info')\"\n\t\t\t\t\t\t\t\tclass=\"button\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ButtonVue>\n\t\t\t\t\t\t\t<p class=\"important-info\">\n\t\t\t\t\t\t\t\t{{ importantInfo }}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Popover>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Mailbox v-show=\"hasImportantEnvelopes\"\n\t\t\t\t\t\tclass=\"nameimportant\"\n\t\t\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t\t\t:mailbox=\"unifiedInbox\"\n\t\t\t\t\t\t:search-query=\"appendToSearch(priorityImportantQuery)\"\n\t\t\t\t\t\t:paginate=\"'manual'\"\n\t\t\t\t\t\t:is-priority-inbox=\"true\"\n\t\t\t\t\t\t:initial-page-size=\"importantMessagesInitialPageSize\"\n\t\t\t\t\t\t:collapsible=\"true\"\n\t\t\t\t\t\t:bus=\"bus\" />\n\t\t\t\t\t<SectionTitle v-show=\"hasImportantEnvelopes\"\n\t\t\t\t\t\tclass=\"app-content-list-item other\"\n\t\t\t\t\t\t:name=\"t('mail', 'Other')\" />\n\t\t\t\t\t<Mailbox\n\t\t\t\t\t\tclass=\"nameother\"\n\t\t\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t\t\t:mailbox=\"unifiedInbox\"\n\t\t\t\t\t\t:search-query=\"appendToSearch(priorityOtherQuery)\"\n\t\t\t\t\t\t:is-priority-inbox=\"true\"\n\t\t\t\t\t\t:bus=\"bus\" />\n\t\t\t\t</template>\n\t\t\t</AppContentList>\n\t\t</div>\n\t\t<Thread v-if=\"showThread\" @delete=\"deleteMessage\" />\n\t\t<NoMessageSelected v-else-if=\"hasEnvelopes && !isMobile\" />\n\t</AppContent>\n</template>\n\n<script>\nimport { NcAppContent as AppContent, NcAppContentList as AppContentList, NcButton as ButtonVue, NcPopover as Popover } from '@nextcloud/vue'\n\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile'\nimport SectionTitle from './SectionTitle.vue'\nimport Vue from 'vue'\nimport addressParser from 'address-rfc2822'\n\nimport infiniteScroll from '../directives/infinite-scroll.js'\nimport IconInfo from 'vue-material-design-icons/Information'\nimport logger from '../logger.js'\nimport Mailbox from './Mailbox.vue'\nimport SearchMessages from './SearchMessages.vue'\nimport NoMessageSelected from './NoMessageSelected.vue'\nimport Thread from './Thread.vue'\nimport { UNIFIED_ACCOUNT_ID, UNIFIED_INBOX_ID } from '../store/constants.js'\nimport {\n\tpriorityImportantQuery,\n\tpriorityOtherQuery,\n} from '../util/priorityInbox.js'\nimport { detect, html } from '../util/text.js'\n\nconst START_MAILBOX_DEBOUNCE = 5 * 1000\n\nexport default {\n\tname: 'MailboxThread',\n\tdirectives: {\n\t\tinfiniteScroll,\n\t},\n\tcomponents: {\n\t\tAppContent,\n\t\tAppContentList,\n\t\tButtonVue,\n\t\tIconInfo,\n\t\tMailbox,\n\t\tNoMessageSelected,\n\t\tPopover,\n\t\tSectionTitle,\n\t\tSearchMessages,\n\t\tThread,\n\t},\n\tmixins: [isMobile],\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// eslint-disable-next-line\n\t\t\timportantInfo: t('mail', 'Messages will automatically be marked as important based on which messages you interacted with or marked as important. In the beginning you might have to manually change the importance to teach the system, but it will improve over time.'),\n\t\t\tbus: new Vue(),\n\t\t\tsearchQuery: undefined,\n\t\t\tshortkeys: {\n\t\t\t\tdel: ['del'],\n\t\t\t\tarch: ['a'],\n\t\t\t\tflag: ['s'],\n\t\t\t\tnext: ['arrowright'],\n\t\t\t\tprev: ['arrowleft'],\n\t\t\t\trefresh: ['r'],\n\t\t\t\tunseen: ['u'],\n\t\t\t},\n\t\t\tpriorityImportantQuery,\n\t\t\tpriorityOtherQuery,\n\t\t\tstartMailboxTimer: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\tunifiedAccount() {\n\t\t\treturn this.$store.getters.getAccount(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\tunifiedInbox() {\n\t\t\treturn this.$store.getters.getMailbox(UNIFIED_INBOX_ID)\n\t\t},\n\t\thasEnvelopes() {\n\t\t\tif (this.mailbox.isPriorityInbox) {\n\t\t\t\treturn this.$store.getters.getEnvelopes(this.mailbox.databaseId, this.appendToSearch(priorityImportantQuery)).length > 0\n\t\t\t\t\t|| this.$store.getters.getEnvelopes(this.mailbox.databaseId, this.appendToSearch(priorityOtherQuery)).length > 0\n\t\t\t}\n\t\t\treturn this.$store.getters.getEnvelopes(this.mailbox.databaseId, this.searchQuery).length > 0\n\t\t},\n\t\thasImportantEnvelopes() {\n\t\t\treturn this.$store.getters.getEnvelopes(this.unifiedInbox.databaseId, this.appendToSearch(priorityImportantQuery)).length > 0\n\t\t},\n\t\timportantMessagesInitialPageSize() {\n\t\t\tif (window.innerHeight > 900) {\n\t\t\t\treturn 7\n\t\t\t}\n\t\t\tif (window.innerHeight > 750) {\n\t\t\t\treturn 5\n\t\t\t}\n\t\t\treturn 3\n\t\t},\n\t\tshowThread() {\n\t\t\treturn (this.mailbox.isPriorityInbox === true || this.hasEnvelopes)\n\t\t\t\t&& this.$route.name === 'message'\n\t\t\t\t&& this.$route.params.threadId !== 'mailto'\n\t\t},\n\t\tquery() {\n\t\t\tif (this.$route.params.filter === 'starred') {\n\t\t\t\tif (this.searchQuery) {\n\t\t\t\t\treturn this.appendToSearch('is:starred')\n\t\t\t\t}\n\t\t\t\treturn 'is:starred'\n\t\t\t}\n\t\t\treturn this.searchQuery\n\t\t},\n\t\tisThreadShown() {\n\t\t\treturn !!this.$route.params.threadId\n\t\t},\n\t},\n\twatch: {\n\t\t$route() {\n\t\t\tthis.handleMailto()\n\t\t},\n\t\tmailbox() {\n\t\t\tclearTimeout(this.startMailboxTimer)\n\t\t\tsetTimeout(this.saveStartMailbox, START_MAILBOX_DEBOUNCE)\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.handleMailto()\n\t},\n\tmounted() {\n\t\tsetTimeout(this.saveStartMailbox, START_MAILBOX_DEBOUNCE)\n\t},\n\tbeforeUnmount() {\n\t\tclearTimeout(this.startMailboxTimer)\n\t},\n\tmethods: {\n\t\tdeleteMessage(id) {\n\t\t\tthis.bus.$emit('delete', id)\n\t\t},\n\t\tonScroll(event) {\n\t\t\tlogger.debug('scroll', { event })\n\n\t\t\tthis.bus.$emit('load-more')\n\t\t},\n\t\tonShortcut(e) {\n\t\t\tthis.bus.$emit('shortcut', e)\n\t\t},\n\t\tappendToSearch(str) {\n\t\t\tif (this.searchQuery === undefined) {\n\t\t\t\treturn str\n\t\t\t}\n\t\t\treturn this.searchQuery + ' ' + str\n\t\t},\n\t\thideMessage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleMailto() {\n\t\t\tif (this.$route.name === 'message' && this.$route.params.threadId === 'mailto') {\n\t\t\t\tlet accountId\n\t\t\t\t// Only preselect an account when we're not in a unified mailbox\n\t\t\t\tif (this.$route.params.accountId !== 0 && this.$route.params.accountId !== '0') {\n\t\t\t\t\taccountId = parseInt(this.$route.params.accountId, 10)\n\t\t\t\t}\n\t\t\t\tthis.$store.dispatch('startComposerSession', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taccountId,\n\t\t\t\t\t\tto: this.stringToRecipients(this.$route.query.to),\n\t\t\t\t\t\tcc: this.stringToRecipients(this.$route.query.cc),\n\t\t\t\t\t\tsubject: this.$route.query.subject || '',\n\t\t\t\t\t\tbody: this.$route.query.body ? detect(this.$route.query.body) : html(''),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync saveStartMailbox() {\n\t\t\tconst currentStartMailboxId = this.$store.getters.getPreference('start-mailbox-id')\n\t\t\tif (currentStartMailboxId === this.mailbox.databaseId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlogger.debug(`Saving mailbox ${this.mailbox.databaseId} as start mailbox`)\n\n\t\t\ttry {\n\t\t\t\tawait this.$store\n\t\t\t\t\t.dispatch('savePreference', {\n\t\t\t\t\t\tkey: 'start-mailbox-id',\n\t\t\t\t\t\tvalue: this.mailbox.databaseId,\n\t\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\t// Catch and log. This is not critical.\n\t\t\t\tlogger.warn('Could not update start mailbox id', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tstringToRecipients(str) {\n\t\t\tif (str === undefined) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tlet addresses = []\n\t\t\ttry {\n\t\t\t\taddresses = addressParser.parse(str)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.debug('could not parse string into email addresses', { str, error })\n\t\t\t}\n\n\t\t\treturn addresses.map(address => {\n\t\t\t\tconst result = {\n\t\t\t\t\tlabel: address.name(),\n\t\t\t\t\temail: address.address,\n\t\t\t\t}\n\n\t\t\t\tif (result.label === '') {\n\t\t\t\t\tresult.label = result.email\n\t\t\t\t}\n\n\t\t\t\treturn result\n\t\t\t})\n\t\t},\n\t\tonUpdateSearchQuery(query) {\n\t\t\tthis.searchQuery = query\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.v-popover > .trigger > * {\n\tz-index: 1;\n}\n\n.important-info {\n\tmax-width: 230px;\n\tpadding: 16px;\n}\n\n.app-content-list {\n\t// Required for centering the loading indicator\n\tdisplay: flex;\n}\n\n.app-content-list-item:hover {\n\tbackground: transparent;\n}\n.app-content-list-item {\n\tflex: 0;\n}\n\n.button {\n\tbackground-color: var(--color-main-background);\n\tmargin-bottom: 3px;\n\tright: 2px;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: var(--color-background-dark);\n\t}\n}\n:deep(.button-vue--vue-secondary) {\n\tposition: sticky;\n\ttop:40px;\n\tleft: 10px;\n}\n:deep(.app-content-wrapper) {\n\toverflow: auto;\n}\n.envelope-list {\n\toverflow-y: auto;\n\tpadding: 0 4px;\n}\n.information-icon {\n\topacity: .7;\n}\n@media only screen and (max-width: 1024px) {\n\t.information-icon {\n\t\tmargin-bottom: 20px;\n\t}\n}\n.header__button {\n\tdisplay: flex;\n\tflex: 1 0 0;\n\tflex-direction: column;\n\theight: calc(100vh - var(--header-height));\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=style&index=0&id=3bb65af7&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxThread.vue?vue&type=style&index=0&id=3bb65af7&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MailboxThread.vue?vue&type=template&id=3bb65af7&scoped=true\"\nimport script from \"./MailboxThread.vue?vue&type=script&lang=js\"\nexport * from \"./MailboxThread.vue?vue&type=script&lang=js\"\nimport style0 from \"./MailboxThread.vue?vue&type=style&index=0&id=3bb65af7&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bb65af7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContent',{attrs:{\"pane-config-key\":\"mail\",\"show-details\":_vm.isThreadShown},on:{\"update:showDetails\":_vm.hideMessage}},[_c('div',{class:{ header__button: !_vm.showThread || !_vm.isMobile },attrs:{\"slot\":\"list\"},slot:\"list\"},[(!_vm.showThread || !_vm.isMobile)?_c('SearchMessages',{attrs:{\"mailbox\":_vm.mailbox,\"account-id\":_vm.account.accountId},on:{\"search-changed\":_vm.onUpdateSearchQuery}}):_vm._e(),_vm._v(\" \"),_c('AppContentList',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.onScroll),expression:\"onScroll\"},{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(_vm.shortkeys),expression:\"shortkeys\",modifiers:{\"once\":true}}],staticClass:\"envelope-list\",attrs:{\"infinite-scroll-immediate-check\":\"false\",\"show-details\":_vm.showThread,\"infinite-scroll-disabled\":false,\"infinite-scroll-distance\":10,\"role\":\"heading\",\"aria-level\":2},nativeOn:{\"shortkey\":function($event){return _vm.onShortcut.apply(null, arguments)}}},[(!_vm.mailbox.isPriorityInbox)?_c('Mailbox',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox,\"search-query\":_vm.query,\"bus\":_vm.bus,\"open-first\":_vm.mailbox.specialRole !== 'drafts'}}):[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasImportantEnvelopes),expression:\"hasImportantEnvelopes\"}],staticClass:\"app-content-list-item\"},[_c('SectionTitle',{staticClass:\"important\",attrs:{\"name\":_vm.t('mail', 'Important')}}),_vm._v(\" \"),_c('Popover',{attrs:{\"trigger\":\"hover focus\"}},[_c('ButtonVue',{staticClass:\"button\",attrs:{\"slot\":\"trigger\",\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mail', 'Important info')},slot:\"trigger\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}])}),_vm._v(\" \"),_c('p',{staticClass:\"important-info\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.importantInfo)+\"\\n\\t\\t\\t\\t\\t\\t\")])],1)],1),_vm._v(\" \"),_c('Mailbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasImportantEnvelopes),expression:\"hasImportantEnvelopes\"}],staticClass:\"nameimportant\",attrs:{\"account\":_vm.unifiedAccount,\"mailbox\":_vm.unifiedInbox,\"search-query\":_vm.appendToSearch(_vm.priorityImportantQuery),\"paginate\":'manual',\"is-priority-inbox\":true,\"initial-page-size\":_vm.importantMessagesInitialPageSize,\"collapsible\":true,\"bus\":_vm.bus}}),_vm._v(\" \"),_c('SectionTitle',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasImportantEnvelopes),expression:\"hasImportantEnvelopes\"}],staticClass:\"app-content-list-item other\",attrs:{\"name\":_vm.t('mail', 'Other')}}),_vm._v(\" \"),_c('Mailbox',{staticClass:\"nameother\",attrs:{\"account\":_vm.unifiedAccount,\"mailbox\":_vm.unifiedInbox,\"search-query\":_vm.appendToSearch(_vm.priorityOtherQuery),\"is-priority-inbox\":true,\"bus\":_vm.bus}})]],2)],1),_vm._v(\" \"),(_vm.showThread)?_c('Thread',{on:{\"delete\":_vm.deleteMessage}}):(_vm.hasEnvelopes && !_vm.isMobile)?_c('NoMessageSelected'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<NcEmptyContent\n\t\t:title=\"t('mail', 'Pending or not sent messages will show up here')\">\n\t\t<template #icon>\n\t\t\t<IconMail :size=\"65\" />\n\t\t</template>\n\t</NcEmptyContent>\n</template>\n\n<script>\nimport IconMail from 'vue-material-design-icons/Email'\nimport NcEmptyContent from '@nextcloud/vue/dist/Components/NcEmptyContent'\n\nexport default {\n\tname: 'OutboxMessageContent',\n\tcomponents: {\n\t\tIconMail,\n\t\tNcEmptyContent,\n\t},\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OutboxMessageContent.vue?vue&type=template&id=c2bd6942&scoped=true\"\nimport script from \"./OutboxMessageContent.vue?vue&type=script&lang=js\"\nexport * from \"./OutboxMessageContent.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2bd6942\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcEmptyContent',{attrs:{\"title\":_vm.t('mail', 'Pending or not sent messages will show up here')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconMail',{attrs:{\"size\":65}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @author Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n\tcomputed: {\n\t\trecipients() {\n\t\t\tconst to = this.message.to ?? []\n\t\t\tconst cc = this.message.cc ?? []\n\t\t\treturn [...to, ...cc]\n\t\t},\n\t\tavatarDisplayName() {\n\t\t\treturn this.recipients[0]?.label ?? this.recipients[0]?.email ?? '?'\n\t\t},\n\t\tavatarEmail() {\n\t\t\treturn this.recipients[0]?.email ?? ''\n\t\t},\n\t},\n}\n","<!--\n  - @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<ListItem\n\t\tclass=\"outbox-message\"\n\t\t:class=\"{ selected }\"\n\t\t:title=\"title\"\n\t\t:details=\"details\"\n\t\t@click=\"openModal\">\n\t\t<template #icon>\n\t\t\t<Avatar :display-name=\"avatarDisplayName\" :email=\"avatarEmail\" />\n\t\t</template>\n\t\t<template #subtitle>\n\t\t\t{{ subjectForSubtitle }}\n\t\t</template>\n\t\t<template slot=\"actions\">\n\t\t\t<ActionButton\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"sendMessageNow\">\n\t\t\t\t{{ t('mail', 'Send now') }}\n\t\t\t\t<template #icon>\n\t\t\t\t\t<Send\n\t\t\t\t\t\t:title=\"t('mail', 'Send now')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionButton>\n\t\t\t<ActionButton\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"deleteMessage\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconDelete :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Delete') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t</ListItem>\n</template>\n\n<script>\nimport { NcListItem as ListItem, NcActionButton as ActionButton } from '@nextcloud/vue'\nimport Avatar from './Avatar.vue'\nimport IconDelete from 'vue-material-design-icons/Delete'\nimport { getLanguage, translate as t } from '@nextcloud/l10n'\nimport OutboxAvatarMixin from '../mixins/OutboxAvatarMixin.js'\nimport moment from '@nextcloud/moment'\nimport logger from '../logger.js'\nimport { showError, showSuccess } from '@nextcloud/dialogs'\nimport { matchError } from '../errors/match.js'\nimport { html, plain } from '../util/text.js'\nimport Send from 'vue-material-design-icons/Send'\nimport { UNDO_DELAY } from '../store/constants.js'\n\nexport default {\n\tname: 'OutboxMessageListItem',\n\tcomponents: {\n\t\tListItem,\n\t\tAvatar,\n\t\tActionButton,\n\t\tIconDelete,\n\t\tSend,\n\t},\n\tmixins: [\n\t\tOutboxAvatarMixin,\n\t],\n\tprops: {\n\t\tmessage: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tselected() {\n\t\t\treturn this.$route.params.messageId === this.message.id\n\t\t},\n\t\ttitle() {\n\t\t\tconst recipientToString = recipient => recipient.label\n\t\t\tconst recipients = this.message.to.map(recipientToString)\n\t\t\t\t.concat(this.message.cc.map(recipientToString))\n\t\t\t\t.concat(this.message.bcc.map(recipientToString))\n\t\t\tconst formatter = new Intl.ListFormat(getLanguage(), { type: 'conjunction' })\n\t\t\treturn formatter.format(recipients)\n\t\t},\n\t\tdetails() {\n\t\t\tif (this.message.failed) {\n\t\t\t\treturn this.t('mail', 'Message could not be sent')\n\t\t\t}\n\t\t\tif (!this.message.sendAt) {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t\treturn moment.unix(this.message.sendAt).fromNow()\n\t\t},\n\t\t/**\n\t\t * Subject of message or \"No Subject\".\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tsubjectForSubtitle() {\n\t\t\t// We have to use || here (instead of ??) because the subject might be '', null\n\t\t\t// or undefined.\n\t\t\treturn this.message.subject || this.t('mail', 'No subject')\n\t\t},\n\t},\n\tmethods: {\n\t\tasync deleteMessage() {\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('outbox/deleteMessage', {\n\t\t\t\t\tid: this.message.id,\n\t\t\t\t})\n\t\t\t\tshowSuccess(t('mail', 'Message deleted'))\n\t\t\t} catch (error) {\n\t\t\t\tshowError(await matchError(error, {\n\t\t\t\t\tdefault(error) {\n\t\t\t\t\t\tlogger.error('could not delete message', error)\n\t\t\t\t\t\treturn t('mail', 'Could not delete message')\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t}\n\t\t},\n\t\tasync sendMessageNow() {\n\t\t\tconst message = {\n\t\t\t\t...this.message,\n\t\t\t\tfailed: false,\n\t\t\t\tsendAt: (new Date().getTime() + UNDO_DELAY) / 1000,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('outbox/updateMessage', { message, id: message.id })\n\t\t\tawait this.$store.dispatch('outbox/sendMessageWithUndo', { id: message.id })\n\t\t},\n\t\tasync openModal() {\n\t\t\tawait this.$store.dispatch('startComposerSession', {\n\t\t\t\ttype: 'outbox',\n\t\t\t\tdata: {\n\t\t\t\t\t...this.message,\n\t\t\t\t\tbody: this.message.isHtml ? html(this.message.body) : plain(this.message.body),\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.outbox-message {\n\tlist-style: none;\n\t&.active {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: 16px;\n\t}\n\n\t.account-color {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\twidth: 2px;\n\t\theight: 69px;\n\t\tz-index: 1;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=style&index=0&id=3770b2a7&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutboxMessageListItem.vue?vue&type=style&index=0&id=3770b2a7&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./OutboxMessageListItem.vue?vue&type=template&id=3770b2a7&scoped=true\"\nimport script from \"./OutboxMessageListItem.vue?vue&type=script&lang=js\"\nexport * from \"./OutboxMessageListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./OutboxMessageListItem.vue?vue&type=style&index=0&id=3770b2a7&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3770b2a7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ListItem',{staticClass:\"outbox-message\",class:{ selected: _vm.selected },attrs:{\"title\":_vm.title,\"details\":_vm.details},on:{\"click\":_vm.openModal},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Avatar',{attrs:{\"display-name\":_vm.avatarDisplayName,\"email\":_vm.avatarEmail}})]},proxy:true},{key:\"subtitle\",fn:function(){return [_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.subjectForSubtitle)+\"\\n\\t\")]},proxy:true}])},[_vm._v(\" \"),_vm._v(\" \"),_c('template',{slot:\"actions\"},[_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.sendMessageNow},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Send',{attrs:{\"title\":_vm.t('mail', 'Send now'),\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Send now'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.deleteMessage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete'))+\"\\n\\t\\t\")])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<AppContent\n\t\tpane-config-key=\"mail\"\n\t\t:show-details=\"isMessageShown\"\n\t\t@update:showDetails=\"hideMessage\">\n\t\t<OutboxMessageContent />\n\t\t<!-- List -->\n\t\t<template #list>\n\t\t\t<AppContentList>\n\t\t\t\t<Error\n\t\t\t\t\tv-if=\"error\"\n\t\t\t\t\t:error=\"t('mail', 'Could not open outbox')\"\n\t\t\t\t\tmessage=\"\"\n\t\t\t\t\trole=\"alert\" />\n\t\t\t\t<LoadingSkeleton\n\t\t\t\t\tv-else-if=\"loading\" />\n\t\t\t\t<EmptyMailbox v-else-if=\"messages.length === 0\" />\n\t\t\t\t<OutboxMessageListItem\n\t\t\t\t\tv-for=\"message in messages\"\n\t\t\t\t\tv-else\n\t\t\t\t\t:key=\"message.id\"\n\t\t\t\t\t:message=\"message\" />\n\t\t\t</AppContentList>\n\t\t</template>\n\t</AppContent>\n</template>\n\n<script>\nimport { NcAppContent as AppContent, NcAppContentList as AppContentList } from '@nextcloud/vue'\nimport LoadingSkeleton from './LoadingSkeleton.vue'\nimport Error from './Error.vue'\nimport EmptyMailbox from './EmptyMailbox.vue'\nimport OutboxMessageContent from './OutboxMessageContent.vue'\nimport OutboxMessageListItem from './OutboxMessageListItem.vue'\nimport logger from '../logger.js'\n\nexport default {\n\tname: 'Outbox',\n\tcomponents: {\n\t\tAppContent,\n\t\tAppContentList,\n\t\tError,\n\t\tLoadingSkeleton,\n\t\tEmptyMailbox,\n\t\tOutboxMessageListItem,\n\t\tOutboxMessageContent,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: false,\n\t\t\tloading: false,\n\t\t\trefreshInterval: undefined,\n\t\t}\n\t},\n\tcomputed: {\n\t\tisMessageShown() {\n\t\t\treturn !!this.$route.params.messageId\n\t\t},\n\t\tcurrentMessage() {\n\t\t\tif (!this.isMessageShown) {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\treturn this.$store.getters['outbox/getMessage'](this.$route.params.messageId)\n\t\t},\n\t\tmessages() {\n\t\t\treturn this.$store.getters['outbox/getAllMessages']\n\t\t},\n\t},\n\tcreated() {\n\t\t// Reload outbox contents every 60 seconds\n\t\tthis.refreshInterval = setInterval(async () => {\n\t\t\tawait this.fetchMessages()\n\t\t}, 60000)\n\t},\n\tasync mounted() {\n\t\tawait this.fetchMessages()\n\t},\n\tdestroyed() {\n\t\tclearInterval(this.refreshInterval)\n\t},\n\tmethods: {\n\t\thideMessage() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'outbox',\n\t\t\t})\n\t\t},\n\t\tasync fetchMessages() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = false\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('outbox/fetchMessages')\n\t\t\t} catch (error) {\n\t\t\t\tthis.error = true\n\t\t\t\tlogger.error('Failed to fetch outbox messages', { error })\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.button-vue--vue-secondary) {\n\tbox-shadow: none;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=style&index=0&id=65a34d37&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Outbox.vue?vue&type=style&index=0&id=65a34d37&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Outbox.vue?vue&type=template&id=65a34d37&scoped=true\"\nimport script from \"./Outbox.vue?vue&type=script&lang=js\"\nexport * from \"./Outbox.vue?vue&type=script&lang=js\"\nimport style0 from \"./Outbox.vue?vue&type=style&index=0&id=65a34d37&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65a34d37\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppContent',{attrs:{\"pane-config-key\":\"mail\",\"show-details\":_vm.isMessageShown},on:{\"update:showDetails\":_vm.hideMessage},scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_c('AppContentList',[(_vm.error)?_c('Error',{attrs:{\"error\":_vm.t('mail', 'Could not open outbox'),\"message\":\"\",\"role\":\"alert\"}}):(_vm.loading)?_c('LoadingSkeleton'):(_vm.messages.length === 0)?_c('EmptyMailbox'):_vm._l((_vm.messages),function(message){return _c('OutboxMessageListItem',{key:message.id,attrs:{\"message\":message}})})],2)]},proxy:true}])},[_c('OutboxMessageContent')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"composer-session\",class:{'composer-session--disabled': _vm.disabled},on:{\"click\":_vm.onShowComposer}},[_c('div',{staticClass:\"composer-session__icon\"},[_c('PencilIcon',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('div',{staticClass:\"composer-session__text\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.title)+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"composer-session__actions\"},[_c('NcActions',[_c('NcActionButton',{attrs:{\"aria-label\":_vm.t('mail', 'Expand composer'),\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.onShowComposer.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArrowExpandIcon',{attrs:{\"size\":20}})]},proxy:true}])})],1),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"aria-label\":_vm.t('mail', 'Close composer'),\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.onClose.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CloseIcon',{attrs:{\"size\":20}})]},proxy:true}])})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2023 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU General Public License as published by\n  - the Free Software Foundation, either version 3 of the License, or\n  - (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU General Public License for more details.\n  -\n  - You should have received a copy of the GNU General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"composer-session\"\n\t\t:class=\"{'composer-session--disabled': disabled}\"\n\t\t@click=\"onShowComposer\">\n\t\t<div class=\"composer-session__icon\">\n\t\t\t<PencilIcon :size=\"20\" />\n\t\t</div>\n\n\t\t<div class=\"composer-session__text\">\n\t\t\t{{ title }}\n\t\t</div>\n\n\t\t<div class=\"composer-session__actions\">\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton\n\t\t\t\t\t:aria-label=\"t('mail', 'Expand composer')\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t@click.stop=\"onShowComposer\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArrowExpandIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton :aria-label=\"t('mail', 'Close composer')\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t@click.stop=\"onClose\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CloseIcon :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { NcActions, NcActionButton } from '@nextcloud/vue'\nimport PencilIcon from 'vue-material-design-icons/Pencil.vue'\nimport ArrowExpandIcon from 'vue-material-design-icons/ArrowExpand.vue'\nimport CloseIcon from 'vue-material-design-icons/Close.vue'\n\nexport default {\n\tname: 'ComposerSessionIndicator',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tPencilIcon,\n\t\tArrowExpandIcon,\n\t\tCloseIcon,\n\t},\n\tdata() {\n\t\treturn {\n\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters(['composerMessage']),\n\t\ttitle() {\n\t\t\treturn this.composerMessage?.data.subject || t('mail', 'Untitled message')\n\t\t},\n\t\tdisabled() {\n\t\t\treturn this.composerMessage?.indicatorDisabled ?? false\n\t\t},\n\t},\n\tmethods: {\n\t\tasync onShowComposer() {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tawait this.$store.dispatch('showMessageComposer')\n\t\t},\n\t\tonClose() {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.composer-session {\n\tposition: fixed;\n\tbottom: calc(var(--body-container-margin) + var(--default-grid-baseline));\n\tright: calc(var(--body-container-margin) + var(--default-grid-baseline));\n\tz-index: 1000;\n\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\twidth: 360px;\n\tpadding: 0 8px;\n\n\t// Retain border radius from outer body container for visual consistency\n\theight: calc(var(--body-container-radius) * 2);\n\tborder-radius: var(--body-container-radius);\n\t//height: 44px;\n\t//border-radius: var(--border-radius-pill);\n\n\t// Mobile\n\t@media (max-width: 1024px) {\n\t\twidth: calc(100% - 2 * var(--default-grid-baseline));\n\t\theight: 44px;\n\t\tborder-radius: var(--border-radius-pill);\n\t}\n\n\t// Conditional hover and pointer styles\n\tbackground-color: var(--color-primary-element-light);\n\t&:not(&--disabled) {\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-primary-element-light-hover);\n\t\t}\n\n\t\t&, * {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t&__icon {\n\t\twidth: 44px;\n\t}\n\n\t&__text {\n\t\tflex: 1 auto;\n\t\tfont-weight: bold;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t&__actions {\n\t\tflex-shrink: 0;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=style&index=0&id=05fad905&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComposerSessionIndicator.vue?vue&type=style&index=0&id=05fad905&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ComposerSessionIndicator.vue?vue&type=template&id=05fad905&scoped=true\"\nimport script from \"./ComposerSessionIndicator.vue?vue&type=script&lang=js\"\nexport * from \"./ComposerSessionIndicator.vue?vue&type=script&lang=js\"\nimport style0 from \"./ComposerSessionIndicator.vue?vue&type=style&index=0&id=05fad905&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05fad905\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","<template>\n\t<Content app-name=\"mail\">\n\t\t<Navigation />\n\t\t<Outbox v-if=\"$route.name === 'outbox'\" />\n\t\t<MailboxThread v-else-if=\"activeAccount\"\n\t\t\t:account=\"activeAccount\"\n\t\t\t:mailbox=\"activeMailbox\" />\n\n\t\t<template v-if=\"hasComposerSession\">\n\t\t\t<ComposerSessionIndicator @close=\"onCloseMessageModal\" />\n\t\t\t<NewMessageModal ref=\"newMessageModal\" :accounts=\"accounts\" />\n\t\t</template>\n\t</Content>\n</template>\n\n<script>\nimport { NcContent as Content } from '@nextcloud/vue'\nimport isMobile from '@nextcloud/vue/dist/Mixins/isMobile'\n\nimport '../../css/mail.scss'\nimport '../../css/mobile.scss'\n\nimport { testAccountConnection } from '../service/AccountService.js'\nimport logger from '../logger.js'\nimport MailboxThread from '../components/MailboxThread.vue'\nimport Navigation from '../components/Navigation.vue'\nimport Outbox from '../components/Outbox.vue'\nimport ComposerSessionIndicator from '../components/ComposerSessionIndicator.vue'\nimport { mapGetters } from 'vuex'\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\tContent,\n\t\tMailboxThread,\n\t\tNavigation,\n\t\tNewMessageModal: () => import(/* webpackChunkName: \"new-message-modal\" */ '../components/NewMessageModal.vue'),\n\t\tOutbox,\n\t\tComposerSessionIndicator,\n\t},\n\tmixins: [isMobile],\n\tdata() {\n\t\treturn {\n\t\t\thasComposerSession: false,\n\t\t\taccounts: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters(['composerSessionId']),\n\t\tactiveAccount() {\n\t\t\treturn this.$store.getters.getAccount(this.activeMailbox?.accountId)\n\t\t},\n\t\tactiveMailbox() {\n\t\t\treturn this.$store.getters.getMailbox(this.$route.params.mailboxId)\n\t\t},\n\t\tmenu() {\n\t\t\treturn this.buildMenu()\n\t\t},\n\t},\n\twatch: {\n\t\tasync composerSessionId(id) {\n\t\t\t// Session was closed or discarded\n\t\t\tif (!id) {\n\t\t\t\tthis.hasComposerSession = false\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// A new session is replacing the old session.  Fully reset the NewMessageModal\n\t\t\t// component in this case and wait for the template to fully render before showing the\n\t\t\t// modal again.\n\t\t\tif (this.hasComposerSession) {\n\t\t\t\tthis.hasComposerSession = false\n\t\t\t\tawait this.$nextTick()\n\t\t\t}\n\n\t\t\tthis.hasComposerSession = true\n\t\t},\n\t},\n\tasync beforeMount() {\n\t\tconst accounts = this.$store.getters.accounts.filter((a) => !a.isUnified)\n\t\tthis.accounts = await Promise.all(\n\t\t\t accounts.map(async (account) => {\n\t\t\t\treturn { ...account, connectionStatus: await testAccountConnection(account.id) }\n\t\t\t}))\n\n\t},\n\tcreated() {\n\t\tconst accounts = this.$store.getters.accounts\n\t\tlet startMailboxId = this.$store.getters.getPreference('start-mailbox-id')\n\t\tif (startMailboxId && !this.$store.getters.getMailbox(startMailboxId)) {\n\t\t\t// The start ID is set but the mailbox doesn't exist anymore\n\t\t\tstartMailboxId = null\n\t\t}\n\n\t\tif (this.$route.name === 'home' && accounts.length > 1 && startMailboxId) {\n\t\t\tlogger.debug('Loading start mailbox', { id: startMailboxId })\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: startMailboxId,\n\t\t\t\t},\n\t\t\t})\n\t\t} else if (this.$route.name === 'home' && accounts.length > 1) {\n\t\t\t// Show first account\n\t\t\tconst firstAccount = accounts[0]\n\t\t\t// FIXME: this assumes that there's at least one mailbox\n\t\t\tconst firstMailbox = this.$store.getters.getMailboxes(firstAccount.id)[0]\n\n\t\t\tconsole.debug('loading first mailbox of first account', firstAccount.id, firstMailbox.databaseId)\n\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: firstMailbox.databaseId,\n\t\t\t\t},\n\t\t\t})\n\t\t} else if (this.$route.name === 'home' && accounts.length === 1) {\n\t\t\tlogger.debug('the only account we have is the unified one -> show the setup page')\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'setup',\n\t\t\t})\n\t\t} else if (this.$route.name === 'mailto') {\n\t\t\tif (accounts.length === 0) {\n\t\t\t\tconsole.error('cannot handle mailto:, no accounts configured')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Show first account\n\t\t\tconst firstAccount = accounts[0]\n\t\t\t// FIXME: this assumes that there's at least one mailbox\n\t\t\tconst firstMailbox = this.$store.getters.getMailboxes(firstAccount.id)[0]\n\n\t\t\tconsole.debug('loading composer with first account and mailbox', firstAccount.id, firstMailbox.id)\n\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: firstMailbox.databaseId,\n\t\t\t\t\tthreadId: 'mailto',\n\t\t\t\t},\n\t\t\t\tquery: {\n\t\t\t\t\tto: this.$route.query.to,\n\t\t\t\t\tcc: this.$route.query.cc,\n\t\t\t\t\tbcc: this.$route.query.bcc,\n\t\t\t\t\tsubject: this.$route.query.subject,\n\t\t\t\t\tbody: this.$route.query.body,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t},\n\tmethods: {\n\t\thideMessage() {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync onCloseMessageModal() {\n\t\t\tawait this.$refs.newMessageModal.onClose()\n\t\t},\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.app-content-details) {\n\tmargin: 0 auto;\n\tmax-width: 900px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1 1 100%;\n\tmin-width: 70%;\n}\n// Align the appNavigation toggle with the apps header toolbar\n:deep(button.app-navigation-toggle) {\n\ttop: 8px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=882a1a0a&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=882a1a0a&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=882a1a0a&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=882a1a0a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"882a1a0a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["mailvelope","getMailvelope","async","window","logger","debug","Promise","resolve","addEventListener","isPgpgMessage","message","format","value","startsWith","isPgpText","text","getClient","memoize","service","axios","defaults","headers","webdav","patch","generateRemoteUrl","concat","getCurrentUser","uid","saveAttachmentToFiles","id","attachmentId","directory","url","generateUrl","Axios","post","targetPath","saveAttachmentsToFiles","downloadAttachment","get","then","res","data","uploadLocalAttachment","file","progress","controller","FormData","opts","onUploadProgress","prog","loaded","total","signal","append","resp","_ref","findRecipient","term","trustSender","email","type","trustFlag","put","delete","fetchTrustedSenders","___CSS_LOADER_EXPORT___","push","module","exports","name","components","IconLoading","EmptyContent","props","hint","String","default","required","slowHint","slow","slowTimer","undefined","mounted","clearTimeout","setTimeout","beforeDestroy","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","this","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","proxy","_v","_s","_e","ctx","getScrollTop","element","Math","max","pageYOffset","document","documentElement","scrollTop","getComputedStyle","defaultView","getElementTop","getBoundingClientRect","top","isAttached","currentNode","parentNode","tagName","nodeType","doBind","binded","delay","now","lastExec","timer","context","args","execute","directive","el","throttleDelayExpr","getAttribute","throttleDelay","Number","vm","isNaN","scrollEventTarget","overflowY","getScrollEventTarget","scrollListener","doCheck","bind","apply","arguments","Date","diff","$on","removeEventListener","disabledExpr","disabled","$watch","immediateCheck","call","Boolean","distanceExpr","distance","immediateCheckExpr","eventName","force","viewportScrollTop","viewportBottom","clientHeight","getVisibleHeight","scrollHeight","offsetHeight","expression","binding","vnode","console","info","$nextTick","bindTryCount","tryBind","unbind","IconMail","NcEmptyContent","t","fetchAvatarUrlMemoized","avatar","isExternal","catch","err","response","status","reject","BaseAvatar","displayName","disableTooltip","size","loading","avatarUrl","computed","hasAvatar","DraggableEnvelope","constructor","componentInstance","registerListeners","setInitialAttributes","setAttribute","classList","add","update","instance","onDragStart","onDragEnd","removeListeners","event","isDraggable","accountId","mailboxId","selectedEnvelopes","dataTransfer","clearData","effectAllowed","envelopes","length","forEach","envelope","index","envelopeId","databaseId","draggableLabel","subject","from","label","setData","JSON","stringify","attachGhost","dragEventBus","$emit","itemCount","baseClass","dragNode","createElement","counterNode","textCountNode","createTextNode","appendChild","labelWrapperNode","labelNode","textLabelNode","body","setDragImage","defer","removeChild","instances","DraggableEnvelopeDirective","componentUpdated","filter","shortRelativeDatetime","curry","ref","date","momentDate","moment","getFullYear","getMonth","getDate","getTime","shortDatetime","MailboxPicker","account","Object","Array","moveThread","moving","destMailboxId","methods","onClose","$store","dispatch","error","on","$event","onMove","title","fillColor","_g","_b","class","listeners","NcButton","NcModal","confirmText","confirmUrl","confirm","cancel","_t","ConfirmationModal","tag","deleting","removeTag","imapLabel","showSuccess","showInfo","deleteTag","NcColorPicker","Actions","NcActionButton","ActionText","ActionInput","DeleteIcon","isAdded","editing","tagLabel","tagInput","showSaving","renameTagLabel","renameTagInput","newColor","editColor","color","openEditTag","target","querySelector","convertHex","opacity","r","parseInt","substring","g","b","isSet","some","getters","getEnvelopeTags","addTag","style","isDefaultTag","renameTag","updateColor","backgroundColor","hiddenTags","forwarded","hasattachment","has_cal","hasnoattachment","loadremoteimages","randomColor","randomHexColor","random","toString","Modal","DeleteTagModal","IconTag","TagItem","IconAdd","deleteTagModal","tagToDelete","tags","getTags","toLowerCase","sort","a","localeCompare","closeDeleteModal","addTagInput","showError","trim","_l","createTag","uidToHexColor","uidToColor","convert","hex","hash","match","md5","replace","steps","red","Color","yellow","blue","palette1","mixPalette","palette2","palette3","GenColors","maximum","finalInt","result","i","charAt","j","hashToInt","color1","color2","palette","step","ends","stepCalc","canWrite","properties","_properties$acl","acls","acl","ace","isArray","_acl$grant","grant","privilege","write","getCalendarData","calendar","_calendar$props$calen","_calendar$props$displ","displayname","order","vevent","writable","filename","getUserCalendars","getDirectoryContents","details","map","getRandomString","str","createICalElement","root","ical","updatePropertyWithValue","OC","theme","importCalendarEvent","Logger","promises","timezones","allObjects","jCal","getAllSubcomponents","vtimezone","componentNames","componentName","vobjects","vobject","getFirstPropertyValue","split","objectsId","objects","component","addSubcomponent","objectId","splitCalendar","componentId","all","displayIcon","CalendarPickerOption","DatetimePicker","Multiselect","defaultTimezone","jstz","defaultTimezoneId","calendars","eventTitle","startDate","endDate","isAllDay","startTimezoneId","endTimezoneId","saving","selectedCalendar","dateFormat","datePickerType","created","c","startTimezone","endTimezone","timezoneManager","getTimezoneManager","registerDefaultTimezones","getTimezoneForId","startDateTime","DateTimeValue","fromJSDate","getInTimezone","endDateTime","isDate","createEvent","getFirstComponent","addProperty","TextProperty","vObject","getVObjectIterator","undirtify","toICS","directives","rawName","domProps","composing","model","callback","$$v","_i","$$a","$$el","$$c","checked","$$i","slice","option","_ref2","onSave","Task","vcalendar","Error","ICAL","vCalendar","subTasks","conflict","initTodo","syncStatus","deleteCountdown","_this$getParent","vtodo","getFirstSubcomponent","hasProperty","addPropertyWithValue","uuid","_uid","_summary","_priority","_complete","comp","_completed","_completedDate","toJSDate","_completedDateMoment","_status","_note","_related","getParent","getFirstValue","_hideSubtaks","_hideCompletedSubtaks","_start","_startMoment","_due","_dueMoment","start","d","_allDay","_loaded","_tags","_modified","_modifiedMoment","_created","_createdMoment","_class","_pinned","sortOrder","getSortOrder","_sortOrder","_searchQuery","_matchesSearchQuery","updateTask","updateCalendar","firstIfArray","dav","uri","lastIndexOf","summary","updateLastModified","priority","removeProperty","closed","complete","setComplete","setCompleted","setStatus","completed","completedDate","completedDateMoment","clone","note","related","_this$getParent2","parent","setValue","getAllProperties","find","getFirstParameter","pinned","hideSubtasks","hide","hideCompletedSubtasks","startMoment","due","dueMoment","allDay","comments","loadedCompleted","reminder","getValues","newTags","prop","setValues","toRemove","includes","toAdd","ts","removeAllProperties","modified","modifiedMoment","createdMoment","createdDate","classification","subtractDate","year","month","day","hour","minute","second","toSeconds","matches","searchQuery","keys","indexOf","taskTitle","previewText","getAllTags","getTaskCalendarsForCurrentUser","taskData","task","getAppVersion","hidesubtasks","vData","createVObject","set","createTask","slot","AlertOctagonIcon","Avatar","IconCreateEvent","CheckIcon","ChevronLeft","ArchiveIcon","TaskIcon","DotsHorizontalIcon","EnvelopePrimaryActions","EventModal","TaskModal","ListItem","ImportantIcon","JunkIcon","ActionButton","MoveModal","OpenInNewIcon","PlusIcon","TagIcon","TagModal","Star","StarOutline","EmailRead","EmailUnread","IconAttachment","IconBullet","Reply","ActionLink","ActionSeparator","DownloadIcon","ClockOutlineIcon","NcActionSeparator","NcActionInput","CalendarClock","AlarmIcon","draggableEnvelope","withReply","mailbox","selectMode","selected","hasMultipleAccounts","importantSvg","showMoveModal","showEventModal","showTaskModal","showTagModal","moreActionsOpen","snoozeOptions","customSnoozeDateTime","valueOf","mapGetters","messageLongDate","dateInt","hasMultipleRecipients","recipients","buildReplyRecipients","emailAddress","to","cc","draft","flags","getAccount","link","params","$route","threadId","addresses","_this$data$from$0$lab","_this$data$from$","_this$data$from$2","specialRole","sentMailboxId","flat","recipient","join","avatarEmail","showArchiveButton","archiveMailboxId","disableArchiveButton","showFavoriteIconVariant","flagged","showImportantIconVariant","seen","isEncrypted","encrypted","isImportant","_this$data$from$0$lab2","_this$data$from$3","_this$data$from$4","sender","mailboxHasRights","subjectForSubtitle","exportMessageLink","hasSeenAcl","hasArchiveAcl","hasDeleteSourceAcl","hasCreateDestinationAcl","archiveMailbox","hasDeleteAcl","hasWriteAcl","getMailbox","isSnoozedMailbox","snoozeMailboxId","reminderOptions","currentDateTime","laterTodayTime","tomorrowTime","thisWeekendTime","nextWeekTime","timestamp","getTimestamp","timeLocale","ariaLabel","setSelected","formatted","unselect","toggleSelected","defaultPrevented","draftId","templateMessageId","onSelectMultiple","onToggleImportant","onToggleFlagged","onToggleSeen","removeEnvelope","matchError","NoTrashMailboxConfiguredError","getName","showMoreActionOptions","showSnoozeOptions","closeMoreAndSnoozeOptions","unixTimestamp","onOpenMoveModal","onOpenEventModal","onCloseMoveModal","onOpenTagModal","onCloseTagModal","momentObject","millisecond","setCustomSnoozeDateTime","setCustomSnooze","onSnooze","onClick","ctrlKey","preventDefault","$junk","onToggleJunk","shiftKey","altKey","metaKey","answered","hasAttachments","isSnoozeDisabled","onUnSnooze","onArchive","onDelete","stopPropagation","onOpenEditAsNew","AddIcon","Envelope","IconDelete","IconFavorite","IconSelect","ShareIcon","refreshing","loadingMore","loadMoreButton","selection","lastToggledIndex","getPreference","sortedEnvelops","areAllSelectedRead","every","env","isAtLeastOneSelectedImportant","isAtLeastOneSelectedUnimportant","isAtLeastOneSelectedJunk","isAtLeastOneSelectedNotJunk","areAllSelectedFavorite","mailboxIds","Set","watch","newVal","oldVal","newIds","differenceWith","unselectAll","$off","isEnvelopeSelected","idx","markSelectedSeenOrUnseen","markSelectionImportant","markSelectionUnimportant","favoriteOrUnfavoriteAll","favFlag","nextEnvelopeToNavigate","isAllSelected","findIndex","selectedEnvelope","lastSelectedEnvelope","lastIndex","threadRootId","$router","query","quantity","setEnvelopeSelected","alreadySelected","splice","onEnvelopeSelectToggle","onEnvelopeSelectMultiple","min","end","forwardedMessages","n","number","markSelectionJunk","markSelectionNotJunk","isUnified","forwardSelectedAsAttachment","deleteAllSelected","numberOfLines","withAvatar","_m","AlertCircleIcon","autoMargin","reportUrl","endsWith","template","IssueTemplateBuilder","addEmptyStepsToReproduce","addExpectedActualBehaviour","addLogs","trace","reduce","acc","entry","function","line","stack","flattenError","render","encodeURIComponent","getReportUrl","EmptyMailboxSection","EmptyMailbox","EnvelopeList","Loading","LoadingSkeleton","mixins","isMobile","bus","paginate","initialPageSize","isPriorityInbox","loadingEnvelopes","loadingCacheInitialization","loadMailboxInterval","expanded","endReached","getEnvelopes","envelopesToShow","hasMessages","showLoadMore","loadEnvelopes","sync","onScroll","handleShortcut","setInterval","loadMailbox","destroyed","stopInterval","initializeCache","limit","MailboxLockedError","wait","MailboxNotCachedError","e","currentId","next","srcKey","showWarning","warn","init","propEq","loadMore","clearInterval","debouncedSearch","debouncePromise","NcMultiselect","NcDatetimePicker","NcActions","NcCheckboxRadioSwitch","Tune","Close","Magnify","debouncedSearchQuery","sendQueryEvent","autocompleteRecipients","selectedTags","moreSearchActions","searchInFrom","searchInTo","searchInCc","searchInBcc","searchInSubject","searchInMessageBody","searchFlags","filterChanged","entries","filterData","val","searchBody","_this$$store$getters$","bcc","item","prepareStart","prepareEnd","attachments","_search","word","encodeURI","unix","closeSearchModal","searchRecipients","results","uniqBy","resetFilter","prevQuery","_tag","NewMessageButtonHeader","AppContentDetails","welcomeMessage","_window$OC$theme$name","_window","cloudName","smileys","ContactSelectionStateEnum","freeze","new","existing","select","ButtonVue","UserBubble","Popover","IconReply","IconUser","IconClose","IconClipboard","IconDetails","IconCheck","loadingContacts","contactsWithEmail","autoCompleteContacts","selectedContact","newContactName","isContactPopoverOpen","avatarUrlAbsolute","location","protocol","host","selectableContacts","contact","contactsWithEmailComputed","additional","addButtonDisabled","navigator","clipboard","writeText","onClickReply","onClickOpenContactDialog","mail","findMatches","onClickAddToContact","newContact","mailAddr","contactName","addToContact","onAutocomplete","onClickCopyToClipboard","handler","Function","cals","original","$set","onImport","itineraryDateTime","dt","addIcalTimeProperty","icalEvent","itineraryDt","icalPropertyName","fromDateTimeString","setParameter","timezone","CalendarImport","messageId","reservationFor","time","canImport","getEndDateTime","handleImport","geo","latitude","longitude","cal","AirplaneIcon","ArrowIcon","departureTime","departureDate","arrivalTime","arrivalDate","flightNumber","airline","iataCode","reservation","reservationNumber","flightNr","depAirport","departureAirport","arrAirport","arrivalAirport","TrainIcon","departureDay","trainNumber","trainNr","depStation","departureStation","arrStation","arrivalStation","getUserCalendarsOnce","once","EventReservation","FlightReservation","TrainReservation","IconArrow","IconSave","IconDownload","onClickOutside","fileName","mime","mimeUrl","isImage","isCalendarEvent","canPreview","savingToCloud","loadingCalendars","showCalendarPopover","formatFileSize","calendarMenuEntries","action","importCalendar","boundariesElement","humanReadable","saveToCloud","getFilePickerBuilder","setMultiSelect","addMimeTypeFilter","setModal","setType","allowDirectories","build","pick","dest","saveAttachment","download","loadCalendars","closeCalendarPopover","MessageAttachment","Download","CloudDownload","ChevronDown","ChevronUp","visible","showPreview","attachmentImageURL","hasNextLine","isToggled","fileInfos","attachment","downloadUrl","source","basename","etag","hasPreview","fileid","previewableFileInfos","fileInfo","OCA","Viewer","mimetypes","moreThanOne","zipUrl","prevTop","$refs","$el","saveAll","picker","saveAttachments","downloadZip","showViewer","open","list","refInFor","count","hasMdnRequest","dispositionNotificationTo","mdnSent","mdnsent","sendMdn","commit","flag","MdnRequest","createDisplayContainer","senderAddress","scout","PrintScout","IconImage","IconDomain","fullHeight","hasBlockedContent","isSenderTrusted","_this$message$from$","domain","_this$sender","pop","beforeMount","onBeforePrint","iframeResizer","log","heightCalculationMethod","iframe","off","iFrameResizer","close","getIframeDoc","contentDocument","contentWindow","onMessageFrameLoad","iframeDoc","querySelectorAll","displayIframe","setProperty","node","display","innerHTML","staticStyle","onShowBlockedContent","onShowBlockedContentForDomain","scroll","regFirstParagraph","signature","enhancedBody","signatureSummaryAndBody","lines","signatureSummary","nl2br","removeMailtoPrefix","substr","isSameDay","getTimezoneFromDate","timezoneId","getReadableTimezoneName","AccountMultipleIcon","CalendarIcon","MapMarkerIcon","jsDate","setDate","attendees","attendee","getPropertyIterator","getAttendeeIterator","_attendee$commonName","commonName","isOrganizer","randomId","NEEDS_ACTION","ACCEPTED","TENTATIVE","DECLINED","findAttendee","vEvent","EventData","Button","CloseIcon","scheduling","commentFieldId","targetCalendarPickerId","showMoreOptions","existingEvent","existingEventFetched","targetCalendar","comment","currentUserPrincipalEmail","clonedCalendars","method","isRequest","isReply","isCancel","isExistingEvent","wasProcessed","existingParticipationStatus","attachedVCalendar","parser","getParserManager","getParserForFileType","parse","contents","getItemIterator","attachedVEvent","_this$attachedVCalend","_this$attachedVCalend2","existingVCalendar","existingVEvent","_this$existingVCalend","_this$existingVCalend2","eventIsInFuture","userIsAttendee","_attendee$participati","participationStatus","replyStatusMessage","_this$attachedVEvent","getAttendeeList","partStat","attendeeName","calendarsForPicker","_calendar$color","_calendar$displayname","currentUserPrivilegeSet","immediate","fetchExistingEvent","saveEventWithParticipationStatus","_this$targetCalendar","Parameter","Property","pLimit","calendarQuery","NS","IETF_CALDAV","attributes","children","flatten","accept","decline","acceptTentatively","Itinerary","MessageAttachments","MessageEncryptedBody","MessageHTMLBody","MessagePlainTextBody","Imip","LockOffIcon","htmlUrl","hasHtmlBody","html","plain","itineraries","_this$message$itinera","smime","isSigned","signatureIsValid","CalendarBlankIcon","InformationIcon","ReplyIcon","ReplyAllIcon","isSelected","withSelect","withShowSource","localMoreActionsOpen","snoozeActionsOpen","forwardMessages","_this$envelope$accoun","threadingFile","Base64","encode","inReplyTo","references","threadingFileName","onForward","reply","mode","onReply","onlySender","ConfirmModal","MessageLoadingSkeleton","MenuEnvelope","Moment","Message","LockIcon","LockPlusIcon","NcActionText","threadSubject","showListUnsubscribeConfirmation","unsubscribing","seenTimer","LOADING_BODY","LOADING_DONE","LOADING_MESSAGE","recomputeMenuSize","showSourceModal","rawMessage","inlineMenuSize","spaceToFill","clientWidth","floor","route","hasChangedSubject","cleanSubject","cleanThreadSubject","filterSubject","showSubline","junkFavoritePosition","smimeData","_this$message$smime","_this$message","smimeHeading","smimeMessage","fetchMessage","redrawMenuBar","scrollToCurrentEnvelope","$checkInterval","fetchItineraries","dkimValid","fetchDkim","hasDkimSignature","dkim","globalHeader","threadHeader","scrollTo","unsubscribe","mailto","unsubscribeMailto","paramString","encoded","decodeURIComponent","editorBody","isHtml","aliasId","inReplyToMessageId","sendAt","smimeEncrypt","smimeSign","onCloseEventModal","onOpenTaskModal","onCloseTaskModal","onCloseSourceModal","nativeOn","unsubscribeUrl","primary","onShowSourceModal","isOneClickUnsubscribe","unsubscribeViaOneClick","unsubscribeViaMailto","CreationIcon","ArrowDownIcon","brand","Theming","container","left","behavior","RecipientBubble","ThreadSummary","ThreadEnvelope","summaryLoading","errorMessage","expandedThreads","participantsToDisplay","resizeDebounced","debounce","updateParticipantsToDisplay","enabledThreadSummary","loadState","summaryText","summaryError","moreParticipantsString","threadParticipants","thread","getEnvelope","getEnvelopesByThreadRootId","currentMailbox","trashMailbox","getMailboxes","junkMailbox","limitEnvelopesToCurrentMailbox","mailboxesToIgnore","flatMap","showSummaryBox","resetThread","convertAxiosError","summarizeThread","avatarHeader","maxWidth","childrenWidth","fits","childNodes","toggleExpand","fetchThread","updateSummary","oldId","newId","getRandomMessageErrorMessage","texts","_error$response","participant","infiniteScroll","AppContent","AppContentList","IconInfo","Mailbox","NoMessageSelected","SectionTitle","SearchMessages","Thread","importantInfo","Vue","shortkeys","del","arch","prev","refresh","unseen","priorityImportantQuery","priorityOtherQuery","startMailboxTimer","unifiedAccount","UNIFIED_ACCOUNT_ID","unifiedInbox","UNIFIED_INBOX_ID","hasEnvelopes","appendToSearch","hasImportantEnvelopes","importantMessagesInitialPageSize","innerHeight","showThread","isThreadShown","handleMailto","saveStartMailbox","beforeUnmount","deleteMessage","onShortcut","hideMessage","_this$$route$params","stringToRecipients","detect","addressParser","address","onUpdateSearchQuery","header__button","modifiers","_this$message$to","_this$message$cc","avatarDisplayName","_this$recipients$0$la","_this$recipients$","_this$recipients$2","_this$recipients$0$em","_this$recipients$3","Send","OutboxAvatarMixin","recipientToString","Intl","ListFormat","getLanguage","failed","fromNow","UNDO_DELAY","openModal","sendMessageNow","OutboxMessageListItem","OutboxMessageContent","refreshInterval","isMessageShown","currentMessage","messages","fetchMessages","PencilIcon","ArrowExpandIcon","_this$composerMessage","composerMessage","_this$composerMessage2","_this$composerMessage3","indicatorDisabled","onShowComposer","Content","MailboxThread","Navigation","NewMessageModal","Outbox","ComposerSessionIndicator","hasComposerSession","accounts","activeAccount","_this$activeMailbox","activeMailbox","menu","buildMenu","connectionStatus","testAccountConnection","startMailboxId","firstAccount","firstMailbox","newMessageModal","onCloseMessageModal"],"sourceRoot":""}